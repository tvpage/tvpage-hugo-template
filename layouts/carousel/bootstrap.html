{{- partial "settings.html" . -}}
(function(){

	var bootstrap = {{ $.Scratch.Get "settings" | jsonify }};
	bootstrap.baseUrl = "{{ $.Site.BaseURL }}";
	bootstrap.templates = {
		carousel: '<div class="tvp-carousel-title"></div>' +
		'<div class="tvp-carousel-content"></div>' + 
		'<div class="tvp-carousel-arrow prev">' +
			'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">' +
				'<path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z" />' +
				'<path d="M0-.5h24v24H0z" fill="none" />' +
			'</svg>' +
		'</div>' +
		'<div class="tvp-carousel-arrow next">' +
	        '<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">' +
	            '<path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z" />' +
	            '<path d="M0-.25h24v24H0z" fill="none" />' +
	        '</svg>' +
	    '</div>',
	    "carousel-item": '<div data-id="{id}" class="tvp-video{className}">' +
        	'<div class="tvp-video-image" style="background-image:url({asset.thumbnailUrl})">' +
        		'<svg class="tvp-video-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100"></polygon></svg>' +
        		'<div class="tvp-video-image-overlay"></div></div>' +
        		'<div class="tvp-video-metadata tvp-clearfix"><div>Length: {mediaDuration}</div><div>Published: {publishedDate}</div></div>' +
        		'<p class="tvp-video-title">{title}</p>' +
    		'</div>',
	    modal: '<div id="tvp-modal-overlay-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal-overlay tvp-hidden"></div>' +
		'<div id="tvp-modal-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal tvp-hidden">' +
			'<div class="tvp-modal-wrapper">' +
	            '<div class="tvp-modal-content">' +
	                '<div id="tvp-modal-header-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal-header">' +
	                	'<div id="tvp-modal-close-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal-close">' +
		                    '<svg class="tvp-modal-close-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">' +
		                        '<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>' +
		                        '<path d="M0 0h24v24H0z"></path>' +
		                    '</svg>' +
	                    '</div>' +
	                    '<h4 id="tvp-modal-title-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal-title"></h4>' +
	                '</div>' +
	                '<div class="tvp-modal-body">' +
	                    '<div id="tvp-modal-iframe-holder-{{ ($.Scratch.Get "settings").name }}" class="tvp-modal-iframe-holder"></div>' +
	                '</div>' +
	            '</div>' +
	        '</div>' +
	    '</div>',
	    "modal-content": '<div id="{{ ($.Scratch.Get "settings").name }}" class="tvp-clearfix iframe-content">' +
	        '<div class="tvp-player-holder">' +
	            '<div class="tvp-player">' +
	                '<div id="tvp-player-el"></div>' +
	            '</div>' +
	        '</div>' +
	        '<div class="tvp-products-holder">' +
	            '<div class="tvp-products"></div>' +
	        '</div>' +
	    '</div>',
	    "modal-content-mobile": '<div id="{{ ($.Scratch.Get "settings").name }}" class="tvp-clearfix iframe-content">' +
	        '<div class="tvp-player-holder">' +
	            '<div class="tvp-player">' +
	                '<div id="tvp-player-el"></div>' +
	            '</div>' +
	        '</div>' +
	        '<div class="tvp-products">' +
	            '<div class="tvp-products-carousel"></div>' +
	        '</div>' +
	    '</div>'
	};
	
	bootstrap.css = {
		host: {{- (partial (printf "%s/host.css" .Type) .) -}},
		"host-custom": {{- (partial (printf "%s/host-custom.css" .Type) .) -}},
		carousel: {{- (partial (printf "%s/carousel.css" .Type) .) -}},
		modal: {{- (partial (printf "%s/modal.css" .Type) .) -}}
	};

	{{- (readFile "/themes/tvpage/static/carousel/index.js") | htmlUnescape | safeHTML -}}

}());