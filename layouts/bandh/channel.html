{{ $channel := index $.Site.Data.channels (printf "x%s" .Params.channelid ) }}
{{ $.Scratch.Add "channel" $channel }}
{{ $fileObj := index $.Site.Data.channelVideos (printf "x%s_page_1" $channel.id) }}
{{ if (isset $fileObj "data") }}
    {{ $.Scratch.Add "channelVideos" $fileObj.data }}
{{ else }}
    {{ $.Scratch.Add "channelVideos" "" }}
{{ end }}
{{$qty := (len $.Site.Data.channelVideos) }}
{{$numbers := (seq 0 $qty )}}
{{range $numbers}}
	{{ $working := . }}
	{{$page := index $.Site.Data.channelVideos (printf "x%s_page_%d" $channel.id $working  )}}
	{{ if (isset $page "data") }}
		{{ $.Scratch.Add "total" (len $page.data ) }}
	{{ end }}
{{end}}
{{ $channelVideosQty := $.Scratch.Get "total" }}
<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>{{ .Title }}</title>
    <meta name="description" content="{{ .Description }}">
    <meta name="keywords" content="{{ .Param "keywords"  }}">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <meta content="telephone=no" name="format-detection">
    <meta property="og:title" content="{{ .Title }}" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="{{ .Description }}" />
    <meta property="og:image" content="/{{ .Type }}/img/BHTV_landing.jpg" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:title" content="{{ .Title }}" />
    <meta property="twitter:description" content="{{ .Description }}" />
    <meta property="twitter:url" content="{{ .Permalink }}" />
    <meta property="twitter:image" content="/{{ .Type }}/img/BHTV_landing.jpg" />

    {{ partial  (printf "%s/dns-prefetch.html" .Type) .}}
    <link rel="canonical" href="{{ .Permalink }}" />
    <link rel="stylesheet" href="/{{ .Type }}/css/index.css">
    <link rel="icon" type="image/x-icon" href="/img/favicon.png">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
</head>
<body class="channel-page">
    {{ partial (printf "%s/header.html" .Type) .}}
    <div class="channel-poster-holder">
        <div class="channel-poster-desktop" style="background-image:url(/{{ .Type }}/img/channels-poster/{{ $channel.titleTextEncoded }}.jpg);"></div>
        <div class="channel-poster-mobile" style="background-image:url(/{{ .Type }}/img/channels/{{ $channel.titleTextEncoded }}.jpg);"></div>
        <div class="row clearfix">
            <div class="channel-details-text">
                <p class="channel-title">{{ $channel.titleTextEncoded }}</p>
                <p class="channel-quantity"><span class="channel-qty">{{ $.Scratch.Get "total" }}</span> Videos</p>
            </div>
            <a class="presented-holder">
                <div class="presented-ad">
                    <p class="presented-text">PRESENTED BY</p>
                    <div class="presented-img" style="background-image:url(/{{ .Type }}/img/{{ $channel.titleTextEncoded }}-adText.png);"></div>
                </div>
            </a>
        </div>
    </div>
    <div class="filter-wrapper">
        <div id="video-filters" class="row">
            <legend>Filter By:</legend>
            <div class="filter">
                <select id="filter-product-category" data-code="product_category" class="filter-select">
                    <option>product category</option>
                </select>
                <button class="filter-close"></button>
            </div>
            <div class="filter">
                <select id="filter-type-of-video" data-code="type_of_video" class="filter-select">
                    <option>type of video</option>
                </select>
                <button class="filter-close"></button>
            </div>
            <div class="reset-filter">
                Reset
            </div>
        </div>
    </div>
    <div class="row clearfix">
      <div id="breadcrumbs" class="breadcrumbs">
        <div class="inline-block" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
          <a class="breadcrumb-link" href="/" itemprop="url">
            <span itemprop="title">Home</span>
          </a>
        </div>
        <span class="separator on">&#8250;</span>
        <div id="breadcrumb-1" data-channel-id="{{ .Params.channelid }}" class="inline-block" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
          <a class="breadcrumb-link on" href="{{ .Params.canonical }}" itemprop="url">
            <span itemprop="title">{{ .Title }}</span>
          </a>
        </div>
      </div>
    </div>
    <div id="playback">
        <div class="channel-videos">
            <div id="playback-row-container" class="loadable-container">
                {{ partial (printf "%s/channel-videos.html" .Type) .}}
            </div>
            <div class="row">
                <div class="load-more-row">
                    <div id="load-more-videos" class="load-more"><p>LOADING...</p></div>
                </div>
            </div>
        </div>
        <div class="relative row channel-spinner hidden">
            <div class="channel-spinner-wrapper">
                <img class="channel-spinner-gif" src="data:image/gif;base64,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">
            </div>
        </div>
        <div class="channel-search-results hidden"></div>
        <div class="relative row channel-search-no-results hidden">
            <div class="no-results-notice">
                <h2>No Results</h2>
                <p>We could not find any results with: </p>
            </div>
        </div>
    </div>
    {{ partial (printf "%s/footer.html" .Type) .}}
    <script type="text/template" id="resultTemplate">
        <div id="video-<%= id %>" class="video inactive" data-id="<%= id %>" data-title="<%= title %>" data-url="<%= url %>">
            <a href="<%= url %>" title="<%= title %>">
                <div class="video-img-holder">
                    <div class="video-img" style="background-image:url(<%= asset.thumbnailUrl %>);"></div>
                    <div class="video-img-overlay"></div>
                    <p class="video-duration">
                        <%= duration %>
                    </p>
                    <p class="video-play-label">PLAY VIDEO</p>
                    <p class="video-playing-label">NOW PLAYING</p>
                </div>
                <p class="video-title">
                    <%= title %>
                </p>
            </a>
        </div>
    </script>
    <script type="text/template" id="ad-banner-template">
        <div class="row clearfix ad-banner-holder">
            <a class="ad-banner" style="background-image:url(/{{ .Type }}/img/channels-poster/{title}-adImage.jpg)"></a>
            <a class="ad-banner-mobile" style="background-image:url(/{{ .Type }}/img/channels-poster/{title}-adImage-mobile.jpg)"></a>
        </div>
    </script>
    <script type='text/javascript'>
       TVSite = window.TVSite || {};
       TVSite.activeChannelVideosTotal = {{ $.Scratch.Get "total" }};
       TVSite.channelVideosData = JSON.parse({{ ($.Scratch.Get "channel") | jsonify }});
       TVSite.channelId =  TVSite.channelVideosData.id;
       TVSite.channelVideosPage = 1;
     </script>
    {{ partial (printf "%s/script.html" .Type) .}}
</body>
</html>
