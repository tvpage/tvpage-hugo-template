<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Solo Demo</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<section>
  <h2>Flavor A</h2>
  <iframe src="http://localhost:1313/tvpembed/83094489/"></iframe>
</section>

<section>
  <h2>Flavor B</h2>
  <style type="text/css">.tvpplayer { padding-bottom: 56.25%; height: 0; width: 100%; position: relative; }.tvpplayer-target { position: absolute; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; }.tvpplayer-play { position: absolute; width: 65px; height: 65px; background-color: #db5726; top: 0; bottom: 0; left: 0; right: 0; margin: auto; z-index: 999999; cursor: pointer; } .tvpplayer-play:after { content: " "; display: block; width: 0; height: 0; border-top: 15px solid transparent; border-bottom: 15px solid transparent; border-left: 29px solid white; position: absolute; left: 0; right: 0; top: 0; bottom: 0; margin: auto; }</style>
<div id="tvpembed-83094489">
  <div class="tvpplayer">
    <div id="tvpembed-83094489-target" class="tvpplayer-target"></div>
  </div>
</div>


<script>(function(d,t,id) {
  var s, as = d.getElementsByTagName(t)[0];
  if (d.getElementById(id)) return;
  s = d.createElement(t); s.id = id;
  s.src = "//a.tvpage.com/tvpa.min.js";
  as.parentNode.insertBefore(s, as);
}(document, 'script', 'tvpage-analytics'));</script>


<script>(function(d,t,id) {
  var s, as = d.getElementsByTagName(t)[0];
  if (d.getElementById(id)) return;
  s = d.createElement(t); s.id = id;
  s.src = "http://localhost:1313/solo/player-debug.js";
  as.parentNode.insertBefore(s, as);
}(document, 'script', 'tvpage-player'));</script>

<script>;(function(){
  var putButtonOverlay = function(inst){
    var ele = document.createElement("div");
    ele.className = "tvpplayer-play";
    var selector = inst.options.DOMContainer.id;
    document.getElementById(selector).parentNode.insertBefore(ele, document.getElementById(selector).nextSibling).addEventListener('click', function(){
      this.remove();
      if(inst) inst.play();
    },false);
  };
  var asset = function(){
    var video = {"VIDEO_LENGTH":"SHORT","asset":{"author":"Ninja Coffee Bar","description":"Take advantage of the Ninja Coffee Bar™ brewer’s Over-Ice Brew by using the right amount of the right ice. \n\nFor more information, visit http://bit.ly/2cQl07J","mediaDuration":26,"prettyDuration":"00:00:26","thumbnailUrl":"https://i.ytimg.com/vi/mNUykALc_5Y/hqdefault.jpg","title":"Perfecting your Iced Coffee","type":"youtube","uploadDate":1.474983984e+09,"videoId":"mNUykALc_5Y","views":"884"},"category":"","date_created":"1474983984","date_modified":"1482179403","description":"Take advantage of the Ninja Coffee Bar™ brewer’s Over-Ice Brew by using the right amount of the right ice. \n\nFor more information, visit http://bit.ly/2cQl07J","duration":26,"entityIdChild":"83094489","entityIdParent":"66133905","entityType":"1","id":"83094489","loginId":"1758799","referenceId":"mNUykALc_5Y","relationId":"4885616","settings":"","sortOrder":"1","sourceId":"4","status":"approved","tags":"","title":"Perfecting your Iced Coffee","titleTextEncoded":"Perfecting-your-Iced-Coffee","transcripts":"","visibility":"1"} || false;
    if (!video || !video.asset) return console.log("no asset");
    var asset = video.asset;
    asset.analyticsObj = { vd: video.id, li: video.loginId, pg: video.parentId ? video.parentId : 0 };
    if (!asset.sources) asset.sources = [{ file: asset.videoId }];
    asset.type = asset.type || 'youtube';
    return asset;
  }();
  var mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  var checks = 0;
  (function libsPoller() {
    var deferred = setTimeout(function() {
      if ("undefined" === typeof window._tvpa || "undefined" === typeof window.TVPage) {
        if (++checks < 10) {
          libsPoller();
        } else { 
          console.log("reached checks limit"); 
        }
      } else {
        _tvpa.push(["config", { li: '1758799', gaDomain:"www.tvpage.tv", "logUrl": "\/\/api.tvpage.com\/v1\/__tvpa.gif"}]);
        _tvpa.push(["track","ci",{ li: '1758799'}]);
        var instance;
        new TVPage.player({
          divId: "tvpembed-83094489-target",
          controls: {
            active: true,
            seekBar: { progressColor: "#E57211" },
            floater: { removeControls: ["tvplogo","hd"], transcript:  false  }
          },
          poster: true,
          techOrder: 'html5,flash',
          analytics: { tvpa: false },
          apiBaseUrl: '//app.tvpage.com',
          swf: '//d2kmhr1caomykv.cloudfront.net/player/assets/tvp/tvp-1.8.4-flash.swf',
          onReady: function(e, player){
            instance = player;
            var resize = function(){instance.resize(instance.options.DOMContainer.clientWidth, instance.options.DOMContainer.clientHeight);};
            resize();
            window.onresize = resize;
            instance.options.DOMContainer.getElementsByClassName('tvp-progress-bar')[0].style["background-color"] = instance.options.controls.seekBar.progressColor;
            
            if(mobile || ! true ){
              instance.cueVideo(asset);
              if (asset.type == 'mp4') putButtonOverlay(instance);
            }else{
              instance.loadVideo(asset);
            }
          },
          onStateChange: function(e){
            if("undefined" !== typeof e && "tvp:media:videoended" == e){
              if(mobile || ! true ){
                instance.cueVideo(asset);
                if (asset.type == 'mp4') putButtonOverlay(instance);
              }else{
                instance.loadVideo(asset);
              }         
            }
          }
        });
      }
    }, 300);
  })();

}());</script>
</section>

<section>
  <h2>Flavor C</h2>
  <iframe src="http://localhost:1313/tvpembed/83094487/"></iframe>
</section>

<section>
  <h2>Flavor D</h2>
  <style type="text/css">.tvpplayer { padding-bottom: 56.25%; height: 0; width: 100%; position: relative; }.tvpplayer-target { position: absolute; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; }.tvpplayer-play { position: absolute; width: 65px; height: 65px; background-color: #db5726; top: 0; bottom: 0; left: 0; right: 0; margin: auto; z-index: 999999; cursor: pointer; } .tvpplayer-play:after { content: " "; display: block; width: 0; height: 0; border-top: 15px solid transparent; border-bottom: 15px solid transparent; border-left: 29px solid white; position: absolute; left: 0; right: 0; top: 0; bottom: 0; margin: auto; }</style>
  <div id="tvpembed-83094487">
    <div class="tvpplayer">
      <div id="tvpembed-83094487-target" class="tvpplayer-target"></div>
    </div>
  </div>
  <script>(function(d,t,id) {
    var s, as = d.getElementsByTagName(t)[0];
    if (d.getElementById(id)) return;
    s = d.createElement(t); s.id = id;
    s.src = "//a.tvpage.com/tvpa.min.js";
    as.parentNode.insertBefore(s, as);
  }(document, 'script', 'tvpage-analytics'));</script>
  <script>(function(d,t,id) {
    var s, as = d.getElementsByTagName(t)[0];
    if (d.getElementById(id)) return;
    s = d.createElement(t); s.id = id;
    s.src = "http://localhost:1313/solo/player-debug.js";
    as.parentNode.insertBefore(s, as);
  }(document, 'script', 'tvpage-player'));</script>
  <script type="text/javascript">
    window.__TVPage__ = window.__TVPage__ || {};
    __TVPage__.config = __TVPage__.config || [];
    __TVPage__.config.push(
      {
        id: "tvpembed-83094487",
        loginid: "1758799",
        channel:{
          id: "84956291",
          parameters: {
            referenceId: "02,03",
            category_id_1: "123",
            category_id_2: "123"
          }
        },
        playback:{
          settings: {"autonext":true,"autoplay":true,"progresscolor":"#E57211","removecontrols":["tvplogo","hd"],"transcript":false,"version":"1.8.4","videoid":"83094487"}
        }
      }
    );
    (function(d) {
      var s = d.createElement('script');
      s.src = '//localhost:1313/solo/lib.min.js';
      d.body.appendChild(s);
    })(document);
  </script>
</section>

</body>
</html>