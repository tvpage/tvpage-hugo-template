!function(e,t){function a(a){var s=function(){},v=e.DEBUG?".css":".min.css",p="static",m=a.getAttribute("data-id");d(e,"__TVPage__")&&d(__TVPage__,"config")&&d(__TVPage__.config,m)&&d(__TVPage__.config[m],"channel")&&d(__TVPage__.config[m].channel,"id")&&(p="dynamic");var h=a.getAttribute("data-domain"),f=a.getAttribute("class").split("-").pop();typeStaticPath=h+"/"+f+(e.DEBUG?"/":"/dist/"),jsPath=typeStaticPath+"js/",mobileJsPath=jsPath+"mobile/";var u={dev:[jsPath+"libs/utils.js",jsPath+"grid.js",jsPath+"index.js"],prod:[jsPath+"scripts.min.js"]},g={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"vendor/jquery.js",jsPath+"libs/utils.js",jsPath+"libs/analytics.js",jsPath+"libs/player.js",mobileJsPath+"modal/index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",h+"/"+f+"/js/vendor/jquery.js",jsPath+(i?"mobile/":"")+"modal/scripts.min.js"]},j={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"libs/utils.js",jsPath+"libs/analytics.js",jsPath+"libs/player.js",jsPath+"modal/index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",h+"/"+f+"/dist/js/modal/scripts.min.js"]},y={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"libs/analytics.js",jsPath+"libs/player.js",jsPath+"index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"scripts.min.js"]};return s[m]={},s.run=function(){function _(){var e=a.href;-1==navigator.userAgent.indexOf("MSIE")?B.src=e:B.location=e}a.insertAdjacentHTML("beforebegin",'<div id="'+m+'-holder" class="tvp-iframe-holder"></div>');var b=t.getElementById(m+"-holder"),P=a.getAttribute("data-embedmethod")||"iframe",E=e.DEBUG?"dev":"prod",w=t.createElement("link");w.rel="stylesheet";var T=typeStaticPath;if(T+="css/"+(i?"mobile/":"")+"host"+v,w.href=T,n(w),b.classList.add(f),"iframe"===P){var B=l();if("solo"===f?B.onload=function(){var t=this;e.addEventListener("resize",o(function(){t.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[b.offsetWidth,b.offsetHeight]},"*")},50))}:"sidebar"===f&&e.addEventListener("message",function(e){if(e&&d(e,"data")&&d(e.data,"event")){var a=e.data.event;"tvp_sidebar:render"!==a&&"tvp_sidebar:grid_resize"!==a||(b.style.height=e.data.height);var n="tvp-iframe-modal_"+m;if("tvp_sidebar:modal_initialized"===a){t.getElementById(n).style.height=e.data.height;var o=s[m];t.getElementById(n).contentWindow.postMessage({event:"_tvp_sidebar_modal_data",data:o.data,selectedVideo:o.selectedVideo,runTime:o.runTime},"*")}if("tvp_sidebar:modal_resized"===a&&(t.getElementById(n).style.height=e.data.height),"tvp_sidebar:player_next"===a&&(t.querySelector(".tvp-modal-title").innerHTML=e.data.next.assetTitle),"tvp_sidebar:video_click"===a){var l=t.createDocumentFragment(),p=t.createElement("div");p.classList.add("tvp-modal-overlay"),l.appendChild(p);var u=t.createElement("div");u.classList.add("tvp-modal");var y=e.data,_=y.selectedVideo||{};s[m]=s[m]||{},s[m]={data:y.videos||[],selectedVideo:_,runTime:y.runTime||__TVPage__},u.innerHTML='<div class="tvp-modal-wrapper"><div class="tvp-modal-content"><div class="tvp-modal-header"><svg class="tvp-modal-close" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg><h4 class="tvp-modal-title">'+_.title+'</h4></div><div class="tvp-modal-body"><iframe id="tvp-iframe-modal_'+m+'" src="about:blank"allowfullscreen frameborder="0" scrolling="no" class="tvp-iframe-modal"></iframe></div></div></div>',l.appendChild(u);var P=l.querySelector(".tvp-modal-close"),w=function(){P.removeEventListener("click",w,!1),[u,p,P].forEach(function(e){r(e)})};P.addEventListener("click",w);var T=l.querySelector(".tvp-iframe-modal");t.body.appendChild(l),T.onload=function(){if(i){var e=this;t.addEventListener("orientationchange",function(){setTimeout(function(){var t=e.parentNode;e.contentWindow&&e.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[t.offsetWidth,Math.floor(t.offsetWidth*(9/16))]},"*")},100)})}};var B=T.contentWindow.document,S='<div id="'+m+'" class="tvp-clearfix iframe-content">';S+=i?'<div class="tvp-player"><div id="tvp-player-el"><svg class="tvp-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100" fill="#e57211"></polygon></svg></div></div><div class="tvp-products"><div class="tvp-products-carousel"></div></div>':'<div class="tvp-player-holder"><div class="tvp-player"><div id="tvp-player-el"></div></div></div><div class="tvp-products-holder"><div class="tvp-products"><a class="tvp-product"></a><a class="tvp-product"></a><a class="tvp-product"></a></div></div>',S+="</div>";var k=j[E];i&&(k=g[E]);var L=[typeStaticPath+"css/"+(i?"mobile":"")+"/modal/styles"+v];i&&(L=L.concat(h+"/"+f+"/css/vendor/slick.css")),B.open().write(c({domain:h,id:m,html:S,js:k,css:L})),B.close()}}}),b.appendChild(B),"dynamic"===p){var S=B.contentWindow.document;S.open().write(c({js:function(){var e;return"solo"===f?e=y[E]:"sidebar"===f&&(e=u[E]),e}(),css:[typeStaticPath+"css/styles"+v],className:p,domain:h,id:m})),S.close()}else setTimeout(_,5)}},s.run(),s}function s(){for(;p>0;){var e=v[p-1];a(v[p-1]),r(e),p--}}e.DEBUG&&console.debug("startTime = "+performance.now());var i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=function(e,t){return"undefined"!=typeof e[t]},n=function(e){(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(e)},r=function(e){e&&e.parentNode.removeChild(e)},o=function(e,t,a){var s;return function(){var i=this,d=arguments,n=function(){s=null,a||e.apply(i,d)},r=a&&!s;clearTimeout(s),s=setTimeout(n,t),r&&e.apply(i,d)}},l=function(){var e=t.createElement("iframe");return e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.classList.add("tvp-iframe"),e},c=function(t){var a='<head><base target="_blank" /></head><body class="'+(t.className||"")+'" data-domain="'+(t.domain||"")+'" data-id="'+(t.id||"")+"\" onload=\"var doc = document, head = doc.getElementsByTagName('head')[0],addScript = function(src){ var script = doc.createElement('script');script.src=src;doc.body.appendChild(script);};addCSSLink = function(href){ var link = doc.createElement('link');link.type='text/css';link.rel='stylesheet';link.href=href;head.appendChild(link);};window.DEBUG="+(e.DEBUG||0)+";";if(t.js&&t.js.length)for(var s=t.js,i=0;i<s.length;i++)a+="addScript('"+s[i]+"');";if(t.css&&t.css.length)for(var d=t.css,i=0;i<d.length;i++)a+="addCSSLink('"+d[i]+"');";return a+='">',t.html&&t.html.length&&(a+=t.html),a},v=t.querySelectorAll(".tvp-sidebar, .tvp-solo"),p=v.length;e.addEventListener("load",s)}(window,document);