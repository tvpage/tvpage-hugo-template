!function(a,b){function l(l){var m=function(){},n=a.DEBUG?".css":".min.css",o="static",p=l.getAttribute("data-id");e(a,"__TVPage__")&&e(__TVPage__,"config")&&e(__TVPage__.config,p)&&e(__TVPage__.config[p],"channel")&&e(__TVPage__.config[p].channel,"id")&&(o="dynamic");var q=l.getAttribute("data-domain"),r=l.getAttribute("class").split("-").pop();typeStaticPath=q+"/"+r+(a.DEBUG?"/":"/dist/"),jsPath=typeStaticPath+"js/";var s={dev:[jsPath+"libs/utils.js",jsPath+"grid.js",jsPath+"index.js"],prod:[jsPath+"scripts.min.js"]},t={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"libs/analytics.js",jsPath+"libs/player.js",jsPath+"index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"scripts.min.js"]};return m[p]={},m.run=function(){function A(){var a=l.href;-1==navigator.userAgent.indexOf("MSIE")?y.src=a:y.location=a}l.insertAdjacentHTML("beforebegin",'<div id="'+p+'-holder" class="tvp-iframe-holder"></div>');var u=b.getElementById(p+"-holder"),v=l.getAttribute("data-embedmethod")||"iframe",w=b.createElement("link");w.rel="stylesheet";var x=typeStaticPath;if(x+="css/"+(d?"mobile/":"")+"host"+n,w.href=x,f(w),u.classList.add(r),"iframe"===v){var y=i();if("solo"===r?y.onload=function(){var b=this;a.addEventListener("resize",h(function(){b.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[u.offsetWidth,u.offsetHeight]},"*")},50))}:"sidebar"===r&&a.addEventListener("message",function(c){if(c&&e(c,"data")&&e(c.data,"event")){var f=c.data.event;if("tvp_sidebar:render"!==f&&"tvp_sidebar:grid_resize"!==f||(u.style.height=c.data.height),"tvp_sidebar:video_click"===f){var i=c.data,l=i.selectedVideo||{},o=(i.runTime||__TVPage__).config[p];m[p]=m[p]||{},m[p]={data:i.videos||[],selectedVideo:l,runTime:o};var s=b.createDocumentFragment(),t=b.createElement("div");t.classList.add("tvp-modal-overlay"),s.appendChild(t);var v=b.createElement("div");v.classList.add("tvp-modal"),v.innerHTML='<div class="tvp-modal-wrapper"><div class="tvp-modal-content"><div class="tvp-modal-header"><svg class="tvp-modal-close" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg><h4 class="tvp-modal-title">'+l.title+'</h4></div><div class="tvp-modal-body"><iframe id="tvp-iframe-modal_'+p+'" src="about:blank"allowfullscreen frameborder="0" scrolling="no" class="tvp-iframe-modal"></iframe></div></div></div>',s.appendChild(v);var w=s.querySelector(".tvp-modal-close"),x=function(){w.removeEventListener("click",x,!1),[v,t,w].forEach(function(a){g(a)})};w.addEventListener("click",x);var y=s.querySelector(".tvp-iframe-modal");b.body.appendChild(s);var z=y.contentWindow.document,A='<div id="'+p+'" class="tvp-clearfix iframe-content">';A+=d?'<div class="tvp-player"><div id="tvp-player-el"></div></div><div class="tvp-products"><div class="tvp-products-carousel"></div></div>':'<div class="tvp-player-holder"><div class="tvp-player"><div id="tvp-player-el"></div></div></div><div class="tvp-products-holder"><div class="tvp-products"><a class="tvp-product"></a><a class="tvp-product"></a><a class="tvp-product"></a></div></div>',A+="</div>",z.open().write(k({domain:q,id:p,html:A,js:j(q,o.playerVersion),css:[typeStaticPath+"css/"+(d?"mobile":"")+"/modal/styles"+n,d?q+"/"+r+"/css/vendor/slick.css":""].filter(Boolean)})),z.close()}var B="tvp-iframe-modal_"+p;if("tvp_sidebar:modal_initialized"===f){var C=m[p],y=b.getElementById(B);y.contentWindow&&y.contentWindow.postMessage({event:"_tvp_sidebar_modal_data",data:C.data,selectedVideo:C.selectedVideo,runTime:C.runTime},"*"),a.addEventListener("onorientationchange"in a?"orientationchange":"resize",h(function(){setTimeout(function(){var a=b.getElementById(B);if(a.contentWindow&&a.parentNode){var c=a.parentNode;a.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[c.offsetWidth,Math.floor(c.offsetWidth*(9/16))]},"*")}},100)},50),!1)}"tvp_sidebar:modal_resized"===f&&(b.getElementById(B).style.height=c.data.height),"tvp_sidebar:player_next"===f&&(b.querySelector(".tvp-modal-title").innerHTML=c.data.next.assetTitle)}}),u.appendChild(y),"dynamic"===o){var z=y.contentWindow.document;z.open().write(k({js:function(){var a;return"solo"===r?a=t[c]:"sidebar"===r&&(a=s[c]),a}(),css:[typeStaticPath+"css/styles"+n],className:o,domain:q,id:p})),z.close()}else setTimeout(A,5)}},m.run(),m}function o(){for(;n>0;){var a=n-1,b=m[a];new l(m[a]),g(b),n--}}a.DEBUG&&console.debug("startTime = "+performance.now());var c=a.DEBUG?"dev":"prod",d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=function(a,b){return"undefined"!=typeof a[b]},f=function(a){(b.getElementsByTagName("head")[0]||b.getElementsByTagName("body")[0]).appendChild(a)},g=function(a){a&&a.parentNode.removeChild(a)},h=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},i=function(){var a=b.createElement("iframe");return a.setAttribute("allowfullscreen",""),a.setAttribute("frameborder","0"),a.setAttribute("scrolling","no"),a.classList.add("tvp-iframe"),a},j=function(a,b){var e=["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-"+(b||"1.8.4")+"-min.js",d?a+"/sidebar/js/vendor/jquery.js":""];if("dev"===c){var f=a+"/sidebar/js";e=e.concat([f+"/libs/utils.js",f+"/libs/analytics.js",f+"/libs/player.js",f+(d?"/mobile":"")+"/modal/index.js"])}else e=e.concat([a+"/sidebar/dist/js"+(d?"/mobile":"")+"/modal/scripts.min.js"]);return e.filter(Boolean)},k=function(b){var c='<head><base target="_blank" /></head><body class="'+(b.className||"")+'" data-domain="'+(b.domain||"")+'" data-id="'+(b.id||"")+"\" onload=\"var doc = document, head = doc.getElementsByTagName('head')[0],addJS = function(s){ var sc = doc.createElement('script');sc.src=s;doc.body.appendChild(sc);};addCSS = function(h){ var l = doc.createElement('link');l.type='text/css';l.rel='stylesheet';l.href=h;head.appendChild(l);};window.DEBUG="+(a.DEBUG||0)+";",d=b.js||[];if(d&&d.length)for(var e=0;e<d.length;e++)c+="addJS('"+d[e]+"');";var f=b.css||[];if(f&&f.length)for(var e=0;e<f.length;e++)c+="addCSS('"+f[e]+"');";c+='">';var g=b.html||"";return g&&g.length&&(c+=g),c},m=b.querySelectorAll(".tvp-sidebar, .tvp-solo"),n=m.length;a.addEventListener("load",o)}(window,document);