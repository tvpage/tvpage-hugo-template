!function(e,t){function a(a){var i=function(){},m=e.DEBUG?".css":".min.css",h="static",f=a.getAttribute("data-id");n(e,"__TVPage__")&&n(__TVPage__,"config")&&n(__TVPage__.config,f)&&n(__TVPage__.config[f],"channel")&&n(__TVPage__.config[f].channel,"id")&&(h="dynamic");var u=a.getAttribute("data-domain"),g=a.getAttribute("class").split("-").pop();typeStaticPath=u+"/"+g+(e.DEBUG?"/":"/dist/"),jsPath=typeStaticPath+"js/";var y={dev:[jsPath+"libs/utils.js",jsPath+"grid.js",jsPath+"index.js"],prod:[jsPath+"scripts.min.js"]},_={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"libs/analytics.js",jsPath+"libs/player.js",jsPath+"index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",jsPath+"scripts.min.js"]};return i[f]={},i.run=function(){function b(){var e=a.href;-1==navigator.userAgent.indexOf("MSIE")?T.src=e:T.location=e}a.insertAdjacentHTML("beforebegin",'<div id="'+f+'-holder" class="tvp-iframe-holder"></div>');var j=t.getElementById(f+"-holder"),E=a.getAttribute("data-embedmethod")||"iframe",w=t.createElement("link");w.rel="stylesheet";var P=typeStaticPath;if(P+="css/"+(d?"mobile/":"")+"host"+m,w.href=P,r(w),j.classList.add(g),"iframe"===E){var T=c();if("solo"===g?T.onload=function(){var t=this;e.addEventListener("resize",l(function(){t.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[j.offsetWidth,j.offsetHeight]},"*")},50))}:"sidebar"===g&&e.addEventListener("message",function(e){if(e&&n(e,"data")&&n(e.data,"event")){var a=e.data.event;"tvp_sidebar:render"!==a&&"tvp_sidebar:grid_resize"!==a||(j.style.height=e.data.height);var s="tvp-iframe-modal_"+f;if("tvp_sidebar:modal_initialized"===a){t.getElementById(s).style.height=e.data.height;var r=i[f];t.getElementById(s).contentWindow.postMessage({event:"_tvp_sidebar_modal_data",data:r.data,selectedVideo:r.selectedVideo,runTime:r.runTime},"*")}if("tvp_sidebar:modal_resized"===a&&(t.getElementById(s).style.height=e.data.height),"tvp_sidebar:player_next"===a&&(t.querySelector(".tvp-modal-title").innerHTML=e.data.next.assetTitle),"tvp_sidebar:video_click"===a){var l=e.data,c=l.selectedVideo||{},h=(l.runTime||__TVPage__).config[f];i[f]=i[f]||{},i[f]={data:l.videos||[],selectedVideo:c,runTime:h};var y=t.createDocumentFragment(),_=t.createElement("div");_.classList.add("tvp-modal-overlay"),y.appendChild(_);var b=t.createElement("div");b.classList.add("tvp-modal"),b.innerHTML='<div class="tvp-modal-wrapper"><div class="tvp-modal-content"><div class="tvp-modal-header"><svg class="tvp-modal-close" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg><h4 class="tvp-modal-title">'+c.title+'</h4></div><div class="tvp-modal-body"><iframe id="tvp-iframe-modal_'+f+'" src="about:blank"allowfullscreen frameborder="0" scrolling="no" class="tvp-iframe-modal"></iframe></div></div></div>',y.appendChild(b);var E=y.querySelector(".tvp-modal-close"),w=function(){E.removeEventListener("click",w,!1),[b,_,E].forEach(function(e){o(e)})};E.addEventListener("click",w);var P=y.querySelector(".tvp-iframe-modal");t.body.appendChild(y),P.onload=function(){if(d){var e=this;t.addEventListener("orientationchange",function(){setTimeout(function(){var t=e.parentNode;e.contentWindow&&e.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[t.offsetWidth,Math.floor(t.offsetWidth*(9/16))]},"*")},100)})}};var T=P.contentWindow.document,B='<div id="'+f+'" class="tvp-clearfix iframe-content">';B+=d?'<div class="tvp-player"><div id="tvp-player-el"></div></div><div class="tvp-products"><div class="tvp-products-carousel"></div></div>':'<div class="tvp-player-holder"><div class="tvp-player"><div id="tvp-player-el"></div></div></div><div class="tvp-products-holder"><div class="tvp-products"><a class="tvp-product"></a><a class="tvp-product"></a><a class="tvp-product"></a></div></div>',B+="</div>",T.open().write(p({domain:u,id:f,html:B,js:v(u,h.playerVersion),css:[typeStaticPath+"css/"+(d?"mobile":"")+"/modal/styles"+m,d?u+"/"+g+"/css/vendor/slick.css":""].filter(Boolean)})),T.close()}}}),j.appendChild(T),"dynamic"===h){var B=T.contentWindow.document;B.open().write(p({js:function(){var e;return"solo"===g?e=_[s]:"sidebar"===g&&(e=y[s]),e}(),css:[typeStaticPath+"css/styles"+m],className:h,domain:u,id:f})),B.close()}else setTimeout(b,5)}},i.run(),i}function i(){for(;h>0;){var e=m[h-1];a(m[h-1]),o(e),h--}}e.DEBUG&&console.debug("startTime = "+performance.now());var s=e.DEBUG?"dev":"prod",d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=function(e,t){return"undefined"!=typeof e[t]},r=function(e){(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(e)},o=function(e){e&&e.parentNode.removeChild(e)},l=function(e,t,a){var i;return function(){var s=this,d=arguments,n=function(){i=null,a||e.apply(s,d)},r=a&&!i;clearTimeout(i),i=setTimeout(n,t),r&&e.apply(s,d)}},c=function(){var e=t.createElement("iframe");return e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.classList.add("tvp-iframe"),e},v=function(e,t){var a=["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-"+(t||"1.8.4")+"-min.js",d?e+"/sidebar/js/vendor/jquery.js":""];if("dev"===s){var i=e+"/sidebar/js";a=a.concat([i+"/libs/utils.js",i+"/libs/analytics.js",i+"/libs/player.js",i+(d?"/mobile":"")+"/modal/index.js"])}else a=a.concat([e+"/sidebar/dist/js"+(d?"/mobile":"")+"/modal/scripts.min.js"]);return a.filter(Boolean)},p=function(t){var a='<head><base target="_blank" /></head><body class="'+(t.className||"")+'" data-domain="'+(t.domain||"")+'" data-id="'+(t.id||"")+"\" onload=\"var doc = document, head = doc.getElementsByTagName('head')[0],addJS = function(s){ var sc = doc.createElement('script');sc.src=s;doc.body.appendChild(sc);};addCSS = function(h){ var l = doc.createElement('link');l.type='text/css';l.rel='stylesheet';l.href=h;head.appendChild(l);};window.DEBUG="+(e.DEBUG||0)+";",i=t.js||[];if(i&&i.length)for(var s=0;s<i.length;s++)a+="addJS('"+i[s]+"');";var d=t.css||[];if(d&&d.length)for(var s=0;s<d.length;s++)a+="addCSS('"+d[s]+"');";a+='">';var n=t.html||"";return n&&n.length&&(a+=n),a},m=t.querySelectorAll(".tvp-sidebar, .tvp-solo"),h=m.length;e.addEventListener("load",i)}(window,document);