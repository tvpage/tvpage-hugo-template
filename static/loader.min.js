!function(e,t){function a(a){var i=function(){},m=e.DEBUG?".css":".min.css",f="static",u=a.getAttribute("data-id");n(e,"__TVPage__")&&n(__TVPage__,"config")&&n(__TVPage__.config,u)&&n(__TVPage__.config[u],"channel")&&n(__TVPage__.config[u].channel,"id")&&(f="dynamic");var h=a.getAttribute("data-domain"),g=a.getAttribute("class").replace("tvp-",""),_=h+"/"+g+(e.DEBUG?"/":"/dist/"),b=_+"js/",y={dev:[b+"libs/utils.js",b+"grid.js",b+"index.js"],prod:[b+"scripts.min.js"]},j={dev:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",b+"libs/analytics.js",b+"libs/player.js",b+"index.js"],prod:["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",b+"scripts.min.js"]};return i[u]={},i.run=function(){a.insertAdjacentHTML("beforebegin",'<div id="'+u+'-holder" class="tvp-iframe-holder"></div>');var b=t.getElementById(u+"-holder"),E=a.getAttribute("data-embedmethod")||"iframe",w=t.createElement("link");w.rel="stylesheet";var T=_;if(T+="css/"+(s?"mobile/":"")+"host"+m,w.href=T,r(w),b.classList.add(g),"iframe"===E){var B=c();if(-1!==g.indexOf("solo")?B.onload=function(){var t=this;e.addEventListener("resize",l(function(){t.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[b.offsetWidth,b.offsetHeight]},"*")},50))}:"sidebar"===g&&e.addEventListener("message",function(a){if(a&&n(a,"data")&&n(a.data,"event")){var d=a.data.event;if("tvp_sidebar:render"!==d&&"tvp_sidebar:grid_resize"!==d||(b.style.height=a.data.height),"tvp_sidebar:video_click"===d){var r=a.data,c=r.selectedVideo||{},f=n(r,"videos")?r.videos:[],y=(r.runTime||__TVPage__).config[u];i[u]=i[u]||{},i[u]={data:r.videos||[],selectedVideo:c,runTime:y};for(var j=t.createDocumentFragment(),E=0;E<f.length;E++){var w=f[E].title.length>62?f[E].title.substring(0,62)+"...":f[E].title;f[E].title=w}var T=t.createElement("div");T.classList.add("tvp-modal-overlay"),j.appendChild(T);var B=t.createElement("div");B.classList.add("tvp-modal"),B.innerHTML='<div class="tvp-modal-wrapper"><div class="tvp-modal-content"><div class="tvp-modal-header"><svg class="tvp-modal-close" height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg><div class="tvp-title"><h4 class="tvp-modal-title">'+c.title+'</h4><p>Related Products</p></div></div><div class="tvp-modal-body"><iframe id="tvp-iframe-modal_'+u+'" src="about:blank"allowfullscreen frameborder="0" scrolling="no" class="tvp-iframe-modal"></iframe></div></div></div>',j.appendChild(B);var L=j.querySelector(".tvp-modal-close"),x=function(){L.removeEventListener("click",x,!1),[B,T,L].forEach(function(e){o(e)})};L.addEventListener("click",x);var A=j.querySelector(".tvp-iframe-modal");t.body.appendChild(j);var M=A.contentWindow.document,S='<div id="'+u+'" class="tvp-clearfix iframe-content">';S+=s?'<div class="tvp-player"><div id="tvp-player-el"></div></div><div class="tvp-products"><div class="tvp-products-carousel"></div></div>':'<div class="tvp-player-holder"><div class="tvp-player"><div id="tvp-player-el"></div></div></div><div class="tvp-products-holder"><div class="tvp-products"><a class="tvp-product"></a><a class="tvp-product"></a><a class="tvp-product"></a></div></div>',S+="</div>",M.open().write(p({domain:h,id:u,html:S,js:v(h,y.playerVersion),css:[_+"css/"+(s?"mobile":"")+"/modal/styles"+m,s?h+"/"+g+"/css/vendor/slick.css":""].filter(Boolean)})),M.close()}var z="tvp-iframe-modal_"+u;if("tvp_sidebar:modal_initialized"===d){var V=i[u],A=t.getElementById(z);A.contentWindow&&A.contentWindow.postMessage({event:"_tvp_sidebar_modal_data",data:V.data,selectedVideo:V.selectedVideo,runTime:V.runTime},"*"),e.addEventListener("onorientationchange"in e?"orientationchange":"resize",l(function(){setTimeout(function(){var e=t.getElementById(z);if(e.contentWindow&&e.parentNode){var a=e.parentNode;e.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[a.offsetWidth,Math.floor(a.offsetWidth*(9/16))]},"*")}},100)},50),!1)}"tvp_sidebar:modal_resized"===d&&(t.getElementById(z).style.height=a.data.height),"tvp_sidebar:player_next"===d&&(t.querySelector(".tvp-modal-title").innerHTML=a.data.next.assetTitle)}}),b.appendChild(B),"dynamic"===f){var L=B.contentWindow.document;L.open().write(p({js:function(){var e;return-1!==g.indexOf("solo")?e=j[d]:"sidebar"===g&&(e=y[d]),e}(),css:[_+"css/styles"+m],className:f,domain:h,id:u})),L.close()}else setTimeout(function(){var e=a.href;-1==navigator.userAgent.indexOf("MSIE")?B.src=e:B.location=e},5)}},i.run(),i}function i(){for(;f>0;){var e=f-1,t=m[e];new a(m[e]),o(t),f--}}e.DEBUG&&console.debug("startTime = "+performance.now());var d=e.DEBUG?"dev":"prod",s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=function(e,t){var a=e;return t&&(a=e[t]),"undefined"!=typeof a},r=function(e){(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(e)},o=function(e){e&&e.parentNode.removeChild(e)},l=function(e,t,a){var i;return function(){var d=this,s=arguments,n=function(){i=null,a||e.apply(d,s)},r=a&&!i;clearTimeout(i),i=setTimeout(n,t),r&&e.apply(d,s)}},c=function(){var e=t.createElement("iframe");return e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.classList.add("tvp-iframe"),e},v=function(e,t){var a=["//a.tvpage.com/tvpa.min.js","//appcdn.tvpage.com/player/assets/tvp/tvp-"+(t||"1.8.4")+"-min.js",s?e+"/sidebar/js/vendor/jquery.js":""];if("dev"===d){var i=e+"/sidebar/js";a=a.concat([i+"/libs/utils.js",i+"/libs/analytics.js",i+"/libs/player.js",i+(s?"/mobile":"")+"/modal/index.js"])}else a=a.concat([e+"/sidebar/dist/js"+(s?"/mobile":"")+"/modal/scripts.min.js"]);return a.filter(Boolean)},p=function(t){var a='<head><base target="_blank" /></head><body class="'+(t.className||"")+'" data-domain="'+(t.domain||"")+'" data-id="'+(t.id||"")+"\" onload=\"var doc = document, head = doc.getElementsByTagName('head')[0],addJS = function(s){ var sc = doc.createElement('script');sc.src=s;doc.body.appendChild(sc);};addCSS = function(h){ var l = doc.createElement('link');l.type='text/css';l.rel='stylesheet';l.href=h;head.appendChild(l);};window.DEBUG="+(e.DEBUG||0)+";",i=t.js||[];if(i&&i.length)for(var d=0;d<i.length;d++)a+="addJS('"+i[d]+"');";var s=t.css||[];if(s&&s.length)for(var d=0;d<s.length;d++)a+="addCSS('"+s[d]+"');";a+='">';var n=t.html||"";return n&&n.length&&(a+=n),a},m=t.querySelectorAll(".tvp-sidebar, .tvp-solo, .tvp-solo-click, .tvp-solo-append"),f=m.length;e.addEventListener("load",i)}(window,document);