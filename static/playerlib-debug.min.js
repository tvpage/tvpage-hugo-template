!function(e,t){var n,i,t;e.define;!function(e){function r(e,t){return _.call(e,t)}function o(e,t){var n,i,r,o,a,s,l,u,c,d,f=t&&t.split("/"),p=m.map,h=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=(f=f.slice(0,f.length-1)).concat(e.split("/")),u=0;u<e.length;u+=1)if("."===(d=e[u]))e.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||h)&&p){for(u=(n=e.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(c=f.length;c>0;c-=1)if((r=p[f.slice(0,c).join("/")])&&(r=r[i])){o=r,a=u;break}if(o)break;!s&&h&&h[i]&&(s=h[i],l=u)}!o&&s&&(o=s,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function a(t,n){return function(){return p.apply(e,E.call(arguments,0).concat([t,n]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){y[e]=t}}function u(t){if(r(v,t)){var n=v[t];delete v[t],A[t]=!0,f.apply(e,n)}if(!r(y,t)&&!r(A,t))throw new Error("No "+t);return y[t]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return m&&m.config&&m.config[e]||{}}}var f,p,h,g,y={},v={},m={},A={},_=Object.prototype.hasOwnProperty,E=[].slice;h=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(n=u(r=o(r,t))),r?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(r=(i=c(e=o(e,t)))[0],e=i[1],r&&(n=u(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},g={require:function(e){return a(e)},exports:function(e){var t=y[e];return void 0!==t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:d(e)}}},f=function(t,n,i,o){var s,c,d,f,p,m,_=[],E=typeof i;if(o=o||t,"undefined"===E||"function"===E){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(f=h(n[p],o),"require"===(c=f.f))_[p]=g.require(t);else if("exports"===c)_[p]=g.exports(t),m=!0;else if("module"===c)s=_[p]=g.module(t);else if(r(y,c)||r(v,c)||r(A,c))_[p]=u(c);else{if(!f.p)throw new Error(t+" missing "+c);f.p.load(f.n,a(o,!0),l(c),{}),_[p]=y[c]}d=i?i.apply(y[t],_):void 0,t&&(s&&s.exports!==e&&s.exports!==y[t]?y[t]=s.exports:d===e&&m||(y[t]=d))}else t&&(y[t]=i)},n=i=p=function(t,n,i,r,o){return"string"==typeof t?g[t]?g[t](n):u(h(t,n).f):(t.splice||(m=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},"function"==typeof i&&(i=r,r=o),r?f(e,t,n,i):setTimeout(function(){f(e,t,n,i)},4),p)},p.config=function(e){return(m=e).deps&&p(m.deps,m.callback),p},n._defined=y,(t=function(e,t,n){t.splice||(n=t,t=[]),r(y,e)||r(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0}}(),t("requireLib",function(){}),t("etc/config",[],function(){return{debug:!1,swf:"bin-debug/tvplayer.flash.swf",cdnUrl:"//cdnjs.tvpage.com",iconAssetPath:"/assets/tvplayer/img/ctrliconmatrix4.png",playOverlay:"/assets/tvplayer/img/playOverlay.png",pauseOverlay:"/assets/tvplayer/img/pauseOverlay.png",apiTranscript:"/api/videos/transcript"}}),t("core/TvpObject",[],function(){function e(e){"object"!=typeof e&&(e={}),this.options=e}return e.prototype={},e.prototype.constructor=e,e.prototype.getOptions=function(){return this.options},e.prototype.getOption=function(e){return this.options.hasOwnProperty(e)?this.options[e]:null},e.prototype.setOption=function(e,t){this.options[e]=t},e.prototype.get=function(e){return this.getOption(e)},e.prototype.set=function(e,t){return this.setOption(e,t)},e.prototype.toJson=function(){return this.options},e.prototype.fromJson=function(e){if("object"!=typeof e)return!1;for(var t in e)this.set(t,e[t])},e}),t("event/EventDispatcher",["core/TvpObject"],function(e){function t(){e.apply(this,arguments),this._callbacks={}}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1});var n=/\s+/;return t.prototype=new e,t.prototype.constructor=t,t.prototype.on=function(e,t,i){var r,o;if(!t)return this;for(e=e.split(n),r=this._callbacks||(this._callbacks={});o=e.shift();)(r[o]||(r[o]=[])).push(t,i);return this},t.prototype.off=function(e,t,i){var r,o,a,s;if(!(o=this._callbacks))return this;if(!(e||t||i))return this._callbacks={},this;for(e=e?e.split(n):_.keys(o);r=e.shift();)if((a=o[r])&&(t||i))for(s=a.length-2;s>=0;s-=2)t&&a[s]!==t||i&&a[s+1]!==i||a.splice(s,2);else delete o[r];return this},t.prototype.trigger=function(e,t){var i,r,o,a,s,l,u,c;if(!(r=this._callbacks))return this;for(c=[],e=e.split(n),a=1,s=arguments.length;a<s;a++)c[a-1]=arguments[a];for(;i=e.shift();){if((u=r.all)&&(u=u.slice()),(o=r[i])&&(o=o.slice()),o)for(a=0,s=o.length;a<s;a+=2)o[a].apply(o[a+1]||this,c);if(u)for(l=[i].concat(c),a=0,s=u.length;a<s;a+=2)u[a].apply(u[a+1]||this,l)}return this},t.prototype.dispatchEvent=function(e,t){this.trigger(e,t)},t}),t("event/EventMap",[],function(){return{ADMEDIA_PAUSE_REQUESTED:"tvp:media:admediapauserequested",ADMEDIA_RESUME_REQUESTED:"tvp:media:admediaresumerequested",ADMEDIA_DURATION:"tvp:media:admediaduration",PLAYER_ERROR:"tvp:error",MEDIA_READY:"tvp:media:ready",MEDIA_ERROR:"tvp:media:error",MEDIA_ERROR_FORBIDDEN:"tvp:media:errorforbidden",MEDIA_ERROR_HTML5FORBIDDEN:"tvp:media:errorhtml5forbidden",MEDIA_CCCLICK:"tvp:media:ccclick",MEDIA_LOADCAPTIONMP4:"tvp:media:loadcaptionmp4",MEDIA_LOADCAPTIONYT:"tvp:media:loadcaptionyt",MEDIA_VIDEO_CUED:"tvp:media:cued",MEDIA_VIDEO_ENDED:"tvp:media:videoended",MEDIA_VIDEO_PLAYING:"tvp:media:videoplaying",MEDIA_VIDEO_PAUSED:"tvp:media:videopaused",MEDIA_VIDEO_BUFFERING:"tvp:media:videobuffering",MEDIA_VIDEO_SEEK:"tvp:media:seek",MEDIA_DASHPLAYER:"tvp:media:dashplayer",TVPLAYER_VIDEO_LOAD:"tvplayer:video:load",TVP_RESIZE:"tvplayer:resize",TVPLAYER_VIDEO_CUED:"tvplayer:video:cued",TVP_VIDEO_VIEW:"tvp:video:view",TVP_VIDEO_BUFFER:"tvp:video:buffer",TVP_VIDEO_VIEWTIME:"tvp:video:viewtime",TVP_VIDEO_VIEW_25P:"tvp:video:view:25p",TVP_VIDEO_VIEW_50P:"tvp:video:view:50p",TVP_VIDEO_VIEW_75P:"tvp:video:view:75p",TVP_VIDEO_VIEW_100P:"tvp:video:view:100p"}}),t("api/Player",["event/EventDispatcher"],function(e){function t(){e.apply(this,arguments),this.player=null}return t.prototype=new e,t.prototype.constructor=t,t.prototype.load=function(){throw new Error("Must be implemented")},t.prototype.destroy=function(){try{this.player.destroy()}catch(e){}delete this.player},t.prototype.play=function(){return this.player.play()},t.prototype.pause=function(){return this.player.pause()},t.prototype.stop=function(){return this.player.stop()},t.prototype.volume=function(e){return this.player.volume(e)},t.prototype.mute=function(){return this.player.mute()},t.prototype.unmute=function(){return this.player.unmute()},t.prototype.isMuted=function(){return this.player.isMuted()},t.prototype.seek=function(e){return this.player.seek(e)},t.prototype.loadVideo=function(e){return this.player.loadVideo(e)},t.prototype.cueVideo=function(e){return this.player.cueVideo(e)},t.prototype.resize=function(e,t,n){return this.player.resize(e,t,n)},t.prototype.getVolume=function(){return this.player.getVolume()},t.prototype.getState=function(){return this.player.getState()},t.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},t.prototype.getDuration=function(){return this.player.getDuration()},t.prototype.getQuality=function(){return this.player.getQuality()},t.prototype.setQuality=function(e){return this.player.setQuality(e)},t.prototype.getQualityLevels=function(){return this.player.getQualityLevels()},t.prototype.getHeight=function(){return this.player.getHeight()},t.prototype.getWidth=function(){return this.player.getWidth()},t}),t("utils/DOMUtils",[],function(){function e(){}(e.prototype={}).constructor=e,e.prototype.createElement=function(e,t){var n=Object.prototype.hasOwnProperty,i=document.createElement(e||"div");for(var r in t)n.call(t,r)&&(-1!==r.indexOf("aria-")||"role"==r?i.setAttribute(r,t[r]):"classProperty"==r?i.className=t[r]:i[r]=t[r]);return i},e.prototype.addEventListener=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):(t=this.translateIE8Event(t),e.attachEvent(t,n,i))},e.prototype.translateIE8Event=function(e){return"on"+e},e.prototype.translateIE8Styles=function(e){for(var t in e)"backgroundColor"==t&&e[t].indexOf("rgba(0,0,0,")>=0&&(e.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#66000000,endColorstr=#66000000)",delete e[t]);return e};var t=null;return e.getInstance=function(){return null===t&&(t=new e),t},e.prototype.currentBrowser=function(e){"object"!=typeof e&&(e=navigator);var t,n={},i=e.userAgent,r=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(i)||[],n.browserType="IE",n.browserVersion=t[1]||"",n):"Chrome"===r[1]&&null!=(t=i.match(/\bOPR\/(\d+)/))?(n.browserType="Opera",n.browserVersion=t[1]||"",n):(r=r[2]?[r[1],r[2]]:[e.appName,e.appVersion,"-?"],null!=(t=i.match(/version\/(\d+)/i))&&r.splice(1,1,t[1]),n.browserType=r[0],n.browserVersion=r[1],n)},e.prototype.currentOS=function(e){var t="unknown OS";return"object"!=typeof e&&(e=navigator),-1!=e.platform.indexOf("Win")&&(t="Windows"),-1!=e.userAgent.indexOf("Windows NT 6.2")&&(t="Windows8"),-1!=e.platform.indexOf("Mac")&&(t="Mac"),-1!=e.userAgent.indexOf("iPhone")&&(t="iPhone"),-1!=e.userAgent.indexOf("iPod")&&(t="iPod"),-1!=e.userAgent.indexOf("iPad")&&(t="iPad"),-1!=e.userAgent.indexOf("Android")&&(t="Android"),-1!=e.platform.indexOf("Linux")&&(t="Linux"),t},e.prototype.isMobile=function(e){var t=null;return!e&&window&&window.navigator&&(e=window.navigator.userAgent),e&&"string"==typeof e&&(t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)),t},e.prototype.nl2br=function(e,t){var n=t||void 0===t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")},e.prototype.removeChild=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e.prototype.getQualityMap=function(){return{tiny:"144p",small:"240p",medium:"360p",large:"480p",hd720:"720p",hd1080:"1080p",hd1440:"1440p",hd2160:"2160p",highres:"4320p"}},e.prototype.getKey=function(e,t){for(var n in e)if(e[n]==t)return n;return null},e.prototype.isHD=function(e){return"720p"===e||"1080p"===e||"1440p"===e?"HD":"2160p"===e?"4K":"4320p"===e&&"8K"},e.prototype.positionMenu=function(e,t,n,i,r){i.classList.contains("tvp-scrollbar")&&i.classList.remove("tvp-scrollbar");var o=5*t,a=3*t;r.getDOMElement().clientHeight<250?e>a?(i.style.maxHeight="120px",e=120,i.classList.add("tvp-scrollbar")):i.style.maxHeight=e+"px":(i.style.maxHeight=o+"px",e>o&&(e=o,i.classList.add("tvp-scrollbar"))),i.style.top=-e-n+"px",i.style.display="none"},e.getInstance()}),t("api/PlayerState",[],function(){return{READY:1,UNSTARTED:2,ENDED:3,PLAYING:4,PAUSED:5,BUFFERING:6,IDLE:7}}),t("html5/media/YouTubeIframeAPI",["event/EventDispatcher","event/EventMap","utils/DOMUtils","api/PlayerState"],function(e,t,n,i){function r(t,n,i,r){e.call(this,t),this.wrapperElement=null,this.parentNode=n,this.domId="tvp_yt_iframe_"+Math.floor(1e3*Math.random()+1),this.player=null,this.model=i,this._overlay=null,this._overlayColor=t.ytOverlayColor||"black",this.initialVideo=r||{}}return r.prototype=new e,r.prototype.constructor=r,r.prototype.initialize=function(e){this._initWrapperElement(),this._initIframeAPI(),this.whenInit=e},r.prototype.getProviderId=function(){return"YouTubeIframeAPI"},r.prototype._initWrapperElement=function(){if(!this.parentNode)throw new Error("DOM Container not found");this.wrapperElement=n.createElement("div",{id:this.domId,className:"tvp_video_wrapper_youtube"});var e={allowfullscreen:"true",mozallowfullscreen:"true",webkitallowfullscreen:"true",type:"text/html",wmode:"transparent",frameborder:"0",modestbranding:"1"};for(var t in e)this.wrapperElement.setAttribute(t,e[t]);var i=this.get("width"),r=this.get("height");i&&r&&!isNaN(i)&&!isNaN(r)?(this.wrapperElement.style.width=i+"px",this.wrapperElement.style.height=r+"px"):(this.wrapperElement.style.width="0px",this.wrapperElement.style.height="0px"),this.parentNode.appendChild(this.wrapperElement)},r.prototype.dispatchEvent=function(e){var n;switch(n="object"==typeof e?e.data:e){case r.STATES.unstarted:break;case r.STATES.ended:this.triggerEvent(t.MEDIA_VIDEO_ENDED,{data:n});break;case r.STATES.playing:this.show(),this.triggerEvent(t.MEDIA_VIDEO_PLAYING,{data:n});break;case r.STATES.paused:this.getDuration()-this.getCurrentTime()>=1&&this.triggerEvent(t.MEDIA_VIDEO_PAUSED,{data:n});break;case r.STATES.buffering:this.triggerEvent(t.MEDIA_VIDEO_BUFFERING,{data:n});break;case r.STATES.cued:this.triggerEvent(t.MEDIA_VIDEO_CUED,{data:n})}},r.prototype.triggerEvent=function(e,t){this.trigger(e,t)},r.prototype.loadVideo=function(e,t){if(this.isPlayerLoaded()){var n=e.id;if(!n||n.length<=0){var i,r,o=e.sources,a=o.length;for(i=0;i<a&&(r=o[i],!(n=this.getId(r.file)).length);i++);}return this.setVolume(t.get("volume")),t.get("isMute")?this.player.mute():this.player.unMute(),this.player.loadVideoById(n)}},r.prototype.getId=function(e){if(!e)return!1;var t=e.split(/\?|\#\!/),n="";for(var i in t)t.hasOwnProperty(i)&&"v="==t[i].substr(0,2)&&(n=t[i].substr(2));return""==n&&(n=e.indexOf("/v/")>=0?e.substr(e.indexOf("/v/")+3):e.indexOf("youtu.be")>=0?e.substr(e.indexOf("youtu.be/")+9):e),n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?"))),n.indexOf("&")>-1&&(n=n.substr(0,n.indexOf("&"))),n},r.prototype.cueVideo=function(e,t){if(this.isPlayerLoaded()){var n=e.id;if(!n||n.length<=0){var i,r,o=e.sources;for(i=0;i<o.length&&(r=o[i],!(n=this.getId(r.file)).length);i++);}return this.setVolume(t.get("volume")),t.get("isMute")?this.player.mute():this.player.unMute(),this.player.cueVideoById(n)}},r.prototype.getQuality=function(){if(this.isPlayerLoaded()){var e=this.getAvailableQualityLevels();if(e&&"function"==typeof e.indexOf)return e.indexOf(this.getPlaybackQuality())}return-1},r.prototype.getPlaybackQuality=function(){return!!this.isPlayerLoaded()&&this.player.getPlaybackQuality()},r.prototype.setPlaybackQuality=function(e){if(this.isPlayerLoaded())if(this.player.getPlayerState()===r.STATES.playing){this.player.pauseVideo();var t=this.player.getCurrentTime();this.player.setPlaybackQuality(e),this.player.seekTo(t,!0),this.player.playVideo()}else this.player.setPlaybackQuality(e);return!1},r.prototype.getQualityLevels=function(){return this.getAvailableQualityLevels()},r.prototype.getAvailableQualityLevels=function(){return!!this.isPlayerLoaded()&&this.player.getAvailableQualityLevels()},r.prototype.play=function(){var e=!1;return this.isPlayerLoaded()&&(e=this.player.playVideo()),e},r.prototype.stop=function(){this.player&&this.player.stopVideo()},r.prototype.destroy=function(){return!!this.isPlayerLoaded()&&this.player.destroy()},r.prototype.isPlayerLoaded=function(){return null!=this.player&&"object"==typeof this.player},r.prototype.pause=function(){return!!this.isPlayerLoaded()&&this.player.pauseVideo()},r.prototype.mute=function(){return!!this.isPlayerLoaded()&&this.player.mute()},r.prototype.unmute=function(){return!!this.isPlayerLoaded()&&this.player.unMute()},r.prototype.isMuted=function(){return!(!this.isPlayerLoaded()||!this.player.hasOwnProperty("isMuted"))&&this.player.isMuted()},r.prototype.seek=function(e){return!!this.isPlayerLoaded()&&(this.trigger(t.MEDIA_VIDEO_SEEK,{data:e}),this.player.seekTo(e,!0))},r.prototype.volume=function(e){return this.setVolume(e)},r.prototype.setVolume=function(e){return!!this.isPlayerLoaded()&&this.player.setVolume(e)},r.prototype.getVolume=function(){return!!this.isPlayerLoaded()&&this.player.getVolume()},r.prototype.getCurrentTime=function(){return!!this.isPlayerLoaded()&&this.player.getCurrentTime()},r.prototype.getDuration=function(){return!!this.isPlayerLoaded()&&this.player.getDuration()},r.prototype.resize=function(e,t){return!(!(this.isPlayerLoaded()&&e&&t)||isNaN(e)||isNaN(t))&&(this.wrapperElement.style.width=e+"px",this.wrapperElement.style.height=t+"px",this.player.setSize(e,t))},r.prototype.getHeight=function(){return this.wrapperElement.style.height},r.prototype.getWidth=function(){return this.wrapperElement.style.width},r.prototype.show=function(){this.model.getActiveProvider().getProviderId()==this.getProviderId()&&(this.wrapperElement.style.display="block")},r.prototype.hide=function(){this.wrapperElement.style.display="none"},r.prototype.getState=function(){var e=-1;if(this.isPlayerLoaded())switch(this.player.getPlayerState()){case r.STATES.unstarted:e=i.READY;break;case r.STATES.ended:e=i.ENDED;break;case r.STATES.playing:e=i.PLAYING;break;case r.STATES.paused:e=i.PAUSED;break;case r.STATES.buffering:e=i.BUFFERING;break;case r.STATES.cued:}return e},r.prototype.handleOnReady=function(e){this.wrapperElement=document.getElementById(this.domId),this.trigger(t.MEDIA_READY,{data:e,type:"youtube"})},r.prototype.handleOnError=function(e){var n=t.MEDIA_ERROR;if(e.data)switch(e.data){case 150:n=t.MEDIA_ERROR_FORBIDDEN;break;case 5:n=t.MEDIA_ERROR_HTML5FORBIDDEN}this.trigger(n,{data:e})},r.prototype._setControls=function(){var e=n.currentOS();return"iPad"===e||"iPhone"===e||"iPod"===e?1:0},r.prototype._initIframeAPI=function(){var e=this,n=function(){YT.ready(function(){var n=new YT.Player(""+e.domId,{videoId:e.initialVideo.videoId,playerVars:{html5:1,enablejsapi:1,autoplay:1,showinfo:0,iv_load_policy:3,rel:0,wmode:"transparent",controls:e._setControls(),modestbranding:1,origin:window.location.protocol+"//"+window.location.hostname,cc_load_policy:1},events:{onStateChange:function(t){e.dispatchEvent(t)},onReady:function(t){e.player=n,e.whenInit(),e.handleOnReady(t)},onError:function(t){e.handleOnError(t)},onApiChange:function(){e.trigger(t.MEDIA_LOADCAPTIONYT,n)}}})})};if(window.YT&&"ready"in YT)n();else{var i=document.createElement("script");i.src="//www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n())}:i.onload=function(){n()}}},r.STATES={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5},r}),t("utils/BrowserUtils",["../core/TvpObject"],function(e){function t(t){e.call(this,t)}return t.prototype=new e,t.prototype.constructor=t,t.isBrowser=function(e){var t=!1;if(e){"string"==typeof e&&(e=[e]);for(var n in e)if(t="IE"==e[n]?!!this.detectIE():this.matchBrowser(e[n]))break}return t},t.matchBrowser=function(e,t){return"string"==typeof e&&(t||(t=window.navigator.userAgent),t.toLowerCase().indexOf(e.toLowerCase())>-1)},t.detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},t.isNativeTextTracksSupported=function(){var e=window.navigator.userAgent;return!(e.indexOf("MSIE ")>0)&&!(e.indexOf("Trident/")>0)},t}),function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof t&&t.amd)t("bluebird",[],n);else{var i;"undefined"!=typeof window?i=window:void 0!==e?i=e:"undefined"!=typeof self&&(i=self),i.Promise=n()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function r(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var l=e("./schedule"),u=e("./queue"),c=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){c.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},c.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?r.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=o,i.prototype.settlePromises=a),i.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},t.exports=i,t.exports.firstLineError=s},{"./queue":17,"./schedule":18,"./util":21}],2:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var u=n(o),c=new e(t);c._propagateFrom(this,1);var d=this._target();if(c._setBoundTo(u),u instanceof e){var f={promiseRejectionQueued:!1,promise:c,target:d,bindingPromise:u};d._then(t,a,void 0,c,f),u._then(s,l,void 0,c,f),c._setOnCancel(u)}else c._resolveCallback(d);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],3:[function(e,t,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(e){}return r},t.exports=r},{"./promise":15}],4:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),l.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),i=e("./es5").keys,r=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(l){var u=s._boundValue();e:for(var c=0;c<e.length;++c){var d=e[c];if(d===Error||null!=d&&d.prototype instanceof Error){if(l instanceof d)return r(a).call(u,l)}else if("function"==typeof d){var f=r(d).call(u,l);if(f===o)return f;if(f)return r(a).call(u,l)}else if(n.isObject(l)){for(var p=i(d),h=0;h<p.length;++h){var g=p[h];if(d[g]!=l[g])continue e}return r(a).call(u,l)}}return t}}}},{"./es5":10,"./util":21}],6:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function n(){var e=r.length-1;return e>=0?r[e]:void 0}var i=!1,r=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=r.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){return i?new t:void 0},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var r=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=r,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],7:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,t){return{promise:t}}function r(){return!1}function o(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+R.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?R.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function l(e){this._onCancelField=e}function u(){this._cancellationParent=void 0,this._onCancelField=void 0}function c(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function f(){this._trace=new D(this._peekContext())}function p(e,t){if(L(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=_(e);R.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),R.notEnumerableProp(e,"__stackCleaned__",!0)}}}function h(e,n,i){if(te.warnings){var r,o=new x(e);if(n)i._attachExtraTrace(o);else if(te.longStackTraces&&(r=t._peekContext()))r.attachExtraTrace(o);else{var a=_(o);o.stack=a.message+"\n"+a.stack.join("\n")}X("warning",o)||E(o,"",!0)}}function g(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function y(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function v(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(s=a;s>=0;--s){var l=i[s];if(t[r]!==l)break;t.pop(),r--}t=i}}function m(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||z.test(i),o=r&&J(i);r&&!o&&(B&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function A(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||z.test(i))break}return n>0&&(t=t.slice(n)),t}function _(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?A(e):["    (No stack trace)"],{message:n,stack:m(t)}}function E(e,t,n){if("undefined"!=typeof console){var i;if(R.isObject(e)){var r=e.stack;i=t+U(r,e)}else i=t+String(e);"function"==typeof N?N(i,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(i)}}function T(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){P.throwLater(e)}"unhandledRejection"===e?X(e,n,i)||r||E(n,"Unhandled rejection "):X(e,i)}function M(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():R.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+b(t)+">, no stack trace)"}function b(e){return e.length<41?e:e.substr(0,38)+"..."}function I(){return"function"==typeof ee}function C(e){var t=e.match($);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}function D(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ee(this,D),t>32&&this.uncycle()}var S,w,N,O=t._getDomain,P=t._async,x=e("./errors").Warning,R=e("./util"),L=R.canAttachTrace,k=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,j=/\((?:timers\.js):\d+:\d+\)/,F=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,z=null,U=null,B=!1,V=!(0==R.env("BLUEBIRD_DEBUG")||!R.env("BLUEBIRD_DEBUG")&&"development"!==R.env("NODE_ENV")),H=!(0==R.env("BLUEBIRD_WARNINGS")||!V&&!R.env("BLUEBIRD_WARNINGS")),Y=!(0==R.env("BLUEBIRD_LONG_STACK_TRACES")||!V&&!R.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=R.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(H||!!R.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),P.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){T("rejectionHandled",S,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),T("unhandledRejection",w,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return h(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=O();w="function"==typeof e?null===t?e:R.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=O();S="function"==typeof e?null===t?e:R.domainBind(t,e):void 0};var G=function(){};t.longStackTraces=function(){if(P.haveItemsQueued()&&!te.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!te.longStackTraces&&I()){var e=t.prototype._captureStackTrace,i=t.prototype._attachExtraTrace;te.longStackTraces=!0,G=function(){if(P.haveItemsQueued()&&!te.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=i,n.deactivateLongStackTraces(),P.enableTrampoline(),te.longStackTraces=!1},t.prototype._captureStackTrace=f,t.prototype._attachExtraTrace=p,n.activateLongStackTraces(),P.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return te.longStackTraces&&I()};var K=function(){try{if("function"==typeof CustomEvent){e=new CustomEvent("CustomEvent");return R.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!R.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return R.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!R.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),R.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!R.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),q=R.isNode?function(){return process.emit.apply(process,arguments)}:R.global?function(e){var t="on"+e.toLowerCase(),n=R.global[t];return!!n&&(n.apply(R.global,[].slice.call(arguments,1)),!0)}:function(){return!1},W={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},X=function(e){var t=!1;try{t=q.apply(null,arguments)}catch(e){P.throwLater(e),t=!0}var n=!1;try{n=K(e,W[e].apply(null,arguments))}catch(e){P.throwLater(e),n=!0}return n||t};t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&G()),"warnings"in e){var n=e.warnings;te.warnings=!!n,Q=te.warnings,R.isObject(n)&&"wForgottenReturn"in n&&(Q=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!te.cancellation){if(P.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=u,t.prototype._propagateFrom=c,t.prototype._onCancel=s,t.prototype._setOnCancel=l,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,Z=c,te.cancellation=!0}"monitoring"in e&&(e.monitoring&&!te.monitoring?(te.monitoring=!0,t.prototype._fireEvent=X):!e.monitoring&&te.monitoring&&(te.monitoring=!1,t.prototype._fireEvent=r))},t.prototype._fireEvent=r,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var Z=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},J=function(){return!1},$=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;R.inherits(D,Error),n.CapturedTrace=D,D.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(i=0;e>i;++i){var a=n[t[i].stack];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=i>0?t[i-1]:this;e-1>a?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,u=i-2;u>=0;--u)t[u]._length=l,l++;return}}}},D.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=_(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(m(r.stack.split("\n"))),r=r._parent;v(i),y(i),R.notEnumerableProp(e,"stack",g(n,i)),R.notEnumerableProp(e,"__stackCleaned__",!0)}};var ee=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():M(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,z=e,U=t;var n=Error.captureStackTrace;return J=function(e){return k.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return z=/@/,U=t,B=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(U=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?M(t):t.toString()},null):(z=e,U=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(N=function(e){console.warn(e)},R.isNode&&process.stderr.isTTY?N=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:R.isNode||"string"!=typeof(new Error).stack||(N=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var te={warnings:H,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&t.longStackTraces(),{longStackTraces:function(){return te.longStackTraces},warnings:function(){return te.warnings},cancellation:function(){return te.cancellation},monitoring:function(){return te.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return d},checkForgottenReturns:function(e,t,n,i,r){if(void 0===e&&null!==t&&Q){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=m(s),u=l.length-1;u>=0;--u){var c=l[u];if(!j.test(c)){var d=c.match(F);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(l.length>0)for(var f=l[0],u=0;u<s.length;++u)if(s[u]===f){u>0&&(a="\n"+s[u-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(p,!0,t)}},setBounds:function(e,t){if(I()){for(var n,i,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<r.length;++l)if(u=C(r[l])){n=u.fileName,a=u.line;break}for(l=0;l<o.length;++l){var u=C(o[l]);if(u){i=u.fileName,s=u.line;break}}0>a||0>s||!n||!i||n!==i||a>=s||(J=function(e){if(k.test(e))return!0;var t=C(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:h,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),h(n)},CapturedTrace:D,fireDomEvent:K,fireGlobalEvent:q}}},{"./errors":9,"./util":21}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();return this.caught(n,function(){return i})}}},{}],9:[function(e,t,n){"use strict";function i(e,t){function n(i){return this instanceof n?(d(this,"message","string"==typeof i?i:t),d(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return c(n,Error),n}function r(e){return this instanceof r?(d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(e)}var o,a,s=e("./es5"),l=s.freeze,u=e("./util"),c=u.inherits,d=u.notEnumerableProp,f=i("Warning","warning"),p=i("CancellationError","cancellation error"),h=i("TimeoutError","timeout error"),g=i("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=i("TypeError","type error"),a=i("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<y.length;++v)"function"==typeof Array.prototype[y[v]]&&(g.prototype[y[v]]=Array.prototype[y[v]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;g.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];t+=(i=r.join("\n"))+"\n"}return m--,t},c(r,Error);var A=Error.__BluebirdErrorTypes__;A||(A=l({CancellationError:p,TimeoutError:h,OperationalError:r,RejectionError:r,AggregateError:g}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:A,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:A.CancellationError,OperationalError:A.OperationalError,TimeoutError:A.TimeoutError,AggregateError:A.AggregateError,Warning:f}},{"./es5":10,"./util":21}],10:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function r(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return l.call(this,this.promise._target()._settledValue())}function s(e){return o(this,e)?void 0:(d.e=e,d)}function l(e){var i=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(i._boundValue()):l.call(i._boundValue(),e);if(void 0!==u){i._setReturnedNonUndefined();var f=n(u,i);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var p=new c("late cancellation observer");return i._attachExtraTrace(p),d.e=p,d}f.isPending()&&f._attachCancellationCallback(new r(this))}return f._then(a,s,void 0,this,void 0)}}}return i.isRejected()?(o(this),d.e=e,d):(o(this),e)}var u=e("./util"),c=t.CancellationError,d=u.errorObj;return i.prototype.isFinallyHandler=function(){return 0===this.type},r.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},i}},{"./util":21}],12:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t]}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":21}],13:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(r,a,"Promise.method",i),i._resolveFromSyncValue(r),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],c=arguments[2];l=a.isArray(u)?s(e).apply(c,u):s(e).call(c,u)}else l=s(e)();var d=i._popContext();return o.checkForgottenReturns(l,d,"Promise.try",i),i._resolveFromSyncValue(l),i},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":21}],14:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function r(e){var t;if(i(e)){(t=new s(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),r=0;r<n.length;++r){var a=n[r];u.test(a)||(t[a]=e[a])}return t}return o.markAsOriginatingFromRejection(e),e}var o=e("./util"),a=o.maybeWrapAsError,s=e("./errors").OperationalError,l=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(n,i){if(null!==e){if(n){var o=r(a(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(i);e=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(e,t,n){"use strict";t.exports=function(){function n(){}function i(e,t){if("function"!=typeof t)throw new m("expecting a function but got "+p.classString(t));if(e.constructor!==r)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function r(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==_&&(i(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new r(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,u=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new r.PromiseInspection(this._target())},d=function(e){return r.reject(new m(e))},f={},p=e("./util");l=p.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(r,"_getDomain",l);var h=e("./es5"),g=e("./async"),y=new g;h.defineProperty(r,"_async",{value:y});var v=e("./errors"),m=r.TypeError=v.TypeError;r.RangeError=v.RangeError;var A=r.CancellationError=v.CancellationError;r.TimeoutError=v.TimeoutError,r.OperationalError=v.OperationalError,r.RejectionError=v.OperationalError,r.AggregateError=v.AggregateError;var _=function(){},E={},T={},M=e("./thenables")(r,_),b=e("./promise_array")(r,_,M,d,n),I=e("./context")(r),C=(I.create,e("./debuggability")(r,I)),D=(C.CapturedTrace,e("./finally")(r,M)),S=e("./catch_filter")(T),w=e("./nodeback"),N=p.errorObj,O=p.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),r=0;for(n=0;t-1>n;++n){var o=arguments[n];if(!p.isObject(o))return d("expecting an object but got A catch statement predicate "+p.classString(o));i[r++]=o}return i.length=r,e=arguments[n],this.then(void 0,S(i,e,this))}return this.then(void 0,e)},r.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},r.prototype.then=function(e,t){if(C.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+p.classString(e);arguments.length>1&&(n+=", "+p.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},r.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},r.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+p.classString(e)):this.all()._then(e,void 0,void 0,E,void 0)},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},r.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},r.getNewLibraryCopy=t.exports,r.is=function(e){return e instanceof r},r.fromNode=r.fromCallback=function(e){var t=new r(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=O(e)(w(t,n));return i===N&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},r.all=function(e){return new b(e).promise()},r.cast=function(e){var t=M(e);return t instanceof r||((t=new r(_))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new m("expecting a function but got "+p.classString(e));return y.setScheduler(e)},r.prototype._then=function(e,t,n,i,o){var a=void 0!==o,s=a?o:new r(_),u=this._target(),c=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var d=l();if(0!=(50397184&c)){var f,h,g=u._settlePromiseCtx;0!=(33554432&c)?(h=u._rejectionHandler0,f=e):0!=(16777216&c)?(h=u._fulfillmentHandler0,f=t,u._unsetRejectionIsUnhandled()):(g=u._settlePromiseLateCancellationObserver,h=new A("late cancellation observer"),u._attachExtraTrace(h),f=t),y.invoke(g,u,{handler:null===d?f:"function"==typeof f&&p.domainBind(d,f),promise:s,receiver:i,value:h})}else u._addCallbacks(e,t,s,i,d);return s},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},r.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},r.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===f?void 0:void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return this[4*e-4+2]},r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=f),this._addCallbacks(t,n,i,r,null)},r.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=f),this._addCallbacks(n,i,r,o,null)},r.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:p.domainBind(r,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=i,"function"==typeof e&&(this[a+0]=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this[a+1]=null===r?t:p.domainBind(r,t))}return this._setLength(o+1),o},r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},r.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(u(),!1);var n=M(e,this);if(!(n instanceof r))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(u());var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;a>s;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var l=new A("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}},r.prototype._rejectCallback=function(e,t,n){var i=p.ensureErrorObject(e),r=i===e;if(!r&&!n&&C.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},r.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},r.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0==(65536&r)){i._pushContext();var o;t===E?n&&"number"==typeof n.length?o=O(e).apply(this._boundValue(),n):(o=N,o.e=new m("cannot .spread() a non-array: "+p.classString(n))):o=O(e).call(t,n);var a=i._popContext();0==(65536&(r=i._bitField))&&(o===T?i._reject(n):o===N?i._rejectCallback(o.e,!1):(C.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._settlePromise=function(e,t,i,o){var a=e instanceof r,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),i instanceof D&&i.isFinallyHandler()?(i.cancelPromise=e,O(t).call(i,o)===N&&e._reject(N.e)):t===c?e._fulfill(c.call(i)):i instanceof n?i._promiseCancelled(e):a||e instanceof b?e._cancel():i.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,i,o,e)):t.call(i,o,e):i instanceof n?i._isResolved()||(0!=(33554432&s)?i._promiseFulfilled(o,e):i._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(o):e._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,o=e.value;"function"==typeof t?n instanceof r?this._settlePromiseFromHandler(t,i,o,n):t.call(i,o,n):n instanceof r&&n._reject(o)},r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},r.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=u();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():y.settlePromises(this))}},r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?y.fatalError(e,p.isNode):void((65535&t)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},r.prototype._fulfillPromises=function(e,t){for(var n=1;e>n;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},r.prototype._rejectPromises=function(e,t){for(var n=1;e>n;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){return C.deprecated("Promise.defer","new Promise"),{promise:new r(_),resolve:o,reject:a}},p.notEnumerableProp(r,"_makeSelfResolutionError",u),e("./method")(r,_,M,d,C),e("./bind")(r,_,M,C),e("./cancel")(r,b,d,C),e("./direct_resolve")(r),e("./synchronous_inspection")(r),e("./join")(r,b,M,_,y,l),r.Promise=r,r.version="3.4.6",p.toFastProperties(r),p.toFastProperties(r.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new r(_)),C.setBounds(g.firstLineError,p.lastLineError),r}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var i=this._promise=new t(n);e instanceof t&&i._propagateFrom(e,3),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");return l.isArray,l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=i(this._values,this._promise);if(s instanceof t){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}{if(null!==(s=l.asArray(s)))return 0===s.length?void(-5===o?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s);var c=r("expecting an array or an iterable object but got "+l.classString(s)).reason();this._promise._rejectCallback(c,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;n>s;++s){var l=i(e[s],r);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":21}],17:[function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=0;r>o;++o)n[o+i]=e[o+t],e[o+t]=void 0}function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=(this._front-1&t-1^t)-t;this[n]=e,this._front=n,this._length=this.length()+1},r.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},r.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,i(this,0,this,t,this._front+this._length&t-1)},t.exports=r},{}],18:[function(t,n,i){"use strict";var r,o=t("./util"),a=o.getNativePromise();if(o.isNode&&"undefined"==typeof MutationObserver){var s=e.setImmediate,l=process.nextTick;r=o.isRecentNode?function(t){s.call(e,t)}:function(e){l.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var u=a.resolve();r=function(e){u.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);var r=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),r()}}();n.exports=r},{"./util":21}],19:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],20:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return e.then}function r(e){try{return i(e)}catch(e){return l.e=e,l}}function o(e){try{return c.call(e,"_promise0")}catch(e){return!1}}function a(e,i,r){var o=new t(n),a=o;r&&r._pushContext(),o._captureStackTrace(),r&&r._popContext();var u=!0,c=s.tryCatch(i).call(e,function(e){o&&(o._resolveCallback(e),o=null)},function(e){o&&(o._rejectCallback(e,u,!0),o=null)});return u=!1,o&&c===l&&(o._rejectCallback(c.e,!0,!0),o=null),a}var s=e("./util"),l=s.errorObj,u=s.isObject,c={}.hasOwnProperty;return function(e,i){if(u(e)){if(e instanceof t)return e;var s=r(e);if(s===l)return i&&i._pushContext(),c=t.reject(s.e),i&&i._popContext(),c;if("function"==typeof s){if(o(e)){var c=new t(n);return e._then(c._fulfill,c._reject,void 0,c,null),c}return a(e,s,i)}}return e}}},{"./util":21}],21:[function(t,n,i){"use strict";function r(){try{var e=d;return d=null,e.apply(this,arguments)}catch(e){return h.e=e,h}}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function a(e,t,n){if(o(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return f.defineProperty(e,t,i),e}function s(e){try{return e+""}catch(e){return"[no string representation]"}}function l(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function u(e){return l(e)&&f.propertyIsWritable(e,"stack")}function c(e){return{}.toString.call(e)}var d,f=t("./es5"),p="undefined"==typeof navigator,h={e:{}},g="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==this?this:null,y=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(f.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],r=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return i}for(var a=0;a<o.length;++a){var s=o[a];if(!r[s]){r[s]=!0;var l=Object.getOwnPropertyDescriptor(e,s);null!=l&&null==l.get&&null==l.set&&i.push(s)}}e=f.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),v=/this\s*\.\s*\S+\s*=/,m=/^[a-z$_][a-z$_0-9]*$/i,A="stack"in new Error?function(e){return u(e)?e:new Error(s(e))}:function(e){if(u(e))return e;try{throw new Error(s(e))}catch(e){return e}},_=function(e){return f.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};_=function(e){return f.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?E(e):null}}var T="undefined"!=typeof process&&"[object process]"===c(process).toLowerCase(),M={isClass:function(e){try{if("function"==typeof e){var t=f.names(e.prototype),n=f.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=v.test(e+"")&&f.names(e).length>0;if(n||i||r)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return m.test(e)},inheritedDataKeys:y,getDataPropertyOrDefault:function(e,t,n){if(!f.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(e){throw e},isArray:f.isArray,asArray:_,notEnumerableProp:a,isPrimitive:o,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:l,canEvaluate:p,errorObj:h,tryCatch:function(e){return d=e,r},inherits:function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},withAppended:function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;i>n;++n)r[n]=e[n];return r[n]=t,r},maybeWrapAsError:function(e){return o(e)?new Error(s(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var i=new Array(e),r=0;e>r;++r)i[r]=t+r+n;return i},toString:s,canAttachTrace:u,ensureErrorObject:A,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{a(e,"isOperational",!0)}catch(e){}},classString:c,copyDescriptors:function(e,t,n){for(var i=f.names(e),r=0;r<i.length;++r){var o=i[r];if(n(o))try{f.defineProperty(t,o,f.getDescriptor(e,o))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:T,env:function(e,t){return T?process.env[e]:t},global:g,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};M.isRecentNode=M.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),M.isNode&&M.toFastProperties(process);try{throw new Error}catch(e){M.lastLineError=e}n.exports=M},{"./es5":10}]},{},[3])(3)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof i&&i;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var i={};i.encode=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?(t.push(192|i>>6),t.push(128|63&i)):i<65536?(t.push(224|i>>12),t.push(128|63&i>>6),t.push(128|63&i)):(t.push(240|i>>18),t.push(128|63&i>>12),t.push(128|63&i>>6),t.push(128|63&i))}return t},i.decode=function(e){for(var t=[],n=0;n<e.length;){var i=e[n++];i<128||(i<224?(i=(31&i)<<6,i|=63&e[n++]):i<240?(i=(15&i)<<12,i|=(63&e[n++])<<6,i|=63&e[n++]):(i=(7&i)<<18,i|=(63&e[n++])<<12,i|=(63&e[n++])<<6,i|=63&e[n++])),t.push(String.fromCharCode(i))}return t.join("")};var r={};!function(e){var t=function(t){for(var n=0,i=[],r=0|t.length/3;0<r--;){o=(t[n]<<16)+(t[n+1]<<8)+t[n+2];n+=3,i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push(e.charAt(63&o>>6)),i.push(e.charAt(63&o))}if(2==t.length-n){o=(t[n]<<16)+(t[n+1]<<8);i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push(e.charAt(63&o>>6)),i.push("=")}else if(1==t.length-n){var o=t[n]<<16;i.push(e.charAt(63&o>>18)),i.push(e.charAt(63&o>>12)),i.push("==")}return i.join("")},n=function(){for(var t=[],n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,i=[],r=0|e.length/4;0<r--;){var o=(n[e.charCodeAt(t)]<<18)+(n[e.charCodeAt(t+1)]<<12)+(n[e.charCodeAt(t+2)]<<6)+n[e.charCodeAt(t+3)];i.push(255&o>>16),i.push(255&o>>8),i.push(255&o),t+=4}return i&&("="==e.charAt(t-2)?(i.pop(),i.pop()):"="==e.charAt(t-1)&&i.pop()),i},l={};l.encode=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},l.decode=function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")},r.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},r.encodeASCII=function(e){var n=l.encode(e);return t(n)},r.decodeASCII=function(e){var t=o(e);return l.decode(t)},r.encode=function(e){var n=i.encode(e);return t(n)},r.decode=function(e){var t=o(e);return i.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0!==n&&(n.decode=r.decode,n.decodeArray=r.decodeArray)},{}],2:[function(e,t,n){!function(e){"use strict";var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},i={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},r={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},a={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],l={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},u=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},c=function(e,t,n,i,r){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1};c.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var d=function(e,t,n,i,r,o){this.uchar=e||" ",this.penState=new c(t,n,i,r,o)};d.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var f=function(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new d);this.pos=0,this.currPenState=new c};f.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(l.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(l.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=32?l.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var i=this.chars[n].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var p=function(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new f);this.currRow=14,this.nrRollUpRows=null,this.reset()};p.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){l.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){l.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var i=e.indent,r=Math.max(i-1,0);n.setCursor(e.indent),e.color=n.chars[r].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){l.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){l.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),l.log("INFO","Rolling up")}else l.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,r=0;r<15;r++){var o=this.rows[r].getTextString();o&&(i=r+1,e?t.push("Row "+i+': "'+o+'"'):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var h=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new p,this.nonDisplayedMemory=new p,this.lastOutputScreen=new p,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};h.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,l.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";l.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(l.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){l.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){l.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){l.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){l.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){l.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){l.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){l.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){l.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){l.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){l.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){l.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(l.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,l.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){l.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[n]}l.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=l.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var g=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new h(1,t),new h(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};g.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,i,r,o=!1;this.lastTime=e,l.setTime(e);for(var a=0;a<t.length;a+=2)i=127&t[a],r=127&t[a+1],0!==i||0!==r?(l.log("DATA","["+u([t[a],t[a+1]])+"] -> ("+u([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),n||(o=this.parseChars(i,r))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):l.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,l.log("WARNING","Couldn't parse cleaned data "+u([i,r])+" orig: "+u([t[a],t[a+1]])))):this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null,i=(20===e||28===e)&&32<=t&&t<=47,r=(23===e||31===e)&&33<=t&&t<=35;if(!i&&!r)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,l.log("DEBUG","Repeated command ("+u([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(l.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].cc_MIDROW(t),l.log("DEBUG","MIDROW ("+u([e,t])+")"),!0))},parsePAC:function(e,t){var n=null,s=null,l=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,u=(16===e||24===e)&&64<=t&&t<=95;if(!l&&!u)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,s=64<=t&&t<=95?1===n?i[e]:o[e]:1===n?r[e]:a[e];var c=this.interpretPAC(s,t);return this.channels[n-1].setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},parseChars:function(e,t){var i=null,r=null,o=null;if(e>=25?(i=2,o=e-8):(i=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,l.log("INFO","Special char '"+n(a)+"' in channel "+i),r=[a]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var s=u(r);l.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},parseBackgroundAttributes:function(e,t){var n,i,r,o=(16===e||24===e)&&32<=t&&t<=47,a=(23===e||31===e)&&45<=t&&t<=47;return!(!o&&!a)&&(n={},16===e||24===e?(i=Math.floor((t-32)/2),n.background=s[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),r=e<24?1:2,this.channels[r-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=l,e.PenState=c,e.CaptionScreen=p,e.Cea608Parser=g,e.findCea608Nalus=function(e,t,n){for(var i=0,r=t,o=[];r<t+n;){if(i=e.getUint32(r),6===(31&e.getUint8(r+4)))for(var a=r+5,s=-1;a<r+4+i-1;){s=0;for(var l=255;255===l;)s+=l=e.getUint8(a),a++;var u=0;for(l=255;255===l;)u+=l=e.getUint8(a),a++;(function(e,t,n,i){if(4!==e||t<8)return null;var r=n.getUint8(i),o=n.getUint16(i+1),a=n.getUint32(i+3),s=n.getUint8(i+7);return 181==r&&49==o&&1195456820==a&&3==s})(s,u,e,a)&&o.push([a,u]),a+=u}r+=i+4}return o},e.extractCea608DataFromRange=function(e,t){var n=t[0],i=[[],[]];n+=8;var r=31&e.getUint8(n);n+=2;for(var o=0;o<r;o++){var a=e.getUint8(n),s=4&a,l=3&a;n++;var u=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&u)+(127&c)!=0&&(0===l?(i[0].push(u),i[0].push(c)):1===l&&(i[1].push(u),i[1].push(c)))}return i}}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i;for(t=[],i=0,n=e.length;i<n;i+=1)e[i].isRoot?t.push("root"):t.push(e[i].name);var r=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},o=function(e,t,n){var i,o,a,s,l;if(null!==e&&0!==e.length)for(i=0,o=e.length;i<o;i+=1)a=e[i],t.hasOwnProperty(a.name)&&(n.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],l=n[a.name],"object"==typeof s&&"object"==typeof l?r(s,l):null!=a.mergeFunction?n[a.name]=a.mergeFunction(s,l):n[a.name]=s+l):n[a.name]=t[a.name])},a=function e(t,n){var i,r,a,s,l,u,c,d=t;if(null!==d.children&&0!==d.children.length)for(i=0,r=d.children.length;i<r;i+=1)if(u=d.children[i],n.hasOwnProperty(u.name))if(u.isArray)for(a=0,s=(l=n[u.name+"_asArray"]).length;a<s;a+=1)c=l[a],o(d.properties,n,c),e(u,c);else c=n[u.name],o(d.properties,n,c),e(u,c)};return{run:function n(i){var r,o,s,l,u,c,d;if(null===i)return i;if("object"!=typeof i)return i;for(r=0,o=t.length;r<o;r+=1)"root"===t[r]&&(u=e[r],a(u,c=i));for(l in i)if(i.hasOwnProperty(l)&&"__children"!=l){if(-1!==(s=t.indexOf(l)))if((u=e[s]).isArray)for(r=0,o=(d=i[l+"_asArray"]).length;r<o;r+=1)c=d[r],a(u,c);else c=i[l],a(u,c);n(i[l])}return i}}},t.exports=n.default},{}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){function i(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function r(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(o){if(o.nodeType==A.DOCUMENT_NODE){var l,u,c,d=o.firstChild;for(u=0,c=o.childNodes.length;u<c;u+=1)if(o.childNodes[u].nodeType!==A.COMMENT_NODE){d=o.childNodes[u];break}return n?l=s(d):(l={})[g=i(d)]=s(d),l}if(o.nodeType==A.ELEMENT_NODE){(l=new Object).__cnt=0;for(var f=[],p=o.childNodes,h=0;h<p.length;h++){var g=i(d=p.item(h));if(l.__cnt++,null==l[g])_=s(d),("#text"!=g||/[^\s]/.test(_))&&((E={})[g]=_,f.push(E)),l[g]=_,l[g+"_asArray"]=new Array(1),l[g+"_asArray"][0]=l[g];else{if(null!=l[g]&&!(l[g]instanceof Array)){var y=l[g];l[g]=new Array,l[g][0]=y,l[g+"_asArray"]=l[g]}for(var v=0;null!=l[g][v];)v++;var _=s(d);if("#text"!=g||/[^\s]/.test(_)){var E={};E[g]=_,f.push(E)}l[g][v]=_}}l.__children=f;for(var T=i(o),M=0;M<o.attributes.length;M++){var b=o.attributes.item(M);l.__cnt++;for(var I=b.value,C=0,D=e.length;C<D;C++){var S=e[C];S.test(b,T)&&(I=S.converter(b.value))}l[t+b.name]=I}var w=r(o);return null!=w&&""!=w&&(l.__cnt++,l.__prefix=w),1==l.__cnt&&null!=l["#text"]&&(l=l["#text"]),null!=l["#text"]&&(l.__text=l["#text"],m&&(l.__text=a(l.__text)),delete l["#text"],delete l["#text_asArray"]),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],delete l["#cdata-section_asArray"]),null==l.__text&&null==l.__cdata||(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}return o.nodeType==A.TEXT_NODE||o.nodeType==A.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==A.COMMENT_NODE?null:void 0}function l(e,t,n,i){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];r+=" "+a.substr(1)+"='"+s+"'"}return r+=i?"/>":">"}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function c(e,t){return-1!==e.indexOf(t,e.length-t.length)}function d(e,t){return!!(c(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function f(e){var t=0;if(e instanceof Object)for(var n in e)d(e,n)||t++;return t}function p(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function h(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=m?o(e.__text):e.__text),t}function g(e){var t="";return e instanceof Object?t+=h(e):null!=e&&(t+=m?o(e):e),t}function y(e,t,n){var i="";if(0==e.length)i+=l(e,t,n,!0);else for(var r=0;r<e.length;r++)i+=l(e[r],t,p(e[r]),!1),i+=v(e[r]),i+=u(e[r],t);return i}function v(e){var t="";if(f(e)>0)for(var n in e)if(!d(e,n)){var i=e[n],r=p(i);null==i||void 0==i?t+=l(i,n,r,!0):i instanceof Object?i instanceof Array?t+=y(i,n,r):f(i)>0||null!=i.__text||null!=i.__cdata?(t+=l(i,n,r,!1),t+=v(i),t+=u(i,n)):t+=l(i,n,r,!0):(t+=l(i,n,r,!1),t+=g(i),t+=u(i,n))}return t+=g(e)}null!==t&&void 0!==t||(t="_"),null!==n&&void 0!==n||(n=!1);var m=!1,A={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t,n,i;if(window.DOMParser){n=new window.DOMParser;try{i=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}try{t=n.parseFromString(e,"text/xml"),i&&t.getElementsByTagNameNS(i,"parsererror").length&&(t=void 0)}catch(e){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t?this.xml2json(t):void 0},this.json2xml_str=function(e){return v(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){m=e}},t.exports=n.default},{}],5:[function(t,n,i){(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var r=n(t(52)),o=n(t(107)),a=n(t(76)),s=n(t(54)),l=t(11),u="undefined"!=typeof window&&window||e,c=u.dashjs;c||(c=u.dashjs={}),c.MediaPlayer=r.default,c.Protection=o.default,c.MetricsReporting=a.default,c.MediaPlayerFactory=s.default,c.Version=(0,l.getVersionString)(),i.default=c,i.MediaPlayer=r.default,i.Protection=o.default,i.MetricsReporting=a.default,i.MediaPlayerFactory=s.default}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{107:107,11:11,52:52,54:54,76:76}],6:[function(e,t,n){var i={};i.parseBuffer=function(e){return new r(e).parse()},i.Utils={},i.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var i=[],r=0;if("utf-8"===n)for(;r<e.byteLength;){var o=e.getUint8(r++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(r++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(r++))<<6,o|=63&e.getUint8(r++)):(o=(7&o)<<18,o|=(63&e.getUint8(r++))<<12,o|=(63&e.getUint8(r++))<<6,o|=63&e.getUint8(r++))),i.push(String.fromCharCode(o))}else for(;r<e.byteLength;)i.push(String.fromCharCode(e.getUint8(r++)));return i.join("")},void 0!==n&&(n.parseBuffer=i.parseBuffer,n.Utils=i.Utils),i.Cursor=function(e){this.offset=void 0===e?0:e};var r=function(e){this._raw=new DataView(e),this._cursor=new i.Cursor,this.boxes=[]};r.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},r.prototype.fetchAll=function(e,t){var n=[];return r._sweep.call(this,e,n,t),n},r.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},r._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var i in this.boxes){if(t.length&&n)return;r._sweep.call(this.boxes[i],e,t,n)}};var o=function(){this._cursor=new i.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),i=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:t=((n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset))<<8)+(i=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2));break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),i=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var i=this._readUint(8);t+=String.fromCharCode(i)}return t},o.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=i.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var i=this._readUint(32);t.starts_with_SAP=i>>31&1,t.SAP_type=i>>28&7,t.SAP_delta_time=268435455&i,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var i={};i.level=this._readUint(8),i.range_size=this._readUint(24),t.ranges.push(i)}this.subsegments.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=i.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=i.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],7:[function(e,t,n){var i=n.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),+((t=t.toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return i("round",e,t)},floor10:function(e,t){return i("floor",e,t)},ceil10:function(e,t){return i("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],8:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,i=void 0,r=void 0,s=void 0;return n={log:function(){var e="",n=null;r&&(n=(new Date).getTime(),e+="["+(n-s)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),i&&console.log(e),t.trigger(a.default.LOG,{message:e})},setLogTimestampVisible:function(e){r=e},setLogToBrowserConsole:function(e){i=e},getLogToBrowserConsole:function(){return i}},i=!0,r=!0,s=(new Date).getTime(),n}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10));r.__dashjs_factory_name="Debug",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,9:9}],9:[function(e,t,n){function i(){function e(e,n,i){var r=-1;return t[e]?(t[e].some(function(e,t){if(e.callback===n&&(!i||i===e.scope))return r=t,!0}),r):r}var t={};return{on:function(n,i,r){var a=arguments.length<=3||void 0===arguments[3]?o:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!i||"function"!=typeof i)throw new Error("listener must be a function: "+i);if(!(e(n,i,r)>=0)){t[n]=t[n]||[];var s={callback:i,scope:r,priority:a};t[n].some(function(e,i){if(a>e.priority)return t[n].splice(i,0,s),!0})||t[n].push(s)}},off:function(n,i,r){if(n&&i&&t[n]){var o=e(n,i,r);o<0||t[n].splice(o,1)}},trigger:function(e,n){if(e&&t[e]){if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=e,t[e].forEach(function(e){return e.callback.call(e.scope,n)})}},reset:function(){t={}}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),o=0;i.__dashjs_factory_name="EventBus";var a=r.default.getSingletonFactory(i);a.EVENT_PRIORITY_LOW=o,a.EVENT_PRIORITY_HIGH=5e3,n.default=a,t.exports=n.default},{10:10}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n in o){var i=o[n];if(i.context===e&&i.name===t)return i.instance}return null}function t(e,t,r,o){var a=n(r)[e];if(a){var s=a.instance;if(!a.override)return s.apply({context:r,factory:i},o);s=s.apply({context:r,factory:i,parent:t},o);for(var l in s)t.hasOwnProperty(l)&&(t[l]=s[l])}return t}function n(e){var t=void 0;return r.forEach(function(n){n===e&&(t=n)}),t||(t=r.push(e)),t}var i=void 0,r=[],o=[];return i={extend:function(e,t,i,r){var o=n(r);!o[e]&&t&&(o[e]={instance:t,override:i})},getSingletonInstance:e,setSingletonInstance:function(e,t,n){for(var i in o){var r=o[i];if(r.context===e&&r.name===t)return void(o[i].instance=n)}o.push({name:t,context:e,instance:n})},getSingletonFactory:function(n){return function(i){var r=void 0;return void 0===i&&(i={}),{getInstance:function(){return r||(r=e(i,n.__dashjs_factory_name)),r||(r=t(n.__dashjs_factory_name,n.apply({context:i},arguments),i,arguments),o.push({name:n.__dashjs_factory_name,context:i,instance:r})),r}}}},getClassFactory:function(e){return function(n){return void 0===n&&(n={}),{create:function(){return t(e.__dashjs_factory_name,e.apply({context:n},arguments),n,arguments)}}}}}}();n.default=i,t.exports=n.default},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=function(){return i};var i="2.4.0"},{}],12:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(14)).default);n.default=a,t.exports=n.default},{14:14}],13:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=new(function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(12)).default));n.default=a,t.exports=n.default},{12:12}],14:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,i=!!t&&t.publicOnly;for(var r in e)!e.hasOwnProperty(r)||this[r]&&!n||i&&-1===e[r].indexOf("public_")||(this[r]=e[r])}}}]),e}();n.default=o,t.exports=n.default},{}],15:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t){return t.getRepresentationForQuality(e.quality)}function t(e){return v[e.streamInfo.id][e.index]}function n(e){for(var t=y.length,n=0;n<t;n++){var i=y[n];if(e.id===i.id)return i}return null}function i(e,t){var n=new o.default,i=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],a=g.getRepresentationFor(t.index,i);return n.id=t.id,n.quality=t.index,n.bandwidth=g.getBandwidth(a),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=r(e,t.adaptation),n}function r(e,t){var n,i=new a.default,r=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return i.id=t.id,i.index=t.index,i.type=t.type,i.streamInfo=p(e,t.period),i.representationCount=g.getRepresentationCount(r),i.lang=g.getLanguageForAdaptation(r),n=g.getViewpointForAdaptation(r),i.viewpoint=n?n.value:void 0,i.accessibility=g.getAccessibilityForAdaptation(r).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==d.default&&(n=t?"cea-608:"+t:"cea-608",i.embeddedCaptions=!0),n}),i.audioChannelConfiguration=g.getAudioChannelConfigurationForAdaptation(r).map(function(e){return e.value}),i.roles=g.getRolesForAdaptation(r).map(function(e){return e.value}),i.codec=g.getCodec(r),i.mimeType=g.getMimeType(r),i.contentProtection=g.getContentProtectionData(r),i.bitrateList=g.getBitrateListForAdaptation(r),i.contentProtection&&i.contentProtection.forEach(function(e){e.KID=g.getKID(e)}),i.isText=g.getIsTextTrack(i.mimeType),i}function c(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function p(e,t){var n=new s.default;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=h(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<1,n.isFirst=1===e.Period_asArray.length||g.getRegularPeriods(e,g.getMpd(e))[0].id===t.id,n}function h(e,t){var n=new l.default;return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=g.getDuration(e),n.isDynamic=g.getIsDynamic(e),n}var g=void 0,y=void 0,v=void 0;return{initialize:function(){y=[],v={}},convertDataToTrack:i,convertDataToMedia:r,convertDataToStream:p,getDataForTrack:e,getDataForMedia:t,getDataForStream:n,getStreamsInfo:function(e){var t,n,i,r=[];if(!e)return null;for(t=g.getMpd(e),y=g.getRegularPeriods(e,t),t.checkTime=g.getCheckTime(e,y[0]),v={},n=y.length,i=0;i<n;i++)r.push(p(e,y[i]));return r},getManifestInfo:function(e){return h(e,g.getMpd(e))},getMediaInfoForType:function(e,t,i){var o=g.getAdaptationForType(e,t.index,i,t);if(!o)return null;var a=n(t),s=a.id,l=g.getIndexForAdaptation(o,e,t.index);return v[s]=v[s]||g.getAdaptationsForPeriod(e,a),r(e,v[s][l])},getAllMediaInfoForType:function(e,t,i){var o,a,s,l,u,d,f=n(t),p=f.id,h=g.getAdaptationsForType(e,t.index,"embeddedText"!==i?i:"video"),y=[];if(!h)return y;for(v[p]=v[p]||g.getAdaptationsForPeriod(e,f),l=0,d=h.length;l<d;l++){if(o=h[l],s=g.getIndexForAdaptation(o,e,t.index),a=r(e,v[p][s]),"embeddedText"===i){var m=a.accessibility.length;for(u=0;u<m;u++)if(a){var A=a.accessibility[u];if(0===A.indexOf("cea-608:")){var _=A.substring(8).split(";");if("CC"===_[0].substring(0,2))for(u=0;u<_.length;u++)a||(a=r.call(this,e,v[p][s])),c(a,_[u].substring(0,3),_[u].substring(4)),y.push(a),a=null;else for(u=0;u<_.length;u++)a||(a=r.call(this,e,v[p][s])),c(a,"CC"+(u+1),_[u]),y.push(a),a=null}else 0===A.indexOf("cea-608")&&(c(a,"CC1","eng"),y.push(a),a=null)}}a&&"embeddedText"!==i&&y.push(a)}return y},getCurrentRepresentationInfo:function(e,t){var n=t.getCurrentRepresentation();return n?i(e,n):null},getRepresentationInfoForQuality:function(e,t,n){var r=t.getRepresentationForQuality(n);return r?i(e,r):null},updateData:function(e,i){var r,o,a=n(i.getStreamInfo()),s=i.getMediaInfo(),l=t(s),u=i.getType();o=(r=s.id)?g.getAdaptationForId(r,e,a.index):g.getAdaptationForIndex(s.index,e,a.index),i.getRepresentationController().updateData(o,l,u)},getInitRequest:function(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)},getNextFragmentRequest:function(t,n){var i=e(n,t.getRepresentationController());return t.getIndexHandler().getNextSegmentRequest(i)},getFragmentRequestForTime:function(t,n,i,r){var o=e(n,t.getRepresentationController());return t.getIndexHandler().getSegmentRequestForTime(o,i,r)},generateFragmentRequestForTime:function(t,n,i){var r=e(n,t.getRepresentationController());return t.getIndexHandler().generateSegmentRequestForTime(r,i)},getIndexHandlerTime:function(e){return e.getIndexHandler().getCurrentTime()},setIndexHandlerTime:function(e,t){return e.getIndexHandler().setCurrentTime(t)},getEventsFor:function(i,r,l){var u=[];return r instanceof s.default?u=g.getEventsForPeriod(i,n(r)):r instanceof a.default?u=g.getEventStreamForAdaptationSet(i,t(r)):r instanceof o.default&&(u=g.getEventStreamForRepresentation(i,e(r,l.getRepresentationController()))),u},getEvent:function(e,t,n){var i=new u.default,r=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,l=e.event_duration,c=e.id,d=e.message_data,f=n*a+s;return t[r]?(i.eventStream=t[r],i.eventStream.value=o,i.eventStream.timescale=a,i.duration=l,i.id=c,i.presentationTime=f,i.messageData=d,i.presentationTimeDelta=s,i):null},setConfig:function(e){e&&e.dashManifestModel&&(g=e.dashManifestModel)},reset:function(){y=[],v={}},metricsList:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(173)),a=i(e(168)),s=i(e(170)),l=i(e(167)),u=i(e(42)),c=i(e(10)),d=i(e(2)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(20));r.__dashjs_factory_name="DashAdapter",n.default=c.default.getSingletonFactory(r),t.exports=n.default},{10:10,167:167,168:168,170:170,173:173,2:2,20:20,42:42}],16:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){return e.split("$$").join("$")}function n(e,t){if(null===t||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function i(e,t,n){var i,r,o=P.resolve(n.path);return o&&t!==o.url&&D.isRelative(t)?(i=o.url,r=o.serviceLocation,t&&(i+=t)):i=t,!D.isRelative(i)&&(e.url=i,e.serviceLocation=r,!0)}function r(e,t){var n,r,a=new o.default;if(n=e.adaptation.period,a.mediaType=t,a.type=s.HTTPRequest.INIT_SEGMENT_TYPE,a.range=e.range,r=n.start,a.availabilityStartTime=w.calcAvailabilityStartTimeFromPresentationTime(r,e.adaptation.period.mpd,k),a.availabilityEndTime=w.calcAvailabilityEndTimeFromPresentationTime(r+n.duration,n.mpd,k),a.quality=e.index,a.mediaInfo=U.getMediaInfo(),i(a,e.initialization,e))return a}function c(e){var t,n,i,r=e.adaptation.period,o=e.segmentInfoType,a=!1;return R<0?a=!1:k||R<e.availableSegmentsNumber?(n=(0,p.getSegmentByIndex)(R,e))&&(i=n.presentationStartTime-r.start,t=e.adaptation.period.duration,I(e.segmentInfoType+": "+i+" / "+t),a=("SegmentTimeline"!==o||!k)&&i>=t):a=!0,a}function y(e){return B.getSegments(e,L,R,v)}function v(e,t){if(e.segments=t,t&&t.length>0&&(z=isNaN(z)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,z)),k&&isNaN(w.getExpectedLiveEdge())){var n=t[t.length-1].presentationStartTime,i=O.getMetricsFor("stream");w.setExpectedLiveEdge(n),O.updateManifestUpdateInfo(N.getCurrentManifestUpdate(i),{presentationStartTime:n})}}function m(e){if(!e)throw new a.default("no representation");return e.segments=null,y(e),e}function A(e,t,n){var i,r,o,a,s,l=t.segments,u=l?l.length:null,c=-1;if(l&&u>0)for(s=0;s<u;s++)if(r=l[s],o=r.presentationStartTime,a=r.duration,i=void 0===n||null===n?a/2:n,e+i>=o&&e-i<o+a){c=r.availabilityIdx;break}return c}function _(e){if(null===e||void 0===e)return null;var r=new o.default,a=e.representation,l=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].bandwidth,u=e.media;return u=(0,p.replaceTokenForTemplate)(u,"Number",e.replacementNumber),u=(0,p.replaceTokenForTemplate)(u,"Time",e.replacementTime),u=(0,p.replaceTokenForTemplate)(u,"Bandwidth",l),u=n(u,a.id),u=t(u),r.mediaType=j,r.type=s.HTTPRequest.MEDIA_SEGMENT_TYPE,r.range=e.mediaRange,r.startTime=e.presentationStartTime,r.duration=e.duration,r.timescale=a.timescale,r.availabilityStartTime=e.availabilityStartTime,r.availabilityEndTime=e.availabilityEndTime,r.wallStartTime=e.wallStartTime,r.quality=a.index,r.index=e.availabilityIdx,r.mediaInfo=U.getMediaInfo(),r.adaptationIndex=a.adaptation.index,i(r,u,a)?r:void 0}function E(e,t,n){var i,r,a=R,s=!!n&&n.keepIdx,l=n?n.timeThreshold:null,u=!(!n||!n.ignoreIsFinished);return e?(L!==t&&(L=t,I("Getting the request for "+j+" time : "+t)),R=A(t,e,l),y(e),R<0&&(R=A(t,e,l)),R>0&&I("Index for "+j+" time "+t+" is "+R),r=!u&&c(e),r?((i=new o.default).action=o.default.ACTION_COMPLETE,i.index=R,i.mediaType=j,i.mediaInfo=U.getMediaInfo(),I("Signal complete.",i)):i=_((0,p.getSegmentByIndex)(R,e)),s&&a>=0&&(R="SegmentTimeline"===e.segmentInfoType&&k?R:a),i):null}function T(e){var t=e.representation;t.segments&&C.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function M(e){if(!e.error&&j===e.mediaType){var t,n,i,r,o=e.segments,a=e.representation,s=[],u=0;for(t=0,n=o.length;t<n;t++)i=o[t],r=(0,p.getTimeBasedSegment)(w,k,a,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,u),s.push(r),r=null,u++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},a.availableSegmentsNumber=n,v(a,s),a.initialization&&C.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:a})}}var b=this.context,I=(0,d.default)(b).getInstance().log,C=(0,u.default)(b).getInstance(),D=(0,f.default)(b).getInstance(),S=e.segmentBaseLoader,w=e.timelineConverter,N=e.dashMetrics,O=e.metricsModel,P=e.baseURLController,x=void 0,R=void 0,L=void 0,k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0;return x={initialize:function(t){j=(U=t).getType(),k=U.isDynamic(),B=(0,h.default)(b).create(e,k)},getStreamProcessor:function(){return U},getInitRequest:function(e){return e?r(e,j):null},getSegmentRequestForTime:E,getNextSegmentRequest:function(e){var t,n,i;return e&&-1!==R?(L=null,R++,I("Getting the next request at index: "+R),i=c(e),i?((t=new o.default).action=o.default.ACTION_COMPLETE,t.index=R,t.mediaType=j,t.mediaInfo=U.getMediaInfo(),I("Signal complete.")):(y(e),t=_(n=(0,p.getSegmentByIndex)(R,e)),!n&&k&&R--),t):null},generateSegmentRequestForTime:function(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},E(e,t,{keepIdx:!1,ignoreIsFinished:!0})},updateRepresentation:function(e,t){var n,i=e.initialization,r="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;if(e.segmentDuration||e.segments||m(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=w.calcSegmentAvailabilityRange(e,k),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return n=new a.default(g,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void C.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:n});t||(R=-1),e.segmentDuration&&m(e),i||S.loadInitialization(e),r||S.loadSegments(e,j,e.indexRange),i&&r&&C.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e})},setCurrentTime:function(e){F=e},getCurrentTime:function(){return F},getCurrentIndex:function(){return R},getEarliestTime:function(){return z},reset:function(){B=null,F=0,z=NaN,L=NaN,R=-1,k=null,j=null,U=null,C.off(l.default.INITIALIZATION_LOADED,T,x),C.off(l.default.SEGMENTS_LOADED,M,x)}},R=-1,F=0,z=NaN,C.on(l.default.INITIALIZATION_LOADED,T,x),C.on(l.default.SEGMENTS_LOADED,M,x),x}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(164)),a=i(e(163)),s=e(180),l=i(e(13)),u=i(e(9)),c=i(e(10)),d=i(e(8)),f=i(e(159)),p=e(36),h=i(e(35)),g=1;r.__dashjs_factory_name="DashHandler";var y=c.default.getClassFactory(r);y.SEGMENTS_UNAVAILABLE_ERROR_CODE=g,n.default=y,t.exports=n.default},{10:10,13:13,159:159,163:163,164:164,180:180,35:35,36:36,8:8,9:9}],17:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){return i(e,u.BUFFER_LEVEL)}function t(e){if(null===e)return null;var t,n=e.HttpList,i=null;if(null===n||n.length<=0)return null;for(t=n.length-1;t>=0;){if(n[t].responsecode){i=n[t];break}t--}return i}function n(e){return null===e?[]:e.HttpList?e.HttpList:[]}function i(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var i=n.length;return i<=0?null:n[i-1]}function r(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0,r=n.length;i<r;i++){var o=n[i],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function l(e,t){var n=d(e,t,!0);return null!==n?n:-1}function d(e,t,n){var i,r,o,a,s;for(i=e.AdaptationSet_asArray,a=0;a<i.length;a+=1)for(o=i[a].Representation_asArray,s=0;s<o.length;s+=1)if(r=o[s],t===r.id)return n?s:r;return null}function f(e,t){return(0,s.default)(h).getInstance().getIsTypeOf(e,t)}function p(e,t){var n,i,r,o;if(!e||!t)return-1;for(i=e.AdaptationSet_asArray,o=0;o<i.length;o+=1)if(n=i[o],r=n.Representation_asArray,f(n,t))return r.length;return-1}var h=this.context,g=(0,a.default)(h).getInstance();return{getBandwidthForRepresentation:function(e,t){var n;return n=d(g.getValue().Period_asArray[t],e),null===n?null:n.bandwidth},getIndexForRepresentation:function(e,t){return l(g.getValue().Period_asArray[t],e)},getMaxIndexForBufferType:function(e,t){return p(g.getValue().Period_asArray[t],e)},getCurrentRepresentationSwitch:function(e){return i(e,u.TRACK_SWITCH)},getLatestBufferLevelVO:e,getCurrentBufferLevel:function(t){var n=e(t);return n?(0,c.round10)(n.level/1e3,-3):0},getCurrentHttpRequest:t,getHttpRequests:n,getCurrentDroppedFrames:function(e){return i(e,u.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return i(e,u.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return i(e,u.DVR_INFO)},getCurrentManifestUpdate:function(e){return i(e,u.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,n){if(null===e)return null;var i,o=t(e);return null===o||null===o._responseHeaders?null:(i=r(o._responseHeaders),void 0===i[n]?null:i[n])},getLatestMPDRequestHeaderValueByID:function(e,t){var i,a,s,l={};if(null===e)return null;for(s=(i=n(e)).length-1;s>=0;s--)if((a=i[s]).type===o.HTTPRequest.MPD_TYPE){l=r(a._responseHeaders);break}return void 0===l[t]?null:l[t]},getRequestsQueue:function(e){return e.RequestsQueue}}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(180),a=i(e(101)),s=i(e(22)),l=i(e(10)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(20)),c=e(7);r.__dashjs_factory_name="DashMetrics",n.default=l.default.getSingletonFactory(r),t.exports=n.default},{10:10,101:101,180:180,20:20,22:22,7:7}],18:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(t,n){var o=!0,a=null,s=null,l=new XMLHttpRequest,c=_.resolve(t.path),d=n||{url:c?c.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:l};g("Start searching for initialization."),l.onload=function(){l.status<200||l.status>299||(o=!1,d.bytesLoaded=d.range.end,s=m.parse(l.response),(a=i(s))?(t.range=a,t.initialization=d.url,y.trigger(u.default.INITIALIZATION_LOADED,{representation:t})):(d.range.end=d.bytesLoaded+d.bytesToLoad,e(t,d)))},l.onloadend=l.onerror=function(){o&&(o=!1,v.downloadError("initialization",d.url,l),y.trigger(u.default.INITIALIZATION_LOADED,{representation:t}))},r(l,d),g("Perform init search: "+d.url)}function t(e,i,o,a,s){if(o&&(void 0===o.start||void 0===o.end)){var l=o?o.toString().split("-"):null;o=l?{start:parseFloat(l[0]),end:parseFloat(l[1])}:null}s=s||f;var u=!0,c=null,d=null,p=!!o,h=new XMLHttpRequest,y=_.resolve(e.path),A={url:y?y.url:void 0,range:p?o:{start:0,end:1500},searching:!p,bytesLoaded:a?a.bytesLoaded:0,bytesToLoad:1500,request:h};h.onload=function(){if(!(h.status<200||h.status>299)){var r=A.bytesToLoad,o=h.response.byteLength;if(u=!1,A.bytesLoaded=A.range.end-A.range.start,c=m.parse(h.response),(d=c.getBox("sidx"))&&d.isComplete){var a,l,f=d.references;if(null!==f&&void 0!==f&&f.length>0&&(a=1===f[0].reference_type),a){g("Initiate multiple SIDX load."),A.range.end=A.range.start+d.size;var p,y,v,_,E=[],T=0,M=(d.offset||A.range.start)+d.size;for(p=0,y=f.length;p<y;p++)v=M,_=M+f[p].referenced_size-1,M+=f[p].referenced_size,t(e,null,{start:v,end:_},A,function(t){t?(E=E.concat(t),++T>=y&&s(E,e,i)):s(null,e,i)})}else g("Parsing segments from SIDX."),l=n(d,A),s(l,e,i)}else{if(d)A.range.start=d.offset||A.range.start,A.range.end=A.range.start+(d.size||r);else{if(o<A.bytesLoaded)return void s(null,e,i);var b=c.getLastBox();b&&b.size?(A.range.start=b.offset+b.size,A.range.end=A.range.start+r):A.range.end+=r}t(e,i,A.range,A,s)}}},h.onloadend=h.onerror=function(){u&&(u=!1,v.downloadError("SIDX",A.url,h),s(null,e,i))},r(h,A),g("Perform SIDX load: "+A.url)}function n(e,t){for(var n,i,r,o,s=e.references,l=s.length,u=e.timescale,c=e.earliest_presentation_time,d=t.range.start+e.offset+e.first_offset+e.size,f=[],p=0;p<l;p++)r=s[p].subsegment_duration,o=s[p].referenced_size,(n=new a.default).duration=r,n.media=t.url,n.startTime=c,n.timescale=u,i=d+o-1,n.mediaRange=d+"-"+i,f.push(n),c+=r,d+=o;return f}function i(e){var t,n,i=e.getBox("ftyp"),r=e.getBox("moov"),o=null;return g("Searching for initialization."),r&&r.isComplete&&(t=i?i.offset:r.offset,n=r.offset+r.size-1,g("Found the initialization.  Range: "+(o=t+"-"+n))),o}function r(e,t){t.url&&(e.open("GET",A.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),(e=A.modifyRequestHeader(e)).send(null))}function f(e,t,n){e?y.trigger(u.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):y.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new s.default(null,"error loading segments",null)})}var h=this.context,g=(0,p.default)(h).getInstance().log,y=(0,c.default)(h).getInstance(),v=void 0,m=void 0,A=void 0,_=void 0;return{setConfig:function(e){e.baseURLController&&(_=e.baseURLController)},initialize:function(){v=(0,l.default)(h).getInstance(),m=(0,d.default)(h).getInstance(),A=(0,o.default)(h).getInstance()},loadInitialization:e,loadSegments:t,reset:function(){v=null,m=null,A=null,g=null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(157)),a=i(e(47)),s=i(e(163)),l=i(e(152)),u=i(e(13)),c=i(e(9)),d=i(e(147)),f=i(e(10)),p=i(e(8));r.__dashjs_factory_name="SegmentBaseLoader",n.default=f.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,147:147,152:152,157:157,163:163,47:47,8:8,9:9}],19:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){var t=[],n=void 0,i=void 0,r=void 0,o=(0,s.default)(l).create({data:e}),a=void 0;for(o.consumeTag(A.Segment.Cues),i=o.getMatroskaCodedNum();o.moreData()&&o.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((n={}).CueTime=o.parseTag(A.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTagAndSize(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(r={},r.Track=o.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===r.Track)throw new Error("Cue track cannot be 0");r.ClusterPosition=o.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.getPos()+4>i||!o.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?n.CueTracks.push(r):(a=o.getMatroskaCodedNum(),r.BlockNumber=o.getMatroskaUint(a),n.CueTracks.push(r))}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function t(t,n,i,r,o){var a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,p=void 0,h=void 0;for(l=[],c=0,d=(s=e(t)).length;c<d;c+=1)u=new f.default,a=0,a=c<s.length-1?s[c+1].CueTime-s[c].CueTime:o-s[c].CueTime,u.duration=a,u.media=n,u.startTime=s[c].CueTime,u.timescale=1e3,p=s[c].CueTracks[0].ClusterPosition+i,h=c<s.length-1?s[c+1].CueTracks[0].ClusterPosition+i-1:r-1,u.mediaRange=p+"-"+h,l.push(u);return y("Parsed cues: "+l.length+" cues."),l}function n(e,n,i,o){var a=(0,s.default)(l).create({data:e}),u=void 0,c=void 0,d=i.split("-"),f=null,p={url:n,range:{start:parseFloat(d[0]),end:parseFloat(d[1])},request:f},h=void 0,g=void 0;for(y("Parse EBML header: "+p.url),a.skipOverElement(A.EBML),a.consumeTag(A.Segment),h=a.getMatroskaCodedNum(),h+=a.getPos(),g=a.getPos();a.moreData()&&!a.consumeTagAndSize(A.Segment.Info,!0);)if(!(a.skipOverElement(A.Segment.SeekHead,!0)||a.skipOverElement(A.Segment.Tracks,!0)||a.skipOverElement(A.Segment.Cues,!0)||a.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===u;){var v=a.getMatroskaCodedNum(!0),m=a.getMatroskaCodedNum();switch(v){case A.Segment.Info.Duration.tag:u=a[A.Segment.Info.Duration.parse](m);break;default:a.setPos(a.getPos()+m)}}f=r(p);M.load({request:f,success:function(e){c=t(e,p.url,g,h,u),o(c)},error:function(){y("Download Error: Cues "+p.url),o(null)}}),y("Perform cues load: "+p.url+" bytes="+p.range.start+"-"+p.range.end)}function i(e,t,n){e?v.trigger(o.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):v.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function r(e){var t=new h.default;return t.type=e.init?p.HTTPRequest.INIT_SEGMENT_TYPE:p.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}var l=this.context,y=(0,u.default)(l).getInstance().log,v=(0,a.default)(l).getInstance(),m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0,b=void 0;return m={setConfig:function(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");b=e.baseURLController,T=e.metricsModel},initialize:function(){_=(0,c.default)(l).getInstance(),E=(0,d.default)(l).getInstance(),M=(0,g.default)(l).create({errHandler:_,metricsModel:T,requestModifier:E})},loadInitialization:function(e,t){var n=null,i=b.resolve(e.path),a=i?i.url:void 0,s=e.range.split("-"),l=t||{range:{start:parseFloat(s[0]),end:parseFloat(s[1])},request:n,url:a,init:!0};y("Start loading initialization."),n=r(l);M.load({request:n,success:function(){e.initialization=l.url,v.trigger(o.default.INITIALIZATION_LOADED,{representation:e})},error:function(){v.trigger(o.default.INITIALIZATION_LOADED,{representation:e})}}),y("Perform init load: "+l.url)},loadSegments:function(e,t,o,a){var s=null,l=b.resolve(e.path),u=l?l.url:void 0,c={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:s,url:u,init:!1};a=a||i,s=r(c),y("Parsing ebml header");M.load({request:s,success:function(i){n(i,u,o,function(n){a(n,e,t)})},error:function(){a(null,e,t)}})},reset:function(){_=null,E=null,y=null}},A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}},m}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(13)),a=i(e(9)),s=i(e(151)),l=i(e(10)),u=i(e(8)),c=i(e(152)),d=i(e(157)),f=i(e(47)),p=e(180),h=i(e(164)),g=i(e(59));r.__dashjs_factory_name="WebmSegmentBaseLoader",n.default=l.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,151:151,152:152,157:157,164:164,180:180,47:47,59:59,8:8,9:9}],20:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.TCP_CONNECTION="TcpList";n.HTTP_REQUEST="HttpList";n.TRACK_SWITCH="RepSwitchList";n.BUFFER_LEVEL="BufferLevel";n.BUFFER_STATE="BufferState";n.DVR_INFO="DVRInfo";n.DROPPED_FRAMES="DroppedFrames";n.SCHEDULING_INFO="SchedulingInfo";n.REQUESTS_QUEUE="RequestsQueue";n.MANIFEST_UPDATE="ManifestUpdate";n.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo";n.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo";n.PLAY_LIST="PlayList";n.DVB_ERRORS="DVBErrors"},{}],21:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){return k}function t(){return F}function n(){var e=new Date,n=t(),i=1e3*H.getTime();Q.addRepresentationSwitch(n.adaptation.type,e,i,n.id)}function i(){var e=K.calcSegmentAvailabilityRange(F,z.isDynamic());Q.addDVRInfo(z.getType(),H.getTime(),z.getStreamInfo().manifestInfo,e)}function r(e){return j[e]}function A(e){return j.indexOf(e)}function _(){for(var e=0,t=j.length;e<t;e++){var n=j[e].segmentInfoType;if(null===j[e].segmentAvailabilityRange||null===j[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!j[e].segments)return!1}return!0}function E(e){var t=Y.getValue();return L=q.getIndexForAdaptation(R,t,e.period.index),q.getRepresentationsForAdaptation(t,e)}function T(e){for(var t,n=0,i=j.length;n<i;n++)(t=j[n]).segmentAvailabilityRange=K.calcSegmentAvailabilityRange(t,e)}function M(){j.forEach(function(e){e.segmentAvailabilityRange=null})}function b(t){var n=t;k=!1,P.trigger(m.default.AST_IN_FUTURE,{delay:n}),setTimeout(function(){if(!e()){k=!0,P.trigger(v.default.DATA_UPDATE_STARTED,{sender:x}),M();for(var t=0;t<j.length;t++)B.updateRepresentation(j[t],!0)}},n)}function I(r){if(r.sender.getStreamProcessor()===z&&e()){var o,a,s=r.representation,l=Q.getMetricsFor("stream"),u=Q.getMetricsFor(t().adaptation.type),c=W.getCurrentManifestUpdate(l),d=!1,f=0;if("dynamic"===s.adaptation.period.mpd.manifest.type){var p=s.segmentAvailabilityRange.end-s.segmentAvailabilityRange.start;f=1e3*(H.computeLiveDelay(F.segmentDuration,z.getStreamInfo().manifestInfo.DVRWindowSize)-p)}if(f>0)return i(),b(f),a=new g.default(N,"Segments update failed",null),void P.trigger(v.default.DATA_UPDATE_COMPLETED,{sender:this,data:R,currentRepresentation:F,error:a});if(c){for(var h=0;h<c.trackInfo.length;h++)if((o=c.trackInfo[h]).index===s.index&&o.mediaType===z.getType()){d=!0;break}d||Q.addManifestUpdateRepresentationInfo(c,s.id,s.index,s.adaptation.period.index,z.getType(),s.presentationTimeOffset,s.startNumber,s.segmentInfoType)}_()&&(k=!1,U.setPlaybackQuality(z.getType(),z.getStreamInfo(),A(F)),Q.updateManifestUpdateInfo(c,{latency:F.segmentAvailabilityRange.end-H.getTime()}),W.getCurrentRepresentationSwitch(u)||n(),P.trigger(v.default.DATA_UPDATE_COMPLETED,{sender:this,data:R,currentRepresentation:F}))}}function C(e){e.isDynamic&&T(e.isDynamic)}function D(e){if(!e.error){T(!0),B.updateRepresentation(F,!1);var t=Y.getValue(),n=F.adaptation.period,i=V.getActiveStreamInfo();i.isLast&&(n.mpd.checkTime=q.getCheckTime(t,n),n.duration=q.getEndTimeForLastPeriod(Y.getValue(),n)-n.start,i.duration=n.duration)}}function S(e){e.sender.getStreamProcessor()===z&&i()}function w(e){e.mediaType===z.getType()&&z.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(F=r(e.newQuality),G.setSavedBitrateSettings(e.mediaType,F.bandwidth),n())}var N=1,O=this.context,P=(0,y.default)(O).getInstance(),x=void 0,R=void 0,L=void 0,k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0;return x={initialize:function(e){B=(z=e).getIndexHandler()},setConfig:function(e){e.abrController&&(U=e.abrController)},getData:function(){return R},getDataIndex:function(){return L},isUpdating:e,updateData:function(e,t,n){var i,o=null,a=z.getStreamInfo(),s=U.getTopQualityIndexFor(n,a.id);if(k=!0,P.trigger(v.default.DATA_UPDATE_STARTED,{sender:this}),j=E(t),null===R&&"fragmentedText"!==n?(o=U.getAverageThroughput(n)||U.getInitialBitrateFor(n,a),i=U.getQualityForBitrate(z.getMediaInfo(),o)):i=U.getQualityFor(n,a),i>s&&(i=s),F=r(i),R=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return k=!1,void P.trigger(v.default.DATA_UPDATE_COMPLETED,{sender:this,data:R,currentRepresentation:F});for(var l=0;l<j.length;l++)B.updateRepresentation(j[l],!0)},getStreamProcessor:function(){return z},getCurrentRepresentation:t,getRepresentationForQuality:r,reset:function(){P.off(v.default.QUALITY_CHANGE_REQUESTED,w,x),P.off(v.default.REPRESENTATION_UPDATED,I,x),P.off(v.default.WALLCLOCK_TIME_UPDATED,C,x),P.off(v.default.BUFFER_LEVEL_UPDATED,S,x),P.off(v.default.LIVE_EDGE_SEARCH_COMPLETED,D,x),R=null,L=-1,k=!0,j=[],U=null,V=null,H=null,Y=null,Q=null,G=null,K=null,q=null,W=null,X=null}},R=null,L=-1,k=!0,j=[],U=(0,l.default)(O).getInstance(),V=(0,c.default)(O).getInstance(),H=(0,u.default)(O).getInstance(),Y=(0,d.default)(O).getInstance(),Q=(0,f.default)(O).getInstance(),G=(0,h.default)(O).getInstance(),K=(0,s.default)(O).getInstance(),q=(0,o.default)(O).getInstance(),W=(0,a.default)(O).getInstance(),X=(0,p.default)(O).getInstance(),P.on(v.default.QUALITY_CHANGE_REQUESTED,w,x),P.on(v.default.REPRESENTATION_UPDATED,I,x),P.on(v.default.WALLCLOCK_TIME_UPDATED,C,x),P.on(v.default.BUFFER_LEVEL_UPDATED,S,x),P.on(v.default.LIVE_EDGE_SEARCH_COMPLETED,D,x),x}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(22)),a=i(e(17)),s=i(e(38)),l=i(e(61)),u=i(e(69)),c=i(e(72)),d=i(e(101)),f=i(e(103)),p=i(e(102)),h=i(e(150)),g=i(e(163)),y=i(e(9)),v=i(e(13)),m=i(e(53)),A=i(e(10));r.__dashjs_factory_name="RepresentationController",n.default=A.default.getClassFactory(r),t.exports=n.default},{10:10,101:101,102:102,103:103,13:13,150:150,163:163,17:17,22:22,38:38,53:53,61:61,69:69,72:72,9:9}],22:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t){var n,i,r,o=!1,a=!1,s=e.ContentComponent_asArray,l="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var u=e.Representation_asArray[0].codecs;if("stpp"===u||"wvtt"===u)return"fragmentedText"===t}if(s){if(s.length>1)return"muxed"===t;s[0]&&s[0].contentType===t&&(o=!0,a=!0)}if(e.hasOwnProperty("mimeType")&&(o=l.test(e.mimeType),a=!0),!a)for(n=0,i=e.Representation_asArray.length;!a&&n<i;)(r=e.Representation_asArray[n]).hasOwnProperty("mimeType")&&(o=l.test(r.mimeType),a=!0),n++;return o}function t(t){return e(t,"audio")}function n(t){return e(t,"video")}function i(t){return e(t,"fragmentedText")}function r(t){return e(t,"muxed")}function v(e){return"text/vtt"===e||"application/ttml+xml"===e}function m(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function A(e){return m(e).filter(function(e){return"main"===e.value})[0]}function _(){return function(e,t){return e.bandwidth-t.bandwidth}}function E(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(_()),e}function T(t,n,i){var r,o,a=t.Period_asArray[n].AdaptationSet_asArray,s=[];for(r=0,o=a.length;r<o;r++)e(a[r],i)&&s.push(E(a[r]));return s}function M(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function b(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}function I(e){if(!e)throw new Error("Period cannot be null or undefined");var t=s.default.DEFAULT_ID;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(t=e.id),t}function C(e,t){return O.calcPresentationTimeFromWallTime(e.loadedTime,t)}function D(e,t){var n=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=C(e,t)+e.minimumUpdatePeriod),n}function S(e,t){var n,i=D(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(i))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=i}return n}function w(e,t){var n=[];if(!e)return n;for(var i=0;i<e.length;i++){var r=new g.default;if(r.timescale=1,r.representation=t,!e[i].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");r.schemeIdUri=e[i].schemeIdUri,e[i].hasOwnProperty("timescale")&&(r.timescale=e[i].timescale),e[i].hasOwnProperty("value")&&(r.value=e[i].value),n.push(r)}return n}var N=this.context,O=(0,c.default)(N).getInstance(),P=(0,d.default)(N).getInstance(),x=(0,f.default)(N).getInstance(),R=(0,y.default)(N).getInstance();return{getIsTypeOf:e,getIsAudio:t,getIsVideo:n,getIsText:function(t){return e(t,"text")},getIsMuxed:r,getIsTextTrack:v,getIsFragmentedText:i,getIsMain:A,getLanguageForAdaptation:function(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null},getRolesForAdaptation:m,getAccessibilityForAdaptation:function(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]},processAdaptation:E,getAdaptationForIndex:function(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]},getIndexForAdaptation:function(e,t,n){var i,r,o=t.Period_asArray[n].AdaptationSet_asArray;for(i=0,r=o.length;i<r;i++)if(o[i]===e)return i;return-1},getAdaptationForId:function(e,t,n){var i,r,o=t.Period_asArray[n].AdaptationSet_asArray;for(i=0,r=o.length;i<r;i++)if(o[i].hasOwnProperty("id")&&o[i].id===e)return o[i];return null},getAdaptationsForType:T,getAdaptationForType:function(e,t,n,i){var r=T(e,t,n);if(!r||0===r.length)return null;if(r.length>1&&i)for(var o=P.getCurrentTrackFor(n,i),a=x.getAllMediaInfoForType(e,i,n),s=0,l=r.length;s<l;s++){if(o&&P.isTracksEqual(o,a[s]))return r[s];if(A(r[s]))return r[s]}return r[0]},getCodec:function(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'},getMimeType:function(e){return e.Representation_asArray[0].mimeType},getKID:function(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null},getContentProtectionData:function(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:M,getIsDVR:function(e){var t,n=M(e);return t=!isNaN(e.timeShiftBufferDepth),n&&t},getIsOnDemand:function(e){return b(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")},getIsDVB:function(e){return b(e,"urn:dvb:dash:profile:dvb-dash:2014")},getDuration:function(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE},getBandwidth:function(e){return e.bandwidth},getRefreshDelay:function(e){var t=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(t=Math.max(parseFloat(e.minimumUpdatePeriod),2)),t},getRepresentationCount:function(e){return e.Representation_asArray.length},getBitrateListForAdaptation:function(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=E(e).Representation_asArray,n=t.length,i=[],r=0;r<n;r++)i.push({bandwidth:t[r].bandwidth,width:t[r].width||0,height:t[r].height||0});return i},getRepresentationFor:function(e,t){return t.Representation_asArray[e]},getRepresentationsForAdaptation:function(e,t){for(var n,i,r,a,s,l=E(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),u=[],c=0;c<l.Representation_asArray.length;c++)a=l.Representation_asArray[c],(n=new o.default).index=c,n.adaptation=t,a.hasOwnProperty("id")&&(n.id=a.id),a.hasOwnProperty("bandwidth")&&(n.bandwidth=a.bandwidth),a.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=a.maxPlayoutRate),a.hasOwnProperty("SegmentBase")?(r=a.SegmentBase,n.segmentInfoType="SegmentBase"):a.hasOwnProperty("SegmentList")?(r=a.SegmentList).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(s=r.SegmentTimeline.S_asArray[r.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||s.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0):a.hasOwnProperty("SegmentTemplate")?((r=a.SegmentTemplate).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(s=r.SegmentTimeline.S_asArray[r.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||s.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",r.hasOwnProperty("initialization")&&(n.initialization=r.initialization.split("$Bandwidth$").join(a.bandwidth).split("$RepresentationID$").join(a.id))):(r=a.BaseURL,n.segmentInfoType="BaseURL"),r.hasOwnProperty("Initialization")?(i=r.Initialization).hasOwnProperty("sourceURL")?n.initialization=i.sourceURL:i.hasOwnProperty("range")&&(n.range=i.range):a.hasOwnProperty("mimeType")&&v(a.mimeType)&&(n.range=0),r.hasOwnProperty("timescale")&&(n.timescale=r.timescale),r.hasOwnProperty("duration")&&(n.segmentDuration=r.duration/n.timescale),r.hasOwnProperty("startNumber")&&(n.startNumber=r.startNumber),r.hasOwnProperty("indexRange")&&(n.indexRange=r.indexRange),r.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=r.presentationTimeOffset/n.timescale),n.MSETimeOffset=O.calcMSETimeOffset(n),n.path=[t.period.index,t.index,c],u.push(n);return u},getAdaptationsForPeriod:function(e,o){for(var s,l,u=e.Period_asArray[o.index],c=[],d=0;d<u.AdaptationSet_asArray.length;d++)l=u.AdaptationSet_asArray[d],s=new a.default,l.hasOwnProperty("id")&&(s.id=l.id),s.index=d,s.period=o,r(l)?s.type="muxed":t(l)?s.type="audio":n(l)?s.type="video":i(l)?s.type="fragmentedText":s.type="text",c.push(s);return c},getRegularPeriods:function(e,t){var n,i,r=M(e),o=[],a=null,l=null,u=null,c=null;for(i=0,n=e.Period_asArray.length;i<n;i++)(l=e.Period_asArray[i]).hasOwnProperty("start")?(c=new s.default).start=l.start:null!==a&&l.hasOwnProperty("duration")&&null!==u?((c=new s.default).start=u.start+u.duration,c.duration=l.duration):0!==i||r||((c=new s.default).start=0),null!==u&&isNaN(u.duration)&&(u.duration=c.start-u.start),null!==c&&(c.id=I(l)),null!==c&&l.hasOwnProperty("duration")&&(c.duration=l.duration),null!==c&&(c.index=i,c.mpd=t,o.push(c),a=l,u=c),l=null,c=null;return 0===o.length?o:(null!==u&&isNaN(u.duration)&&(u.duration=S(e,u)-u.start),o)},getPeriodId:I,getMpd:function(e){var t=new l.default;return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t},getFetchTime:C,getCheckTime:D,getEndTimeForLastPeriod:S,getEventsForPeriod:function(e,t){var n=e.Period_asArray[t.index].EventStream_asArray,i=[];if(n)for(var r=0;r<n.length;r++){var o=new g.default;if(o.period=t,o.timescale=1,!n[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=n[r].schemeIdUri,n[r].hasOwnProperty("timescale")&&(o.timescale=n[r].timescale),n[r].hasOwnProperty("value")&&(o.value=n[r].value);for(var a=0;a<n[r].Event_asArray.length;a++){var s=new p.default;s.presentationTime=0,s.eventStream=o,n[r].Event_asArray[a].hasOwnProperty("presentationTime")&&(s.presentationTime=n[r].Event_asArray[a].presentationTime),n[r].Event_asArray[a].hasOwnProperty("duration")&&(s.duration=n[r].Event_asArray[a].duration),n[r].Event_asArray[a].hasOwnProperty("id")&&(s.id=n[r].Event_asArray[a].id),i.push(s)}}return i},getEventStreams:w,getEventStreamForAdaptationSet:function(e,t){return w(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)},getEventStreamForRepresentation:function(e,t){return w(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)},getUTCTimingSources:function(e){var t=M(e),n=e.hasOwnProperty("availabilityStartTime"),i=e.UTCTiming_asArray,r=[];return(t||n)&&i&&i.forEach(function(e){var t=new u.default;e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),r.push(t)))}),r},getBaseURLsFromElement:function(e){var t=[],n=!1;return(e.BaseURL_asArray||[e.baseUri]).some(function(i){if(i){var r=new h.default,o=i.__text||i;return R.isRelative(o)&&(n=!0,e.baseUri&&(o=e.baseUri+o)),r.url=o,i.hasOwnProperty("serviceLocation")&&i.serviceLocation.length?r.serviceLocation=i.serviceLocation:r.serviceLocation=o,i.hasOwnProperty("dvb:priority")&&(r.dvb_priority=i["dvb:priority"]),i.hasOwnProperty("dvb:weight")&&(r.dvb_weight=i["dvb:weight"]),t.push(r),n}}),t},getRepresentationSortFunction:_,getLocation:function(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(46)),a=i(e(40)),s=i(e(45)),l=i(e(44)),u=i(e(48)),c=i(e(38)),d=i(e(67)),f=i(e(15)),p=i(e(42)),h=i(e(41)),g=i(e(43)),y=i(e(159)),v=i(e(10));r.__dashjs_factory_name="DashManifestModel",n.default=v.default.getSingletonFactory(r),t.exports=n.default},{10:10,15:15,159:159,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,48:48,67:67}],23:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=(0,s.default)(e).getInstance().log,n=(0,o.default)(e).getInstance(),i=void 0,r=void 0,a=void 0,y=void 0;return i={parse:function(e,i){var o;try{var s=window.performance.now();if(!(o=a.xml_str2json(e)))throw new Error("parser error");var l=window.performance.now();y.run(o);var u=window.performance.now();i.setMatchers(r),i.setIron(y),t("Parsing complete: ( xml2json: "+(l-s).toPrecision(3)+"ms, objectiron: "+(u-l).toPrecision(3)+"ms, total: "+((u-s)/1e3).toPrecision(3)+"s)")}catch(t){return n.manifestError("parsing the manifest failed","parse",e,t),null}return o}},r=[new d.default,new f.default,new p.default,new c.default],a=new u.default(r,"",!0),y=new l.default([new h.default,new g.default]),i}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(152)),a=i(e(10)),s=i(e(8)),l=i(e(3)),u=i(e(4)),c=i(e(32)),d=i(e(30)),f=i(e(29)),p=i(e(31)),h=i(e(26)),g=i(e(27));r.__dashjs_factory_name="DashParser",n.default=a.default.getClassFactory(r),t.exports=n.default},{10:10,152:152,26:26,27:27,29:29,3:3,30:30,31:31,32:32,4:4,8:8}],24:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){i(this,e);this._name=t,this._merge=void 0!==n?n:function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}(t)}return r(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();n.default=o,t.exports=n.default},{}],25:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e(24)),a=function(){function e(t,n,r,a,s){var l=this;i(this,e),this._name=t||"",this._properties=[],this._children=r||[],this._isRoot=a||!1,this._isArray=s||!0,Array.isArray(n)&&n.forEach(function(e){l._properties.push(new o.default(e))})}return r(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();n.default=a,t.exports=n.default},{24:24}],26:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){return e&&e.__esModule?e:{default:e}}(e(25)),s=function(e){function t(){i(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];return o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new a.default("Representation",e,[new a.default("SubRepresentation",e)])])}return r(t,e),t}(a.default);n.default=s,t.exports=n.default},{25:25}],27:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){return e&&e.__esModule?e:{default:e}}(e(25)),s=function(e){function t(){i(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];return o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new a.default("AdaptationSet",e,[new a.default("Representation",e)])])}return r(t,e),t}(a.default);n.default=s,t.exports=n.default},{25:25}],28:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){i(this,e),this._test=t,this._converter=n}return r(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();n.default=o,t.exports=n.default},{}],29:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=60,s=60,l=1e3,u=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,c=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return u.test(e.value)},function(e){var t=u.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*l||0),t[9]&&t[10]){var i=parseInt(t[9],10)*s+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*i*a*l}return new Date(n)})}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(28)).default);n.default=c,t.exports=n.default},{28:28}],30:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,s=31536e3,l=2592e3,u=86400,c=3600,d=60,f=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,i=0;i<n;i++)if(e.nodeName===t[i])return a.test(e.value);return!1},function(e){var t=a.exec(e),n=parseFloat(t[2]||0)*s+parseFloat(t[4]||0)*l+parseFloat(t[6]||0)*u+parseFloat(t[8]||0)*c+parseFloat(t[10]||0)*d+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(28)).default);n.default=f,t.exports=n.default},{28:28}],31:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,s=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return a.test(e.value)},function(e){return parseFloat(e)})}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(28)).default);n.default=s,t.exports=n.default},{28:28}],32:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e,t){var n={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value","id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1},function(e){return String(e)})}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(28)).default);n.default=a,t.exports=n.default},{28:28}],33:[function(e,t,n){function i(){var e=void 0;return{getSamplesInfo:function(t){var n,i,r,o,a,s,l,u,c,d,f,p=e.parse(t),h=p.getBox("tfhd"),g=p.getBox("tfdt"),y=p.getBox("trun"),v=p.getBox("moof");for(d=p.getBox("mfhd").sequence_number,r=y.sample_count,a=g.baseMediaDecodeTime,c=(h.base_data_offset||0)+(y.data_offset||0),s=[],u=0;u<r;u++)n=void 0!==(l=y.samples[u]).sample_duration?l.sample_duration:h.default_sample_duration,o=void 0!==l.sample_size?l.sample_size:h.default_sample_size,i=void 0!==l.sample_composition_time_offset?l.sample_composition_time_offset:0,s.push({dts:a,cts:a+i,duration:n,offset:v.offset+c,size:o}),c+=o,a+=n;return f=a-g.baseMediaDecodeTime,{sampleList:s,sequenceNumber:d,totalDuration:f}},getMediaTimescaleFromMoov:function(t){var n=e.parse(t).getBox("mdhd");return n?n.timescale:NaN},setConfig:function(t){t&&t.boxParser&&(e=t.boxParser)}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="FragmentedTextBoxParser",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],34:[function(e,t,n){function i(e,t){var n=e.timelineConverter;return{getSegments:function(e,i,r,a){var s,l,u,c,d,f,p,h=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,g=h.SegmentURL_asArray.length,y=[];for(p=e.startNumber,c=(0,o.decideSegmentListRangeForTemplate)(n,t,e,i,r,a),d=Math.max(c.start,0),f=Math.min(c.end,h.SegmentURL_asArray.length-1),s=d;s<=f;s++)u=h.SegmentURL_asArray[s],(l=(0,o.getIndexBasedSegment)(n,t,e,s)).replacementTime=(p+s-1)*e.segmentDuration,l.media=u.media?u.media:"",l.mediaRange=u.mediaRange,l.index=u.index,l.indexRange=u.indexRange,y.push(l),l=null;return e.availableSegmentsNumber=g,y}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),o=e(36);i.__dashjs_factory_name="ListSegmentsGetter";var a=r.default.getClassFactory(i);n.default=a,t.exports=n.default},{10:10,36:36}],35:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){function n(e,t){var n,i,r=e.segments,o=!1;return r&&0!==r.length?(i=r[0].availabilityIdx,n=r[r.length-1].availabilityIdx,o=t<i||t>n):o=!0,o}var i=this.context,r=void 0,o=void 0,u=void 0,c=void 0;return r={getSegments:function(e,t,i,r,a){var s,l=e.segmentInfoType;return"SegmentBase"!==l&&"BaseURL"!==l&&n(e,i)?("SegmentTimeline"===l?s=o.getSegments(e,t,i,a):"SegmentTemplate"===l?s=u.getSegments(e,t,i,a):"SegmentList"===l&&(s=c.getSegments(e,t,i,a)),r&&r(e,s)):s=e.segments,s}},o=(0,a.default)(i).create(e,t),u=(0,s.default)(i).create(e,t),c=(0,l.default)(i).create(e,t),r}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(39)),s=i(e(37)),l=i(e(34));r.__dashjs_factory_name="SegmentsGetter";var u=o.default.getClassFactory(r);n.default=u,t.exports=n.default},{10:10,34:34,37:37,39:39}],36:[function(e,t,n){function i(e,t){for(;e.length<t;)e="0"+e;return e}function r(e,t){return e.representation.startNumber+t}function o(e,t,n){for(var r,o,a,s,l,u,c=t.length,d="%0".length;;){if((r=e.indexOf("$"+t))<0)return e;if((o=e.indexOf("$",r+c))<0)return e;if((a=e.indexOf("%0",r+c))>r&&a<o)switch(s=e.charAt(o-1),l=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":u=i(n.toString(),l);break;case"x":u=i(n.toString(16),l);break;case"X":u=i(n.toString(16),l).toUpperCase();break;case"o":u=i(n.toString(8),l);break;default:return e}else u=n;e=e.substring(0,r)+u+e.substring(o+1)}}function a(e,t){if(!t||!t.segments)return null;var n,i,r=t.segments.length;if(e<r&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(i=0;i<r;i++)if((n=t.segments[i])&&n.availabilityIdx===e)return n;return null}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=o,n.getIndexBasedSegment=function(e,t,n,i){var o,a,l,u;return a=n.segmentDuration,isNaN(a)&&(a=n.adaptation.period.duration),l=n.adaptation.period.start+i*a,u=l+a,o=new s.default,o.representation=n,o.duration=a,o.presentationStartTime=l,o.mediaStartTime=e.calcMediaTimeFromPresentationTime(o.presentationStartTime,n),o.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(o.presentationStartTime,n.adaptation.period.mpd,t),o.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,n.adaptation.period.mpd,t),o.wallStartTime=e.calcWallTimeForSegment(o,t),o.replacementNumber=r(o,i),o.availabilityIdx=i,o},n.getTimeBasedSegment=function(e,t,n,i,a,l,u,c,d){var f,p,h,g=i/l,y=Math.min(a/l,n.adaptation.period.mpd.maxSegmentDuration);return f=e.calcPresentationTimeFromMediaTime(g,n),p=f+y,h=new s.default,h.representation=n,h.duration=y,h.mediaStartTime=g,h.presentationStartTime=f,h.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,h.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(p,n.adaptation.period.mpd,t),h.wallStartTime=e.calcWallTimeForSegment(h,t),h.replacementTime=i,h.replacementNumber=r(h,d),u=o(u,"Number",h.replacementNumber),u=o(u,"Time",h.replacementTime),h.media=u,h.mediaRange=c,h.availabilityIdx=d,h},n.getSegmentByIndex=a,n.decideSegmentListRangeForTimeline=function(e,t,n,i,r){var o,a,s=r||10,l=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?{start:0,end:l}:!t&&n||i<0?null:(o=Math.max(i-2,0),a=Math.min(i+s,l),{start:o,end:a})},n.decideSegmentListRangeForTemplate=function(e,t,n,i,r,o){var s,l,u=n.segmentDuration,c=n.adaptation.period.mpd.manifest.minBufferTime,d=n.segmentAvailabilityRange,f={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,d.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,d.end)},p=n.segments,h=2*u,g=o||Math.max(2*c,10*u),y=NaN,v=null;return f.start=Math.max(f.start,0),t&&!e.isTimeSyncCompleted()?(s=Math.floor(f.start/u),l=Math.floor(f.end/u),{start:s,end:l}):(y=p&&p.length>0?(v=a(r,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,v.presentationStartTime):r>0?r*u:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,i):r>0?r*u:t?f.end:f.start,s=Math.floor(Math.max(y-h,f.start)/u),l=Math.floor(Math.min(s+g/u,f.end/u)),{start:s,end:l})};var s=function(e){return e&&e.__esModule?e:{default:e}}(e(47))},{47:47}],37:[function(e,t,n){function i(e,t){var n=e.timelineConverter;return{getSegments:function(e,i,r,a){var s,l,u,c,d,f=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,p=e.segmentDuration,h=e.segmentAvailabilityRange,g=[],y=null,v=null;for(d=e.startNumber,u=(s=isNaN(p)&&!t?{start:d,end:d}:(0,o.decideSegmentListRangeForTemplate)(n,t,e,i,r,a)).start,c=s.end,l=u;l<=c;l++)(v=(0,o.getIndexBasedSegment)(n,t,e,l)).replacementTime=(d+l-1)*e.segmentDuration,y=f.media,y=(0,o.replaceTokenForTemplate)(y,"Number",v.replacementNumber),y=(0,o.replaceTokenForTemplate)(y,"Time",v.replacementTime),v.media=y,g.push(v),v=null;return isNaN(p)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((h.end-h.start)/p),g}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),o=e(36);i.__dashjs_factory_name="TemplateSegmentsGetter";var a=r.default.getClassFactory(i);n.default=a,t.exports=n.default},{10:10,36:36}],38:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t,n,i){return i?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-l)):t.availabilityStartTime}function t(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*l)/1e3}function n(e){u||e.error||(l+=e.liveEdge-(c+e.searchTime),u=!0)}function i(e){u||e.error||(l=e.offset/1e3,u=!0)}var r=this.context,s=(0,o.default)(r).getInstance(),l=void 0,u=void 0,c=void 0;return{initialize:function(){l=0,u=!1,c=NaN,s.on(a.default.LIVE_EDGE_SEARCH_COMPLETED,n,this),s.on(a.default.TIME_SYNCHRONIZATION_COMPLETED,i,this)},isTimeSyncCompleted:function(){return u},setTimeSyncCompleted:function(e){u=e},getClientTimeOffset:function(){return l},getExpectedLiveEdge:function(){return c},setExpectedLiveEdge:function(e){c=e},calcAvailabilityStartTimeFromPresentationTime:function(t,n,i){return e.call(this,t,n,i)},calcAvailabilityEndTimeFromPresentationTime:function(t,n,i){return e.call(this,t,n,i,!0)},calcPresentationTimeFromWallTime:t,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMpdRelativeTimeFromPeriodRelativeTime:function(e,t){return t+e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,n){var i,r,o=e.adaptation.period.start,a=o+e.adaptation.period.duration,s={start:o,end:a},l=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(!n)return s;if(!u&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;i=e.adaptation.period.mpd.checkTime,r=t(new Date,e.adaptation.period),o=Math.max(r-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start);var c=isNaN(i)?r:Math.min(i,r),d=e.adaptation.period.start+e.adaptation.period.duration;return a=(c>=d&&c-l<d?d:c)-l,s={start:o,end:a}},calcWallTimeForSegment:function(e,t){var n,i,r;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,i=e.presentationStartTime+n,r=new Date(e.availabilityStartTime.getTime()+1e3*i)),r},calcMSETimeOffset:function(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function(){s.off(a.default.LIVE_EDGE_SEARCH_COMPLETED,n,this),s.off(a.default.TIME_SYNCHRONIZATION_COMPLETED,i,this),l=0,u=!1,c=NaN}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10));r.__dashjs_factory_name="TimelineConverter",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,9:9}],39:[function(e,t,n){function i(e,t){var n=e.timelineConverter;return{getSegments:function(e,i,r,a){var s,l,u,c,d,f,p,h,g,y,v,m,A,_,E=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,T=E.SegmentTimeline,M=E.SegmentURL_asArray,b=e.availableSegmentsNumber>0,I=0,C=0,D=-1,S=[],w=!1,N=function(i,r){var a=E.media,s=i.mediaRange;return M&&(a=M[r].media||"",s=M[r].mediaRange),(0,o.getTimeBasedSegment)(n,t,e,I,i.d,_,a,s,D)};for(_=e.timescale,s=T.S_asArray,(g=(0,o.decideSegmentListRangeForTimeline)(n,t,i,r,a))?(m=g.start,A=g.end):v=n.calcMediaTimeFromPresentationTime(i||0,e),u=0,c=s.length;u<c;u++){if(l=s[u],f=0,l.hasOwnProperty("r")&&(f=l.r),l.hasOwnProperty("t")&&(C=(I=l.t)/_),f<0){if((h=s[u+1])&&h.hasOwnProperty("t"))p=h.t/_;else{var O=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end;p=n.calcMediaTimeFromPresentationTime(O,e),e.segmentDuration=l.d/_}f=Math.ceil((p-C)/(l.d/_))-1}if(y){if(b)break;D+=f+1}else for(d=0;d<=f;d++){if(D++,g){if(D>A){if(y=!0,b)break;continue}D>=m&&S.push(N(l,D))}else{if(S.length>10){if(y=!0,b)break;continue}w?S.push(N(l,D)):C>=v-l.d/_*1.5&&(w=!0,S.push(N(l,D)))}C=(I+=l.d)/_}}return b||(e.availableSegmentsNumber=D+1),S}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),o=e(36);i.__dashjs_factory_name="TimelineSegmentsGetter";var a=r.default.getClassFactory(i);n.default=a,t.exports=n.default},{10:10,36:36}],40:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],41:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(t,n,r,o){i(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=r||1,this.dvb_weight=o||1};r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,n.default=r,t.exports=n.default},{}],42:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],43:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],44:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1},t.exports=n.default},{}],45:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(){i(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};r.DEFAULT_ID="defaultId",n.default=r,t.exports=n.default},{}],46:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN},t.exports=n.default},{}],47:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],48:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],49:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this.context,n=(0,l.default)(t).getInstance(),i=void 0,r=void 0;return i={checkForExistence:function(e){var t=function(t){n.trigger(u.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var i=new a.default(e.url);r.load({request:i,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var t=function(t,r){n.trigger(u.default.LOADING_COMPLETED,{request:e,response:t||null,error:r||null,sender:i})};e?r.load({request:e,progress:function(){n.trigger(u.default.LOADING_PROGRESS,{request:e})},success:function(e){t(e)},error:function(e,n,i){t(void 0,new s.default(d,i,n))}}):t(void 0,new s.default(f,p))},abort:function(){r&&r.abort()},reset:function(){r&&(r.abort(),r=null)}},r=(0,o.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),i}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(59)),a=i(e(165)),s=i(e(163)),l=i(e(9)),u=i(e(13)),c=i(e(10)),d=1,f=2,p="request is null";r.__dashjs_factory_name="FragmentLoader";var h=c.default.getClassFactory(r);h.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=d,h.FRAGMENT_LOADER_ERROR_NULL_REQUEST=f,n.default=h,t.exports=n.default},{10:10,13:13,163:163,165:165,59:59,9:9}],50:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}var n=this.context,i=(0,d.default)(n).getInstance(),r=(0,s.default)(n).getInstance(),p=e.parser,v=void 0,m=void 0,A=void 0;return v={load:function(e){var t=new l.default(e,c.HTTPRequest.MPD_TYPE);m.load({request:t,success:function(t,n,o){var a,s;o.responseURL&&o.responseURL!==e?(s=r.parseBaseUrl(o.responseURL),a=o.responseURL):(r.isRelative(e)&&(e=r.parseBaseUrl(window.location.href)+e),s=r.parseBaseUrl(e));var l=p.parse(t,A);l?(l.url=a||e,l.originalUrl||(l.originalUrl=l.url),l.baseUri=s,l.loadedTime=new Date,A.resolveManifestOnLoad(l)):i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(h,y)})},error:function(t,n,r){i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(g,"Failed loading manifest: "+e+", "+r)})}})},reset:function(){i.off(f.default.XLINK_READY,t,v),A&&(A.reset(),A=null),m&&(m.abort(),m=null)}},i.on(f.default.XLINK_READY,t,v),m=(0,a.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),A=(0,o.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),v}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(75)),a=i(e(59)),s=i(e(159)),l=i(e(171)),u=i(e(163)),c=e(180),d=i(e(9)),f=i(e(13)),p=i(e(10)),h=1,g=2,y="parsing failed";r.__dashjs_factory_name="ManifestLoader";var v=p.default.getClassFactory(r);v.MANIFEST_LOADER_ERROR_PARSING_FAILURE=h,v.MANIFEST_LOADER_ERROR_LOADING_FAILURE=g,n.default=v,t.exports=n.default},{10:10,13:13,159:159,163:163,171:171,180:180,59:59,75:75,9:9}],51:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){null!==g&&(clearInterval(g),g=null)}function t(){e(),isNaN(h)||(f("Refresh manifest in "+h+" seconds."),g=setTimeout(i,Math.min(1e3*h,Math.pow(2,31)-1),this))}function n(e){var n,i,r=new Date;A.setValue(e),f("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),n=_.getRefreshDelay(e),i=((new Date).getTime()-e.loadedTime.getTime())/1e3,h=Math.max(n-i,0),p.trigger(a.default.MANIFEST_UPDATED,{manifest:e}),y||t()}function i(){var e,t;if(!y&&!v){v=!0,t=(e=A.getValue()).url;var n=_.getLocation(e);n&&(t=n),m.load(t)}}function r(e){e.error||n(e.manifest)}function s(){y=!1,t()}function u(){y=!0,e()}function c(){v=!1}var d=this.context,f=(0,l.default)(d).getInstance().log,p=(0,o.default)(d).getInstance(),h=void 0,g=void 0,y=void 0,v=void 0,m=void 0,A=void 0,_=void 0;return{initialize:function(e){m=e,h=NaN,g=null,v=!1,y=!0,p.on(a.default.STREAMS_COMPOSED,c,this),p.on(a.default.PLAYBACK_STARTED,s,this),p.on(a.default.PLAYBACK_PAUSED,u,this),p.on(a.default.INTERNAL_MANIFEST_LOADED,r,this)},setManifest:function(e){n(e)},getManifestLoader:function(){return m},setConfig:function(e){e&&(e.manifestModel&&(A=e.manifestModel),e.dashManifestModel&&(_=e.dashManifestModel))},reset:function(){p.off(a.default.PLAYBACK_STARTED,s,this),p.off(a.default.PLAYBACK_PAUSED,u,this),p.off(a.default.STREAMS_COMPOSED,c,this),p.off(a.default.INTERNAL_MANIFEST_LOADED,r,this),y=!0,v=!1,e(),h=NaN}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10)),l=i(e(8));r.__dashjs_factory_name="ManifestUpdater",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,8:8,9:9}],52:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){return!!ke&&!!ve}function t(){if(!_e)throw le;return xe.isPaused()}function n(e){var t=re();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function i(e){if(!_e)throw le;var t=q().currentTime;if(void 0!==e)t=Oe.getTimeRelativeToStreamId(t,e);else if(xe.getIsDynamic()){var n=re();t=null===n?0:r()-(n.range.end-n.time)}return t}function r(){if(!_e)throw le;var e=q().duration;if(xe.getIsDynamic()){var t,n=re();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function U(){return(0,R.getVersionString)()}function B(e){Ee=e}function V(){return Re}function H(e){return De.getReadOnlyMetricsFor(e)}function Y(e){if(!_e)throw le;var t=Oe.getActiveStreamInfo();return t?Me.getTracksFor(e,t):[]}function Q(e,t){G(e,t);var n=new o.default;n.schemeIdUri=e,n.value=t,Se.getUTCTimingSources().push(n)}function G(e,t){var n=Se.getUTCTimingSources();n.forEach(function(i,r){i.schemeIdUri===e&&i.value===t&&n.splice(r,1)})}function K(){Q(A.default.DEFAULT_UTC_TIMING_SOURCE.scheme,A.default.DEFAULT_UTC_TIMING_SOURCE.value)}function q(){if(!ke)throw ue;return ke.getElement()}function W(e){if(!Ae)throw de;ke=null,e&&((ke=(0,b.default)(fe).getInstance()).initialize(),ke.setElement(e),ne(),ie()),Z()}function X(e){if(!Ae)throw de;if("string"==typeof e){var t=(0,v.default)(fe).getInstance();t.initialize(),ve=t.parseURI(e)}else ve=e;Z()}function Z(){_e?(_e=!1,Ce.reset(),Oe.reset(),xe.reset(),Te.reset(),Pe.reset(),Me.reset(),Oe=null,Ie=null,e()&&se()):e()&&se()}function J(){var e=(0,C.default)(fe).getInstance();e.initialize();var t=(0,M.default)(fe).getInstance();t.initialize(),(0,h.default)(fe).getInstance().setConfig({dashManifestModel:Le}),Me.initialize(),Me.setConfig({errHandler:we}),(Pe=(0,I.default)(fe).getInstance()).initialize(),Pe.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),(Oe=(0,s.default)(fe).getInstance()).setConfig({capabilities:Ne,manifestLoader:$(),manifestModel:(0,m.default)(fe).getInstance(),dashManifestModel:Le,protectionController:be,adapter:Ce,metricsModel:De,dashMetrics:Re,liveEdgeFinder:(0,c.default)(fe).getInstance(),mediaSourceController:(0,D.default)(fe).getInstance(),timeSyncController:(0,T.default)(fe).getInstance(),baseURLController:(0,S.default)(fe).getInstance(),errHandler:we,timelineConverter:(0,z.default)(fe).getInstance()}),Oe.initialize(Ee,me),Te.setConfig({abrRulesCollection:t,rulesController:Pe,streamController:Oe})}function $(){return(0,u.default)(fe).create({errHandler:we,parser:ee(),metricsModel:De,requestModifier:(0,g.default)(fe).getInstance()})}function ee(){return(0,k.default)(fe).create()}function te(){return(Ce=(0,L.default)(fe).getInstance()).initialize(),Ce.setConfig({dashManifestModel:Le}),Ce}function ne(){if(be)return be;var e=dashjs.Protection;if("function"==typeof e){var t=e(fe).create();return O.default.extend(e.events),P.default.extend(e.events,{publicOnly:!0}),be=t.createProtectionSystem({log:ge,videoModel:ke,capabilities:Ne,eventBus:pe,adapter:Ce})}return null}function ie(){if(Ie)return Ie;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(fe).create();return Ie=t.createMetricsReporting({log:ge,eventBus:pe,mediaElement:q(),dashManifestModel:Le,metricsModel:De})}return null}function re(){var e=De.getReadOnlyMetricsFor("video")||De.getReadOnlyMetricsFor("audio");return Re.getCurrentDVRInfo(e)}function oe(e){var t,n=re();return n?(t=n.manifestInfo.availableFrom.getTime()/1e3,e+(t+n.range.start)):0}function ae(){if(!_e)throw le;var e=Oe.getActiveStreamInfo();return e?Oe.getStreamById(e.id):null}function se(){_e||(_e=!0,ge("Playback Initialized"),J(),"string"==typeof ve?Oe.load(ve):Oe.loadWithManifest(ve))}var le="You must first call play() to init playback before calling this method",ue="You must first call attachView() to set the video element before calling this method",ce="You must first call attachSource() with a valid source before calling this method",de="MediaPlayer not initialized!",fe=this.context,pe=(0,N.default)(fe).getInstance(),he=(0,w.default)(fe).getInstance(),ge=he.log,ye=void 0,ve=void 0,me=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Me=void 0,be=void 0,Ie=void 0,Ce=void 0,De=void 0,Se=void 0,we=void 0,Ne=void 0,Oe=void 0,Pe=void 0,xe=void 0,Re=void 0,Le=void 0,ke=void 0,je=void 0;return ye={initialize:function(e,t,n){Ne=(0,f.default)(fe).getInstance(),we=(0,d.default)(fe).getInstance(),Ne.supportsMediaSource()?Ae||(Ae=!0,Te=(0,E.default)(fe).getInstance(),xe=(0,a.default)(fe).getInstance(),(Me=(0,l.default)(fe).getInstance()).initialize(),Le=(0,j.default)(fe).getInstance(),Re=(0,F.default)(fe).getInstance(),(De=(0,_.default)(fe).getInstance()).setConfig({adapter:te()}),K(),B(void 0===n||n),e&&W(e),t&&X(t),ge("[dash.js "+U()+"] MediaPlayer has been initialized")):we.capabilityError("mediasource")},on:function(e,t,n){pe.on(e,t,n)},off:function(e,t,n){pe.off(e,t,n)},extend:function(e,t,n){x.default.extend(e,t,n,fe)},attachView:W,attachSource:X,isReady:e,play:function(){if(!_e)throw le;(!Ee||t()&&_e)&&xe.play()},isPaused:t,pause:function(){if(!_e)throw le;xe.pause()},isSeeking:function(){if(!_e)throw le;return xe.isSeeking()},seek:function(e){if(!_e)throw le;var t=xe.getIsDynamic()?n(e):e;xe.seek(t)},setMute:function(e){if(!ke)throw ue;q().muted=e},isMuted:function(){if(!ke)throw ue;return q().muted},setVolume:function(e){if(!ke)throw ue;q().volume=e},getVolume:function(){if(!ke)throw ue;return q().volume},time:i,duration:r,timeAsUTC:function(){if(!_e)throw le;return i()<0?NaN:oe(i())},durationAsUTC:function(){if(!_e)throw le;return oe(r())},getActiveStream:ae,getDVRWindowSize:function(){var e=re();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:n,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(i<10?"0"+i.toString():i.toString())},formatUTC:function(e,t,n){var i=new Date(1e3*e),r=i.toLocaleDateString(t);return i.toLocaleTimeString(t,{hour12:n})+" "+r},getVersion:U,getDebug:function(){return he},getBufferLength:function(e){var t=["video","audio","fragmentedText"];if(e){if(-1!==t.indexOf(e)){var n=V().getCurrentBufferLevel(H(e));return n||NaN}return ge("Warning  - getBufferLength requested for invalid type"),NaN}return t.map(function(e){return Y(e).length>0?V().getCurrentBufferLevel(H(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})},getVideoModel:function(){if(!ke)throw ue;return ke},getVideoContainer:function(){return ke?ke.getVideoContainer():null},getTTMLRenderingDiv:function(){return ke?ke.getTTMLRenderingDiv():null},getVideoElement:q,getSource:function(){if(!ve)throw ce;return ve},setLiveDelayFragmentCount:function(e){Se.setLiveDelayFragmentCount(e)},setLiveDelay:function(e){Se.setLiveDelay(e)},useSuggestedPresentationDelay:function(e){Se.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function(e,t){Se.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function(e,t){Se.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function(e,t){Te.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function(e){return Te.getMaxAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function(e,t){Te.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function(e){return Te.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:B,getAutoPlay:function(){return Ee},setScheduleWhilePaused:function(e){Se.setScheduleWhilePaused(e)},getScheduleWhilePaused:function(){return Se.getScheduleWhilePaused()},getDashMetrics:V,getMetricsFor:H,getQualityFor:function(e){if(!_e)throw le;return Te.getQualityFor(e,Oe.getActiveStreamInfo())},setQualityFor:function(e,t){if(!_e)throw le;Te.setPlaybackQuality(e,Oe.getActiveStreamInfo(),t)},getLimitBitrateByPortal:function(){return Te.getLimitBitrateByPortal()},setLimitBitrateByPortal:function(e){Te.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function(){return Te.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function(e){Te.setUsePixelRatioInLimitBitrateByPortal(e)},setTextTrack:function(e){if(!_e)throw le;void 0===je&&(je=(0,y.default)(fe).getInstance());for(var t=q().textTracks,n=t.length,i=0;i<n;i++){var r=t[i],o=e===i?"showing":"hidden";r.mode!==o&&(r.mode=o)}je.setTextTrack()},getBitrateInfoListFor:function(e){if(!_e)throw le;var t=ae();return t?t.getBitrateListFor(e):[]},setInitialBitrateFor:function(e,t){Te.setInitialBitrateFor(e,t)},getInitialBitrateFor:function(e){if(!_e)throw le;return Te.getInitialBitrateFor(e)},setInitialRepresentationRatioFor:function(e,t){Te.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function(e){return Te.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:function(e){if(!_e)throw le;return Ce.getStreamsInfo(e)},getTracksFor:Y,getTracksForTypeFromManifest:function(e,t,n){if(!_e)throw le;return n=n||Ce.getStreamsInfo(t)[0],n?Ce.getAllMediaInfoForType(t,n,e):[]},getCurrentTrackFor:function(e){if(!_e)throw le;var t=Oe.getActiveStreamInfo();return t?Me.getCurrentTrackFor(e,t):null},setInitialMediaSettingsFor:function(e,t){Me.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){return Me.getInitialSettings(e)},setCurrentTrack:function(e){if(!_e)throw le;Me.setTrack(e)},getTrackSwitchModeFor:function(e){return Me.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){Me.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){Me.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){return Me.getSelectionModeForInitialTrack()},getAutoSwitchQuality:function(){return Te.getAutoSwitchBitrateFor("video")||Te.getAutoSwitchBitrateFor("audio")},setAutoSwitchQuality:function(e){Te.setAutoSwitchBitrateFor("video",e),Te.setAutoSwitchBitrateFor("audio",e)},setFastSwitchEnabled:function(e){Se.setFastSwitchEnabled(e)},getFastSwitchEnabled:function(){return Se.getFastSwitchEnabled()},getAutoSwitchQualityFor:function(e){return Te.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function(e,t){Te.setAutoSwitchBitrateFor(e,t)},enableBufferOccupancyABR:function(e){Se.setBufferOccupancyABREnabled(e)},setBandwidthSafetyFactor:function(e){Se.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function(){return Se.getBandwidthSafetyFactor()},setAbandonLoadTimeout:function(e){Se.setAbandonLoadTimeout(e)},retrieveManifest:function(e,t){var n=$(),i=this;pe.on(O.default.INTERNAL_MANIFEST_LOADED,function e(r){r.error?t(null,r.error):t(r.manifest),pe.off(O.default.INTERNAL_MANIFEST_LOADED,e,i),n.reset()},i);var r=(0,v.default)(fe).getInstance();r.initialize(),n.load(r.parseURI(e))},addUTCTimingSource:Q,removeUTCTimingSource:G,clearDefaultUTCTimingSources:function(){Se.setUTCTimingSources([])},restoreDefaultUTCTimingSources:K,setBufferToKeep:function(e){Se.setBufferToKeep(e)},setBufferPruningInterval:function(e){Se.setBufferPruningInterval(e)},setStableBufferTime:function(e){Se.setStableBufferTime(e)},setBufferTimeAtTopQuality:function(e){Se.setBufferTimeAtTopQuality(e)},setFragmentLoaderRetryAttempts:function(e){Se.setFragmentRetryAttempts(e)},setFragmentLoaderRetryInterval:function(e){Se.setFragmentRetryInterval(e)},setXHRWithCredentials:function(e){Se.setXHRWithCredentials(e)},setBufferTimeAtTopQualityLongForm:function(e){Se.setBufferTimeAtTopQualityLongForm(e)},setLongFormContentDurationThreshold:function(e){Se.setLongFormContentDurationThreshold(e)},setRichBufferThreshold:function(e){Se.setRichBufferThreshold(e)},getProtectionController:function(){return ne()},attachProtectionController:function(e){be=e},setProtectionData:function(e){me=e},enableManifestDateHeaderTimeSource:function(e){Se.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function(e){var t=(0,p.default)(fe).getInstance();t.setConfig({videoModel:ke}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:function(e){if(!ke)throw ue;ke.setVideoContainer(e)},attachTTMLRenderingDiv:function(e){if(!ke)throw ue;ke.setTTMLRenderingDiv(e)},reset:function(){X(null),W(null),me=null,be=null}},Ae=!1,_e=!1,Ee=!0,be=null,me=null,Ce=null,O.default.extend(P.default),Se=(0,A.default)(fe).getInstance(),ye}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(48)),a=i(e(69)),s=i(e(72)),l=i(e(67)),u=i(e(50)),c=i(e(155)),d=i(e(152)),f=i(e(148)),p=i(e(58)),h=i(e(71)),g=i(e(157)),y=i(e(57)),v=i(e(104)),m=i(e(101)),A=i(e(102)),_=i(e(103)),E=i(e(61)),T=i(e(74)),M=i(e(132)),b=i(e(105)),I=i(e(130)),C=i(e(145)),D=i(e(68)),S=i(e(62)),w=i(e(8)),N=i(e(9)),O=i(e(13)),P=i(e(53)),x=i(e(10)),R=e(11),L=i(e(15)),k=i(e(23)),j=i(e(22)),F=i(e(17)),z=i(e(38));r.__dashjs_factory_name="MediaPlayer";var U=x.default.getClassFactory(r);U.events=P.default,n.default=U,t.exports=n.default},{10:10,101:101,102:102,103:103,104:104,105:105,11:11,13:13,130:130,132:132,145:145,148:148,15:15,152:152,155:155,157:157,17:17,22:22,23:23,38:38,48:48,50:50,53:53,57:57,58:58,61:61,62:62,67:67,68:68,69:69,71:71,72:72,74:74,8:8,9:9}],53:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=new(function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streamInitialized",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(14)).default));n.default=a,t.exports=n.default},{14:14}],54:[function(e,t,n){"use strict";function i(){window.removeEventListener("load",i),o.createAll()}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(52)),o=function(){function e(e,t,i){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var o,a=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==n})[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return i=i||{},(o=(0,r.default)(i).create()).initialize(e,t.src,e.autoplay),o.getDebug().log("Converted "+a+" to dash.js player and added content: "+t.src),e._dashjs_player=o,o}function t(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var n="application/dash+xml";return{create:e,createAll:function(i,r){var o=[];i=i||"[data-dashjs-player]";for(var a=(r=r||document).querySelectorAll(i),s=0;s<a.length;s++)u=e(a[s],null),o.push(u);for(var l=r.querySelectorAll('source[type="'+n+'"]'),s=0;s<l.length;s++){var u=e(t(l[s]),null);o.push(u)}return o}}}();!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?o.createAll():window.addEventListener("load",i)),n.default=o,t.exports=n.default},{52:52}],55:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){for(var e=W.length,t=0;t<e;t++)W[t].reset();W=[],X=!1,Z=!1,i(),U.off(A.default.CURRENT_TRACK_CHANGED,b,q)}function n(){re&&(re.pause(),re=null),ae&&(ae.reset(),ae=null),ie.abortSearch(),t(),oe=null,le=null,V=null,B=null,H=null,Y=null,z=null,Q=null,ee=!1,te=!1,$={},U.off(A.default.DATA_UPDATE_COMPLETED,R,q),U.off(A.default.BUFFERING_COMPLETED,x,q),U.off(A.default.KEY_ERROR,r,q),U.off(A.default.SERVER_CERTIFICATE_UPDATED,r,q),U.off(A.default.LICENSE_REQUEST_COMPLETE,r,q),U.off(A.default.KEY_SYSTEM_SELECTED,r,q),U.off(A.default.KEY_SESSION_CREATED,r,q)}function i(){se&&se.clear()}function r(e){e.error&&(Q.mediaKeySessionError(e.error),z(e.error),n())}function E(e){return"text"===e.type?e.mimeType:e.type}function M(e,t,n){var i,r,o=e.type;if("muxed"===o&&e)return r="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",z(r),Q.manifestError(r,"multiplexedrep",B.getValue()),!1;if("text"===o||"fragmentedText"===o||"embeddedText"===o)return!0;if(i=e.codec,z(o+" codec: "+i),e.contentProtection&&!Y.supportsEncryptedMedia())Q.capabilityError("encryptedmedia");else if(!Y.supportsCodec((0,d.default)(F).getInstance().getElement(),i))return r=o+"Codec ("+i+") is not supported.",Q.manifestError(r,"codec",n),z(r),!1;return!0}function b(e){if(e.newMediaInfo.streamInfo.id===J.id){var t=L(e.oldMediaInfo);if(t){var n=re.getTime(),i=t.getBuffer(),r=e.newMediaInfo,o=B.getValue(),a=W.indexOf(t),s=t.getMediaSource();"fragmentedText"!==r.type?(t.reset(!0),D(r,o,s,{buffer:i,replaceIdx:a,currentTime:n}),re.seek(re.getTime())):t.updateMediaInfo(o,r)}}}function I(e){return"webm"===e.split("/")[1].toLowerCase()}function C(e){var t=I(e.mimeType)?(0,y.default)(F).getInstance():(0,g.default)(F).getInstance();return t.setConfig({baseURLController:K,metricsModel:(0,f.default)(F).getInstance()}),t.initialize(),(0,h.default)(F).create({segmentBaseLoader:t,timelineConverter:G,dashMetrics:(0,v.default)(F).getInstance(),metricsModel:(0,f.default)(F).getInstance(),baseURLController:K})}function D(e,t,n,i){var r=(0,a.default)(F).create({indexHandler:C(e),timelineConverter:G,adapter:H,manifestModel:B}),o=H.getAllMediaInfoForType(t,J,e.type);if(r.initialize(E(e),ae,n,q,se),le.updateTopQualityIndex(e),i?(r.setBuffer(i.buffer),r.getIndexHandler().setCurrentTime(i.currentTime),W[i.replaceIdx]=r):W.push(r),"text"===e.type||"fragmentedText"===e.type){for(var s,l=0;l<o.length;l++)o[l].index===e.index&&(s=l),r.updateMediaInfo(t,o[l]);"fragmentedText"===e.type&&r.updateMediaInfo(t,o[s])}else r.updateMediaInfo(t,e);return r}function S(e,t){var n=B.getValue(),i=H.getAllMediaInfoForType(n,J,e),r=null;if(i&&0!==i.length){for(var o=0,a=i.length;o<a;o++)if(r=i[o],"embeddedText"===e)ue.addEmbeddedTrack(r);else{if(!M(r,t,n))continue;oe.isMultiTrackSupportedByType(r.type)&&oe.addTrack(r,J)}"embeddedText"!==e&&0!==oe.getTracksFor(e,J).length&&(oe.checkInitialMediaSettingsForType(e,J),D(oe.getCurrentTrackFor(e,J),n,t))}else z("No "+e+" data.")}function w(e){var t,n=B.getValue();if((se=(0,l.default)(F).getInstance()).initialize(),se.setConfig({manifestModel:B,manifestUpdater:V}),t=H.getEventsFor(n,J),se.addInlineEvents(t),ee=!0,S("video",e),S("audio",e),S("text",e),S("fragmentedText",e),S("embeddedText",e),S("muxed",e),P(),Z=!0,ee=!1,0===W.length){var i="No streams to play.";Q.manifestError(i,"nostreams",n),z(i)}else ie.initialize(G,W[0]),N()}function N(){var e=W.length,t=!!$.audio||!!$.video?new Error(j,"Data update failed",null):null,n=0;for(n;n<e;n++)if(W[n].isUpdating()||ee)return;te=!0,X=!0,Z&&(ne&&ne.initialize(B.getValue(),O("audio"),O("video")),U.trigger(A.default.STREAM_INITIALIZED,{streamInfo:J,error:t}))}function O(e){for(var t=W.length,n=null,i=0;i<t;i++)if((n=W[i]).getType()===e)return n.getMediaInfo();return null}function P(){for(var e=0,t=W.length;e<t;e++)W[e].createBuffer()}function x(e){if(e.streamInfo===J){var t=k(),n=t.length,i=0;for(i;i<n;i++)if(!t[i].isBufferingCompleted())return;U.trigger(A.default.STREAM_BUFFERING_COMPLETED,{streamInfo:J})}}function R(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===J&&($[t.getType()]=e.error,N())}function L(e){return!!e&&k().filter(function(t){return t.getType()===e.type})[0]}function k(){var e,t,n=W.length,i=[],r=0;for(r;r<n;r++)"audio"!==(e=(t=W[r]).getType())&&"video"!==e&&"fragmentedText"!==e||i.push(t);return i}var j=1,F=this.context,z=(0,_.default)(F).getInstance().log,U=(0,m.default)(F).getInstance(),B=e.manifestModel,V=e.manifestUpdater,H=e.adapter,Y=e.capabilities,Q=e.errHandler,G=e.timelineConverter,K=e.baseURLController,q=void 0,W=void 0,X=void 0,Z=void 0,J=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,ie=void 0,re=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0;return q={initialize:function(e,t){J=e,(ne=t)&&(U.on(A.default.KEY_ERROR,r,q),U.on(A.default.SERVER_CERTIFICATE_UPDATED,r,q),U.on(A.default.LICENSE_REQUEST_COMPLETE,r,q),U.on(A.default.KEY_SYSTEM_SELECTED,r,q),U.on(A.default.KEY_SESSION_CREATED,r,q))},activate:function(e){X?P():(U.on(A.default.CURRENT_TRACK_CHANGED,b,q),w(e))},deactivate:t,getDuration:function(){return J.duration},getStartTime:function(){return J.start},getStreamIndex:function(){return J.index},getId:function(){return J.id},getStreamInfo:function(){return J},hasMedia:function(e){return null!==O(e)},getBitrateListFor:function(e){var t=O(e);return le.getBitrateList(t)},startEventController:function(){se&&se.start()},isActivated:function(){return X},isInitialized:function(){return te},updateData:function(e){z("Manifest updated... updating data system wide.");var t=B.getValue();if(X=!1,ee=!0,te=!1,J=e,se){var n=H.getEventsFor(t,J);se.addInlineEvents(n)}for(var i=0,r=W.length;i<r;i++){var o=W[i],a=H.getMediaInfoForType(t,J,o.getType());le.updateTopQualityIndex(a),o.updateMediaInfo(t,a)}ee=!1,N()},reset:n,getProcessors:k},W=[],X=!1,Z=!1,J=null,$={},ee=!1,te=!1,ie=(0,o.default)(F).getInstance(),re=(0,p.default)(F).getInstance(),le=(0,c.default)(F).getInstance(),oe=(0,s.default)(F).getInstance(),ae=(0,u.default)(F).create(),ue=(0,T.default)(F).getInstance(),U.on(A.default.BUFFERING_COMPLETED,x,q),U.on(A.default.DATA_UPDATE_COMPLETED,R,q),q}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(155)),a=i(e(56)),s=i(e(67)),l=i(e(65)),u=i(e(66)),c=i(e(61)),d=i(e(105)),f=i(e(103)),p=i(e(69)),h=i(e(16)),g=i(e(18)),y=i(e(19)),v=i(e(17)),m=i(e(9)),A=i(e(13)),_=i(e(8)),E=i(e(10)),T=i(e(57));r.__dashjs_factory_name="Stream",n.default=E.default.getClassFactory(r),t.exports=n.default},{10:10,103:103,105:105,13:13,155:155,16:16,17:17,18:18,19:19,56:56,57:57,61:61,65:65,66:66,67:67,69:69,8:8,9:9}],56:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){return"video"===e||"audio"===e||"fragmentedText"===e?(0,a.default)(n).create({metricsModel:(0,p.default)(n).getInstance(),manifestModel:M,sourceBufferController:(0,y.default)(n).getInstance(),errHandler:(0,E.default)(n).getInstance(),streamController:(0,s.default)(n).getInstance(),mediaController:(0,l.default)(n).getInstance(),adapter:T,textSourceBuffer:(0,v.default)(n).getInstance()}):(0,u.default)(n).create({errHandler:(0,E.default)(n).getInstance(),sourceBufferController:(0,y.default)(n).getInstance()})}var n=this.context,i=e.indexHandler,r=e.timelineConverter,T=e.adapter,M=e.manifestModel,b=void 0,I=void 0,C=void 0,D=void 0,S=void 0,w=void 0,N=void 0,O=void 0,P=void 0,x=void 0,R=void 0,L=void 0,k=void 0,j=void 0;return b={initialize:function(e,a,s,l,u){D=e,N=u,L=a,I=(w=l).getStreamInfo().manifestInfo.isDynamic,i.initialize(this),(O=(0,o.default)(n).getInstance()).initialize(D,this),P=t(e),x=(0,c.default)(n).create({metricsModel:(0,p.default)(n).getInstance(),manifestModel:M,adapter:T,dashMetrics:(0,A.default)(n).getInstance(),dashManifestModel:(0,m.default)(n).getInstance(),timelineConverter:r,rulesController:(0,d.default)(n).getInstance(),mediaPlayerModel:(0,f.default)(n).getInstance()}),P.initialize(D,s,this),x.initialize(D,this),k=(0,h.default)(n).create({metricsModel:(0,p.default)(n).getInstance(),errHandler:(0,E.default)(n).getInstance(),requestModifier:(0,g.default)(n).getInstance()}),(j=x.getFragmentModel()).setLoader(k),(R=(0,_.default)(n).create()).initialize(this)},isUpdating:function(){return R.isUpdating()},getType:function(){return D},getBufferController:function(){return P},getABRController:function(){return O},getFragmentLoader:function(){return k},getFragmentModel:function(){return j},getScheduleController:function(){return x},getEventController:function(){return N},getFragmentController:function(){return L},getRepresentationController:function(){return R},getIndexHandler:function(){return i},getCurrentRepresentationInfo:function(){return T.getCurrentRepresentationInfo(M.getValue(),R)},getRepresentationInfoForQuality:function(e){return T.getRepresentationInfoForQuality(M.getValue(),R,e)},isBufferingCompleted:function(){return P.getIsBufferingCompleted()},createBuffer:function(){return P.getBuffer()||P.createBuffer(C)},getStreamInfo:function(){return w.getStreamInfo()},updateMediaInfo:function(e,t){t===C||t&&C&&t.type!==C.type||(C=t),-1===S.indexOf(t)&&S.push(t),T.updateData(e,this)},getMediaInfoArr:function(){return S},getMediaInfo:function(){return C},getMediaSource:function(){return P.getMediaSource()},getBuffer:function(){return P.getBuffer()},setBuffer:function(e){P.setBuffer(e)},start:function(){x.start()},stop:function(){x.stop()},isDynamic:function(){return I},reset:function(e){i.reset(),P&&(P.reset(e),P=null),x&&(x.reset(),x=null),R&&(R.reset(),R=null),L=null,k=null,N=null,w=null,I=null,C=null,S=[],D=null}},S=[],b}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(61)),a=i(e(64)),s=i(e(72)),l=i(e(67)),u=i(e(73)),c=i(e(70)),d=i(e(130)),f=i(e(102)),p=i(e(103)),h=i(e(49)),g=i(e(157)),y=i(e(71)),v=i(e(57)),m=i(e(22)),A=i(e(17)),_=i(e(21)),E=i(e(152)),T=i(e(10));r.__dashjs_factory_name="StreamProcessor",n.default=T.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,103:103,130:130,152:152,157:157,17:17,21:21,22:22,49:49,57:57,61:61,64:64,67:67,70:70,71:71,72:72,73:73}],57:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){Q=[],R=[],B=(0,d.default)(_).getInstance(),(L=(0,f.default)(_).getInstance()).setConfig({videoModel:B}),L.initialize(),b=(0,s.default)(_).getInstance(),(x=(0,a.default)(_).getInstance()).setConfig({boxParser:b}),k=!1,Y=null,G=!1,K=0,X=[],W=[],q=null,T=!0}function t(e){var t=b.parse(e),n=t.getBox("moof"),i=t.getBox("tfdt"),r=t.getBoxes("trun"),o=null;if(0===r.length)return null;o=r[0],r.length>1&&E("Warning: Too many truns");for(var a=n.offset+o.data_offset,s=o.sample_count,l=a,u=i.baseMediaDecodeTime,c=new DataView(e),d={startTime:null,endTime:null,fields:[[],[]]},f=0,p=0;p<s;p++){for(var g=o.samples[p],y=u+f+g.sample_composition_time_offset,v=h.default.findCea608Nalus(c,l,g.sample_size),m=0;m<v.length;m++)for(var A=h.default.extractCea608DataFromRange(c,v[m]),_=0;_<2;_++)A[_].length>0&&function(e,t,n){var i=e.length;if(i>0){if(t>=e[i-1][0])e.push([t,n]);else for(var r=i-1;r>=0;r--)if(t<e[r][0]){e.splice(r,0,[t,n]);break}}else e.push([t,n])}(d.fields[_],y,A[_]);f+=g.sample_duration,l+=g.sample_size}var T=u+f;return d.startTime=u,d.endTime=T,d}function n(e){for(var t="",n=0;n<e.length;++n)t+=e[n].uchar;return t.length-t.replace(/^\s+/,"").length}function i(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function r(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function u(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?r(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?r(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function g(e){return e.replace(/^\s+/g,"")}function y(e){return e.replace(/\s+$/g,"")}function v(e,t,r,o){var a=null,s=!1,l=-1,c={start:t,end:r,spans:[]},d="style_cea608_white_black",f={},p={},h=[],v=void 0,m=void 0;for(v=0;v<15;++v){var A=o.rows[v],_="",E=null;if(!1===A.isEmpty()){var T=n(A.chars);null===a&&(a={x:T,y1:v,y2:v+1,p:[]}),T!==l&&s&&(a.p.push(c),c={start:t,end:r,spans:[]},a.y2=v,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===f.hasOwnProperty(a.name)?(h.push(a),f[a.name]=a):f[a.name].p.contat(a.p),a={x:T,y1:v,y2:v+1,p:[]});for(var b=0;b<A.chars.length;++b){var I=A.chars[b],C=I.penState;if(null===E||!C.equals(E)){_.trim().length>0&&(c.spans.push({name:d,line:_,row:v}),_="");var D="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(D+="_underline"),C.italics&&(D+="_italics"),p.hasOwnProperty(D)||(p[D]=JSON.parse(JSON.stringify(C))),E=C,d=D}_+=I.uchar}_.trim().length>0&&c.spans.push({name:d,line:_,row:v}),s=!0,l=T}else s=!1,l=-1,a&&(a.p.push(c),c={start:t,end:r,spans:[]},a.y2=v,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===f.hasOwnProperty(a.name)?(h.push(a),f[a.name]=a):f[a.name].p.contat(a.p),a=null)}a&&(a.p.push(c),a.y2=v+1,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===f.hasOwnProperty(a.name)?(h.push(a),f[a.name]=a):f[a.name].p.contat(a.p),a=null);var S=[];for(v=0;v<h.length;++v){var w=h[v],N="sub_cea608_"+M++,O=document.createElement("div");O.id=N;var P=i(w);O.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+P;var x=document.createElement("div");x.className="paragraph bodyStyle",x.style.cssText=u(e);var R=document.createElement("div");R.className="cueUniWrapper",R.style.cssText="unicode-bidi: normal; direction: ltr;";for(var L=0;L<w.p.length;++L){var k=w.p[L],j=0;for(m=0;m<k.spans.length;++m){var F=k.spans[m];if(F.line.length>0){if(0!==m&&j!=F.row){var z=document.createElement("br");z.className="lineBreak",R.appendChild(z)}var U=!1;j===F.row&&(U=!0),j=F.row;var B=p[F.name],V=document.createElement("span");V.className="spanPadding "+F.name+" customSpanColor",V.style.cssText=u(e,B),0!==m&&U?m===k.spans.length-1?V.textContent=y(F.line):V.textContent=F.line:0===m&&k.spans.length>1&&F.row===k.spans[1].row?V.textContent=g(F.line):V.textContent=F.line.trim(),R.appendChild(V)}}}x.appendChild(R),O.appendChild(x);var H={bodyStyle:90};for(m in p)p.hasOwnProperty(m)&&(H[m]=90);S.push({type:"html",start:t,end:r,cueHTMLElement:O,cueID:N,cellResolution:[32,15],isFromCEA608:!0,regions:h,regionID:w.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:H||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return S}function m(e){var t=!1;return Q.length>1?t=e.id&&"CC1"===e.id:1===Q.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===R[0].index,t}function A(e){var t;return e.search("vtt")>=0?t=O:(e.search("ttml")>=0||e.search("stpp")>=0)&&(t=P).setConfig({videoModel:B}),t}var _=this.context,E=(0,c.default)(_).getInstance().log,T=!1,M=0,b=void 0,I=void 0,C=void 0,D=void 0,S=void 0,w=void 0,N=void 0,O=void 0,P=void 0,x=void 0,R=void 0,L=void 0,k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0;return{initialize:function(t,n){w=!1,N=null,j=null,F=!1,z=NaN,U=[],H=null,T||e();var i=n.getStreamProcessor();if(R=i.getMediaInfoArr(),L.setConfig({videoModel:B}),L.initialize(),k=!D.getIsTextTrack(t),b=(0,s.default)(_).getInstance(),(x=(0,a.default)(_).getInstance()).setConfig({boxParser:b}),k){j=i.getFragmentModel(),this.buffered=(0,l.default)(_).create(),U=S.getTracksFor("fragmentedText",V.getActiveStreamInfo());for(var r=S.getCurrentTrackFor("fragmentedText",V.getActiveStreamInfo()),o=0;o<U.length;o++)if(U[o]===r){Y=o;break}}},append:function(e,n){function i(e,t){var n=new o.default,i={subtitle:"subtitles",caption:"captions"};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=function(){var e=!1;return t.codec&&t.codec.search("stpp")>=0&&(e=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(e=!0),e}(),n.video=B.getElement(),n.defaultTrack=m(t),n.isFragmented=k,n.isEmbedded=!!t.isEmbedded,n.kind=function(){var e=t.roles.length>0?i[t.roles[0]]:i.caption;return e=e===i.caption||e===i.subtitle?e:i.caption}();var r=(R?R.length:0)+Q.length;L.addTextTrack(n,r)}var r,a,s,l,u,c=n.mediaInfo,d=c.type,f=c.mimeType,g=c.codec||f;if(g){if("fragmentedText"===d)if(F)if(l=x.getSamplesInfo(e),a=l.sampleList,!H&&a.length>0&&(H=a[0].cts-n.start*z),g.search("stpp")>=0)for(N=null!==N?N:A(g),s=0;s<a.length;s++){var y=a[s],_=y.cts,T=_-H;this.buffered.add(T/z,(T+y.duration)/z),G=new DataView(e,y.offset,y.size),u=p.default.Utils.dataViewToString(G,"utf-8");try{r=N.parse(u,_/z,(_+y.duration)/z),L.addCaptions(Y,H/z,r)}catch(e){E("TTML parser error: "+e.message)}}else{var M=[];for(s=0;s<a.length;s++){var b=a[s];b.cts-=H,this.buffered.add(b.cts/z,(b.cts+b.duration)/z);for(var C=e.slice(b.offset,b.offset+b.size),D=p.default.parseBuffer(C),S=0;S<D.boxes.length;S++){var w=D.boxes[S];if(E("VTT box1: "+w.type),"vtte"!==w.type&&"vttc"===w.type){E("VTT vttc boxes.length = "+w.boxes.length);for(var O=0;O<w.boxes.length;O++){var P=w.boxes[O];if(E("VTT box2: "+P.type),"payl"===P.type){var j=P.cue_text;E("VTT cue_text = "+j);var U=b.cts/z,V=(b.cts+b.duration)/z;M.push({start:U,end:V,data:j,styles:{}}),E("VTT "+U+"-"+V+" : "+j)}}}}}M.length>0&&L.addCaptions(Y,0,M)}else{for(F=!0,s=0;s<R.length;s++)i(null,R[s]);z=x.getMediaTimescaleFromMoov(e)}else if("text"===d){var G=new DataView(e,0,e.byteLength);u=p.default.Utils.dataViewToString(G,"utf-8");try{i(r=A(g).parse(u),c)}catch(e){I.timedTextError(e,"parse",u)}}else if("video"===d)if("InitializationSegment"===n.segmentType){if(0===K)for(K=x.getMediaTimescaleFromMoov(e),s=0;s<Q.length;s++)i(null,Q[s])}else{if(0===K)return void E("CEA-608: No timescale for embeddedTextTrack yet");var Z=(l=x.getSamplesInfo(e)).sequenceNumber;if(!X[0]&&!X[1]){var J=void 0,$=void 0;for(s=0;s<Q.length;s++){if("CC1"===Q[s].id?$=L.getTrackIdxForId("CC1"):"CC3"===Q[s].id&&($=L.getTrackIdxForId("CC3")),-1===$)return void E("CEA-608: data before track is ready.");J=function(e,t){return function(e,n,i){var r=null;(r=B.getTTMLRenderingDiv()?v(B.getElement(),e,n,i):[{start:e,end:n,data:i.getDisplayText(),styles:{}}])&&L.addCaptions(t,0,r)}}(0,$),X[s]=new h.default.Cea608Parser(s,{newCue:J},null)}}if(K&&-1==W.indexOf(Z)){if(null!==q&&Z!==q+1)for(s=0;s<X.length;s++)X[s]&&X[s].reset();for(var ee=t(e),te=0;te<X.length;te++){var ne=ee.fields[te],ie=X[te];if(ie){for(s=0;s<ne.length;s++)ie.addData(ne[s][0]/K,ne[s][1]);ee.endTime&&ie.cueSplitAtTime(ee.endTime/K)}}q=Z,W.push(Z)}}}else E("No text type defined")},abort:function(){L.deleteAllTextTracks(),w=!1,N=null,x=null,R=null,L=null,k=!1,j=null,F=!1,z=NaN,U=[],B=null,V=null,T=!1,Q=null},getAllTracksAreDisabled:function(){return w},setTextTrack:function(){for(var e=B.getElement().textTracks,t=e.length,n=t-Q.length,i=L.getCurrentTrackIdx(),r=0;r<t;r++){var o=e[r];if(w="showing"!==o.mode,"showing"===o.mode){if(i!==r&&(L.setCurrentTrackIdx(r),L.addCaptions(r,0,null),k&&r<n)){var a=S.getCurrentTrackFor("fragmentedText",V.getActiveStreamInfo()),s=U[r];s!==a&&(j.abortRequests(),L.deleteTrackCues(a),S.setTrack(s),Y=r)}break}}w&&L.setCurrentTrackIdx(-1)},setConfig:function(e){e&&(e.errHandler&&(I=e.errHandler),e.adapter&&(C=e.adapter),e.dashManifestModel&&(D=e.dashManifestModel),e.mediaController&&(S=e.mediaController),e.videoModel&&(B=e.videoModel),e.streamController&&(V=e.streamController),e.textTracks&&(L=e.textTracks),e.VTTParser&&(O=e.VTTParser),e.TTMLParser&&(P=e.TTMLParser))},addEmbeddedTrack:function(t){T||e(),"CC1"===t.id||"CC3"===t.id?Q.push(t):E("Warning: Embedded track "+t.id+" not supported!")},resetEmbedded:function(){T=!1,Q=[],X=[null,null],W=[],q=null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(172)),a=i(e(33)),s=i(e(147)),l=i(e(149)),u=i(e(10)),c=i(e(8)),d=i(e(105)),f=i(e(58)),p=i(e(6)),h=i(e(2));r.__dashjs_factory_name="TextSourceBuffer",n.default=u.default.getSingletonFactory(r),t.exports=n.default},{10:10,105:105,147:147,149:149,172:172,2:2,33:33,58:58,6:6,8:8}],58:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){var t=E[e].kind,n=void 0!==E[e].label?E[e].label:E[e].lang,i=E[e].lang,r=N?document.createElement("track"):_.addTextTrack(t,n,i);return N&&(r.kind=t,r.label=n,r.srclang=i),r}function t(e,t,n,i,r,o){var a=0,s=0;e/t>n/i?a=(s=t)/i*n:s=(a=e)/n*i;var l=0,u=0,c=0,d=0;return a/s>r?(d=s,l=(e-(c=s/(1/r)))/2,u=0):(c=a,l=0,u=(t-(d=a/r))/2),o?{x:l+.1*c,y:u+.1*d,w:.8*c,h:.8*d}:{x:l,y:u,w:c,h:d}}function n(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var n=_.clientWidth/_.clientHeight,i=!1;e.isFromCEA608&&(n=3.5/3,i=!0);var r=t.call(this,_.clientWidth,_.clientHeight,_.videoWidth,_.videoHeight,n,i),o=r.w,a=r.h;if(o!=C||a!=D){b=r.x,I=r.y,C=o,D=a,S.style.left=b+"px",S.style.top=I+"px",S.style.width=C+"px",S.style.height=D+"px";for(var s=0;e.activeCues&&s<e.activeCues.length;++s){var l=e.activeCues[s];l.scaleCue(l)}O&&document[O]||P?S.style.zIndex=x:S.style.zIndex=null}}}function i(e,t){return Math.round(.01*e*t).toString()+"px"}function r(e){var t=C,n=D;if(t*n!=0&&e.layout){var r=e.layout,o=i(r.left,t),a=i(r.top,n),s=i(r.width,t),l=i(r.height,n);S.style.left=o,S.style.top=a,S.style.width=s,S.style.height=l;var u=S.firstChild;u&&u.style&&(u.style.left="0px",u.style.top="0px",u.style.width=s,u.style.height=l)}}function s(e){var t,n,i,r=D,o=[C/e.cellResolution[0],r/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){n=(e.linePadding[t]*o[0]).toString();for(var a=document.getElementsByClassName("spanPadding"),s=0;s<a.length;s++)a[s].style.cssText=a[s].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),a[s].style.cssText=a[s].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){n=(e.fontSize[t]/100*o[1]).toString(),i="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var l=0;l<i.length;l++)i[l].style.cssText=i[l].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){n=(e.lineHeight[t]/100*o[1]).toString(),i=document.getElementsByClassName(t);for(var u=0;u<i.length;u++)i[u].style.cssText=i[u].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function u(e){M=e,h.call(this),e>=0&&"html"===_.textTracks[e].renderingType?f.call(this):p.call(this)}function c(e){return _.textTracks[e]}function d(e){if(e.cues){for(var t=e.cues,n=t.length-1;n>=0;n--)e.removeCue(t[n]);e.mode="disabled"}}function f(){if(N){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet;_.id?t.insertRule("#"+_.id+"::cue {background: transparent}",0):0!==_.classList.length?t.insertRule("."+_.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function p(){if(N){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function h(){if(S)for(;S.firstChild;)S.removeChild(S.firstChild)}var g=this.context,y=(0,o.default)(g).getInstance(),v=(0,l.default)(g).getInstance().log,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0,b=void 0,I=void 0,C=void 0,D=void 0,S=void 0,w=void 0,N=void 0,O=void 0,P=void 0,x=void 0;return{initialize:function(){m=window.VTTCue||window.TextTrackCue,E=[],T=[],M=-1,b=0,I=0,C=0,D=0,S=null,w=null,P=!1,x=2147483647,N=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?O="fullscreenElement":void 0!==document.webkitIsFullScreen?O="webkitIsFullScreen":document.msFullscreenElement?O="msFullscreenElement":document.mozFullScreen&&(O="mozFullScreen")},displayCConTop:function(e){P=e,S&&!document[O]&&(S.style.zIndex=e?x:null)},addTextTrack:function(t,n){if(E.length!==n){if(E.push(t),void 0===_&&(_=t.video),E.length===n){E.sort(function(e,t){return e.index-t.index}),S=A.getTTMLRenderingDiv();for(var i=-1,r=0;r<E.length;r++){var o=e.call(this,r);T.push(o),E[r].defaultTrack&&(o.default=!0,i=r),N&&_.appendChild(o);var s=_.textTracks[r];s.nonAddedCues=[],S&&(E[r].isTTML||E[r].isEmbedded)?s.renderingType="html":s.renderingType="default",this.addCaptions(r,0,E[r].captionData),y.trigger(a.default.TEXT_TRACK_ADDED)}u.call(this,i),i>=0&&(_.textTracks[i].mode="showing",this.addCaptions(i,0,null)),y.trigger(a.default.TEXT_TRACKS_ADDED,{index:M,tracks:E})}}else v("Trying to add too many tracks.")},addCaptions:function(e,t,i){var o=e>=0?_.textTracks[e]:null,a=this;if(o)if("showing"===o.mode){if(i||(i=o.nonAddedCues,o.nonAddedCues=[]),i&&0!==i.length)for(var l in i){var u,c=i[l];o.cellResolution=c.cellResolution,o.isFromCEA608=c.isFromCEA608,w||"html"!==c.type&&"image"!==c.type||(w=setInterval(n.bind(this),500)),"image"===c.type?((u=new m(c.start-t,c.end-t,"")).image=c.data,u.id=c.id,u.size=0,u.type="image",u.layout=c.layout,u.scaleCue=r.bind(a),u.onenter=function(){if(S&&"showing"===o.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",S.appendChild(e),r.call(a,this)}},u.onexit=function(){if(S)for(var e=S.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&S.removeChild(e[t])}):"html"===c.type?((u=new m(c.start-t,c.end-t,"")).cueHTMLElement=c.cueHTMLElement,u.regions=c.regions,u.regionID=c.regionID,u.cueID=c.cueID,u.videoWidth=c.videoWidth,u.videoHeight=c.videoHeight,u.cellResolution=c.cellResolution,u.fontSize=c.fontSize,u.lineHeight=c.lineHeight,u.linePadding=c.linePadding,u.scaleCue=s.bind(a),S.style.left=b+"px",S.style.top=I+"px",S.style.width=C+"px",S.style.height=D+"px",u.onenter=function(){"showing"===o.mode&&(v("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),S.appendChild(this.cueHTMLElement),s.call(a,this))},u.onexit=function(){for(var e=S.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&S.removeChild(e[t])}):(u=new m(c.start-t,c.end-t,c.data),c.styles&&(void 0!==c.styles.align&&u.hasOwnProperty("align")&&(u.align=c.styles.align),void 0!==c.styles.line&&u.hasOwnProperty("line")&&(u.line=c.styles.line),void 0!==c.styles.position&&u.hasOwnProperty("position")&&(u.position=c.styles.position),void 0!==c.styles.size&&u.hasOwnProperty("size")&&(u.size=c.styles.size))),o.addCue(u)}}else i&&i.length>0&&(o.nonAddedCues=o.nonAddedCues.concat(i))},getTextTrack:c,getCurrentTextTrack:function(){return M>=0?_.textTracks[M]:null},getCurrentTrackIdx:function(){return M},setCurrentTrackIdx:u,getTrackIdxForId:function(e){for(var t=-1,n=0;n<_.textTracks.length;n++)if(_.textTracks[n].label===e){t=n;break}return t},deleteTrackCues:d,deleteAllTextTracks:function(){for(var e=T.length,t=0;t<e;t++)if(N)_.removeChild(T[t]);else{var n=c.call(this,t);n.nonAddedCues=[],d.call(this,n)}T=[],E=[],w&&(clearInterval(w),w=null),h.call(this)},deleteTextTrack:function(e){_.removeChild(T[e]),T.splice(e,1)},setConfig:function(e){e&&e.videoModel&&(A=e.videoModel)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10)),l=i(e(8));r.__dashjs_factory_name="TextTracks",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,8:8,9:9}],59:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){function t(e,n){var r=e.request,a=new XMLHttpRequest,l=[],u=!0,d=!0,y=new Date,v=y,m=0,A=function(e){d=!1,r.requestStartDate=y,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||y,r.checkExistenceOnly||s.addHttpRequest(r.mediaType,null,r.type,r.url,a.responseURL||null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,a.status,r.duration,a.getAllResponseHeaders(),e?l:null)},_=function(){-1!==f.indexOf(a)&&(f.splice(f.indexOf(a),1),d&&(A(!1),n>0?(n--,h.push(setTimeout(function(){t(e,n)},i.getRetryIntervalForType(r.type)))):(o.downloadError(g[r.type],r.url,r),e.error&&e.error(r,"error",a.statusText),e.complete&&e.complete(r,a.statusText))))};try{var E=c.modifyRequestURL(r.url),T=r.checkExistenceOnly?"HEAD":"GET";a.open(T,E,!0),r.responseType&&(a.responseType=r.responseType),r.range&&a.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=y),(a=c.modifyRequestHeader(a)).withCredentials=i.getXHRWithCredentials(),a.onload=function(){a.status>=200&&a.status<=299&&(A(!0),e.success&&e.success(a.response,a.statusText,a),e.complete&&e.complete(r,a.statusText))},a.onloadend=_,a.onerror=_,a.onprogress=function(t){var n=new Date;u&&(u=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(r.firstByteDate=n)),t.lengthComputable&&(r.bytesLoaded=t.loaded,r.bytesTotal=t.total),l.push({s:v,d:n.getTime()-v.getTime(),b:[t.loaded?t.loaded-m:0]}),v=n,m=t.loaded,e.progress&&e.progress()};var M=(new Date).getTime();isNaN(r.delayLoadingTime)||M>=r.delayLoadingTime?(f.push(a),a.send()):function(){var e={xhr:a};p.push(e),e.delayTimeout=setTimeout(function(){if(-1!==p.indexOf(e)){p.splice(p.indexOf(e),1);try{f.push(e.xhr),e.xhr.send()}catch(t){e.xhr.onerror()}}},r.delayLoadingTime-M)}()}catch(e){a.onerror()}}var n=this.context,i=(0,l.default)(n).getInstance(),o=e.errHandler,s=e.metricsModel,c=e.requestModifier,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0;return d={load:function(e){e.request&&t(e,i.getRetryAttemptsForType(e.request.type))},abort:function(){h.forEach(function(e){return clearTimeout(e)}),h=[],p.forEach(function(e){return clearTimeout(e.delayTimeout)}),p=[],f.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),f=[]}},function(){var e;f=[],p=[],h=[],r(e={},a.HTTPRequest.MPD_TYPE,u.default.DOWNLOAD_ERROR_ID_MANIFEST),r(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,u.default.DOWNLOAD_ERROR_ID_XLINK),r(e,a.HTTPRequest.INIT_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_INITIALIZATION),r(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),r(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),r(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),r(e,a.HTTPRequest.OTHER_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),g=e}(),d}Object.defineProperty(n,"__esModule",{value:!0});var a=e(180),s=i(e(10)),l=i(e(102)),u=i(e(152));o.__dashjs_factory_name="XHRLoader";var c=s.default.getClassFactory(o);n.default=c,t.exports=n.default},{10:10,102:102,152:152,180:180}],60:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="urn:mpeg:dash:resolve-to-zero:2013",n=this.context,i=(0,u.default)(n).getInstance(),r=(0,a.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:function(e,n,a){var u=function(t,r){n.resolved=!0,n.resolvedContent=t||null,i.trigger(c.default.XLINK_ELEMENT_LOADED,{element:n,resolveObject:a,error:t||r?null:new o.default(f,"Failed loading Xlink element: "+e)})};if(e===t)u(null,!0);else{var d=new l.default(e,s.HTTPRequest.XLINK_TYPE);r.load({request:d,success:function(e){u(e)},error:function(){u(null)}})}},reset:function(){r&&(r.abort(),r=null)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(163)),a=i(e(59)),s=e(180),l=i(e(171)),u=i(e(9)),c=i(e(13)),d=i(e(10)),f=1;r.__dashjs_factory_name="XlinkLoader";var p=d.default.getClassFactory(r);p.XLINK_LOADER_ERROR_LOADING_FAILURE=f,n.default=p,t.exports=n.default},{10:10,13:13,163:163,171:171,180:180,59:59,9:9}],61:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){U={video:!0,audio:!0},B={},V={},H={},Y={},Q={},G={},q={},K={},X=!1,Z=!1,ne=(0,s.default)(R).getInstance(),te=(0,u.default)(R).getInstance(),J=(0,h.default)(R).getInstance(),$=(0,g.default)(R).getInstance(),ee=(0,y.default)(R).getInstance()}function t(e,t){var n;return B[t]=B[t]||{},B[t].hasOwnProperty(e)||(B[t][e]=0),n=N(B[t][e],e),n=O(n,e,B[t][e]),n=P(n,e)}function n(e){return Y.hasOwnProperty("max")&&Y.max.hasOwnProperty(e)?Y.max[e]:NaN}function i(e){return Q.hasOwnProperty("max")&&Q.max.hasOwnProperty(e)?Q.max[e]:1}function r(e){return U[e]}function p(e,n,i,r){var o=n.id,a=C(e,n);if(!(null!==i&&!isNaN(i)&&i%1==0))throw new Error("argument is not an integer");i!==a&&i>=0&&i<=t(e,o)&&T(e,n,a,i,r)}function T(e,t,n,i,r){D(e,t.id,i),L.trigger(f.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:i,reason:r})}function M(e,t){q[e].state=t}function b(e,t){var n=I(e);if(!n||0===n.length)return E;for(var i=n.length-1;i>=0;i--)if(1e3*t>=n[i].bitrate)return i;return 0}function I(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,i=e.type,r=[],o=0,s=n.length;o<s;o++)(t=new a.default).mediaType=i,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,r.push(t);return r}function C(e,t){var n=t.id;return V[n]=V[n]||{},V[n].hasOwnProperty(e)||(V[n][e]=E),V[n][e]}function D(e,t,n){V[t]=V[t]||{},V[t][e]=n}function S(e,t,n){H[t]=H[t]||{},H[t][e]=n}function w(e,t,n){B[t]=B[t]||{},B[t][e]=n}function N(e,t){var i=n(t);if(isNaN(i)||!K[t])return e;var r=b(K[t].getMediaInfo(),i);return Math.min(e,r)}function O(e,t,n){var r=i(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function P(e,t){if("video"!==t||!X||!K[t])return e;var n=Z&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,i=ee.getElement(),r=i.clientWidth*n,o=i.clientHeight*n,a=J.getValue(),s=$.getAdaptationForType(a,0,t).Representation,l=e;if(r>0&&o>0){for(;l>0&&s[l]&&r<s[l].width&&r-s[l-1].width<s[l].width-r;)l-=1;s.length-2>=l&&s[l].width===s[l+1].width&&(l=Math.min(e,l+1))}return l}function x(e){var t=e.request.mediaType;if(r(t)){var n=function(){var n=j.getRules(l.default.ABANDON_FRAGMENT_RULES),i=K[t].getScheduleController();if(!i)return{v:void 0};F.applyRules(n,K[t],function(n){if(n.confidence===o.default.STRONG&&n.value<C(t,z.getActiveStreamInfo())){var r=i.getFragmentModel(),a=r.getRequests({state:c.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0];a&&(r.abortRequests(),M(t,v),p(t,z.getActiveStreamInfo(),n.value,n.reason),L.trigger(f.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:K[t],request:a,mediaType:t}),clearTimeout(W),W=setTimeout(function(){M(t,m),W=null},te.getAbandonLoadTimeout()))}},e,function(e,t){return t})}();if("object"==typeof n)return n.v}}var R=this.context,L=(0,d.default)(R).getInstance(),k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0,Z=void 0,J=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0;return k={isPlayingAtTopQuality:function(e){var n=e.id,i=C("audio",e),r=C("video",e);return i===t("audio",n)&&r===t("video",n)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,i=e.representationCount-1;return w(t,n,i),i},getAverageThroughput:function(e){return G[e]},getBitrateList:I,getQualityForBitrate:b,getMaxAllowedBitrateFor:n,setMaxAllowedBitrateFor:function(e,t){Y.max=Y.max||{},Y.max[e]=t},getMaxAllowedRepresentationRatioFor:i,setMaxAllowedRepresentationRatioFor:function(e,t){Q.max=Q.max||{},Q.max[e]=t},getInitialBitrateFor:function(e){var t=ne.getSavedBitrateSettings(e);if(!Y.hasOwnProperty(e))if(Q.hasOwnProperty(e)){var n=J.getValue(),i=$.getAdaptationForType(n,0,e).Representation;if(Array.isArray(i)){var r=Math.max(Math.round(i.length*Q[e])-1,0);Y[e]=i[r].bandwidth}else Y[e]=0}else isNaN(t)?Y[e]="video"===e?A:_:Y[e]=t;return Y[e]},setInitialBitrateFor:function(e,t){Y[e]=t},getInitialRepresentationRatioFor:function(e){return Q.hasOwnProperty(e)?Q[e]:null},setInitialRepresentationRatioFor:function(e,t){Q[e]=t},setAutoSwitchBitrateFor:function(e,t){U[e]=t},getAutoSwitchBitrateFor:r,setLimitBitrateByPortal:function(e){X=e},getLimitBitrateByPortal:function(){return X},getUsePixelRatioInLimitBitrateByPortal:function(){return Z},setUsePixelRatioInLimitBitrateByPortal:function(e){Z=e},getConfidenceFor:function(e,t){return H[t]=H[t]||{},H[t].hasOwnProperty(e)||(H[t][e]=0),H[t][e]},getQualityFor:C,getAbandonmentStateFor:function(e){return q[e].state},setAbandonmentStateFor:M,setPlaybackQuality:p,getPlaybackQuality:function(e,n){var i=e.getType(),a=e.getStreamInfo(),s=a.id;if(r(i)){var u=j.getRules(l.default.QUALITY_SWITCH_RULES);F.applyRules(u,e,function(e){var r=t(i,s),o=e.value;o<0&&(o=0),o>r&&(o=r);var l=C(i,a);o!==l&&(q[i].state===m||o>l)&&(S(i,s,e.confidence),T(i,a,l,o,e.reason)),n&&n()},C(i,a),function(e,t){return e=e===o.default.NO_CHANGE?0:e,Math.max(e,t)})}else n&&n()},setAverageThroughput:function(e,t){G[e]=t},getTopQualityIndexFor:t,initialize:function(e,t){K[e]=t,q[e]=q[e]||{},q[e].state=m,L.on(f.default.LOADING_PROGRESS,x,this)},setConfig:function(e){e&&(e.abrRulesCollection&&(j=e.abrRulesCollection),e.rulesController&&(F=e.rulesController),e.streamController&&(z=e.streamController))},reset:function(){L.off(f.default.LOADING_PROGRESS,x,this),clearTimeout(W),W=null,e()}},e(),k}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(161)),s=i(e(150)),l=i(e(132)),u=i(e(102)),c=i(e(100)),d=i(e(9)),f=i(e(13)),p=i(e(10)),h=i(e(101)),g=i(e(22)),y=i(e(105)),v="abandonload",m="allowload",A=1e3,_=100,E=0;r.__dashjs_factory_name="AbrController";var T=p.default.getSingletonFactory(r);T.ABANDON_LOAD=v,T.QUALITY_DEFAULT=E,n.default=T,t.exports=n.default},{10:10,100:100,101:101,102:102,105:105,13:13,131:131,132:132,150:150,161:161,22:22,9:9}],62:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){f.invalidateSelectedIndexes(e.entry)}function t(e){f.update(e),p.chooseSelectorFromManifest(e)}var n=void 0,i=this.context,r=(0,c.default)(i).getInstance(),u=(0,s.default)(i).getInstance(),f=void 0,p=void 0;return n={reset:function(){f.reset(),p.reset()},initialize:function(e){t(e)},resolve:function(e){var t=f.getForPath(e).reduce(function(e,t){var n=p.select(t);return n&&(u.isRelative(n.url)?e.url+=n.url:u.isPathAbsolute(n.url)?e.url=u.parseOrigin(e.url)+n.url:(e.url=n.url,e.serviceLocation=n.serviceLocation)),e},new l.default);if(!u.isRelative(t.url))return t}},f=(0,o.default)(i).create(),p=(0,a.default)(i).create(),r.on(d.default.SERVICE_LOCATION_BLACKLIST_CHANGED,e,n),n}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(99)),a=i(e(146)),s=i(e(159)),l=i(e(41)),u=i(e(10)),c=i(e(9)),d=i(e(13));r.__dashjs_factory_name="BaseURLController",n.default=u.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,146:146,159:159,41:41,9:9,99:99}],63:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){-1===i.indexOf(e)&&(i.push(e),r.trigger(o,{entry:e}))}function n(e){e.error&&t(e.request.serviceLocation)}var i=[],r=(0,a.default)(this.context).getInstance(),o=e.updateEventName,s=e.loadFailedEventName;return function(){s&&r.on(s,n,this)}(),{add:t,contains:function(e){return!!(i.length&&e&&e.length)&&-1!==i.indexOf(e)},reset:function(){i=[]}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(9));r.__dashjs_factory_name="BlackListController",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,9:9}],64:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){return me.getStreamInfo().id===X.getActiveStreamInfo().id}function n(e){e.fragmentModel===me.getFragmentModel()&&(Y("Init fragment finished loading saving to",le+"'s init cache"),Te.save(e.chunk),r(e.chunk))}function i(e){if(e.fragmentModel===me.getFragmentModel()){var t=e.chunk,n=t.bytes,i=t.quality,a=me.getRepresentationInfoForQuality(i),s=K.getValue(),l=J.getEventsFor(s,a.mediaInfo,me),u=J.getEventsFor(s,a,me);if(l.length>0||u.length>0){var c=S(n,me.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,quality:i,index:t.index})[0],l,u);me.getEventController().addInbandEvents(c)}t.bytes=w(n),r(t)}}function r(e){he=!0,de=e,q.append(ue,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&$.append(e.bytes,e)}function h(e){if(ue===e.buffer){if(e.error||!N())return e.error.code===s.default.QUOTA_EXCEEDED_ERROR_CODE&&(re=.8*q.getTotalBufferedTime(ue)),void(e.error.code!==s.default.QUOTA_EXCEEDED_ERROR_CODE&&N()||(Q.trigger(f.default.QUOTA_EXCEEDED,{sender:ee,criticalBufferLevel:re}),x(P())));isNaN(de.index)||(ae=Math.max(de.index,ae),I());var t=q.getAllRanges(ue);if(t&&t.length>0)for(var n=0,i=t.length;n<i;n++)Y("Buffered Range for type:",le,":",t.start(n)," - ",t.end(n));T(),he=!1,Q.trigger(f.default.BYTES_APPENDED,{sender:ee,quality:de.quality,startTime:de.start,index:de.index,bufferedRanges:t})}}function _(e){te!==e.newQuality&&le===e.mediaType&&me.getStreamInfo().id===e.streamInfo.id&&(L(me.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),te=e.newQuality)}function E(){se=0,ne=!1,T()}function T(){M(),b()}function M(){ie=q.getBufferLength(ue,ve.getTime()),Q.trigger(f.default.BUFFER_LEVEL_UPDATED,{sender:ee,bufferLevel:ie}),C()}function b(){t()&&(G.addBufferState(le,ce,_e.getBufferTarget()),G.addBufferLevel(le,new Date,1e3*ie))}function I(){ae===se-1&&!ne&&(ne=!0,Q.trigger(f.default.BUFFERING_COMPLETED,{sender:ee,streamInfo:me.getStreamInfo()}))}function C(){D(ie<A&&!ne?m:v)}function D(e){ce===e||"fragmentedText"===le&&$.getAllTracksAreDisabled()||(ce=e,b(),Q.trigger(f.default.BUFFER_LEVEL_STATE_CHANGED,{sender:ee,state:e,mediaType:le,streamInfo:me.getStreamInfo()}),Q.trigger(e===v?f.default.BUFFER_LOADED:f.default.BUFFER_EMPTY,{mediaType:le}),Y(e===v?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function S(e,t,n,i){var r=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[];ye=!1;for(var s=n.concat(i),l=0,u=s.length;l<u;l++)o[s[l].schemeIdUri]=s[l];for(var c=(0,p.default)(H).getInstance().parse(e).getBoxes("emsg"),l=0,u=c.length;l<u;l++){var d=J.getEvent(c[l],o,r);d&&a.push(d)}return a}function w(e){if(!ye)return e;for(var t=e.length,n=Math.pow(256,2),i=Math.pow(256,3),r=new Uint8Array(e.length),o=0,a=0;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),l=e[o]*i+e[o+1]*n+256*e[o+2]+1*e[o+3];if("emsg"!=s)for(var u=o;u<o+l;u++)r[a]=e[u],a++;o+=l}return r.subarray(0,a)}function N(){return q.getTotalBufferedTime(ue)<re}function O(){if("fragmentedText"!==le){var e=ue.buffered.length?ue.buffered.start(0):0,t=ve.getTime()-e-Ee.getBufferToKeep();t>0&&(Y("pruning buffer: "+t+" seconds."),ge=!0,q.remove(ue,0,Math.round(e+t),oe))}}function P(){if(!ue)return null;var e=ve.getTime(),t=me.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:e})[0],n=q.getBufferRange(ue,e),i=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&ue.buffered.length>0&&(i=ue.buffered.end(ue.buffered.length-1)),{start:ue.buffered.start(0),end:i}}function x(e){e&&ue&&q.remove(ue,e.start,e.end,oe)}function R(e){ue===e.buffer&&(ge&&(ge=!1),M(),Q.trigger(f.default.BUFFER_CLEARED,{sender:ee,from:e.from,to:e.to,hasEnoughSpaceToAppend:N()}))}function L(e){ue&&ue.timestampOffset!==e&&!isNaN(e)&&(ue.timestampOffset=e)}function k(e){e.sender.getStreamProcessor()!==me||e.error||L(e.currentRepresentation.MSETimeOffset)}function j(e){e.fragmentModel===me.getFragmentModel()&&(se=e.request.index,I())}function F(e){ue&&e.newMediaInfo.type===le&&e.newMediaInfo.streamInfo.id===me.getStreamInfo().id&&Z.getSwitchMode(le)===c.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&x(P())}function z(){++fe*(Ee.getWallclockTimeUpdateInterval()/1e3)>=Ee.getBufferPruningInterval()&&!he&&(fe=0,O())}function U(){C()}function B(e){ue=e}function V(e){oe=e}var H=this.context,Y=(0,g.default)(H).getInstance().log,Q=(0,d.default)(H).getInstance(),G=e.metricsModel,K=e.manifestModel,q=e.sourceBufferController,W=e.errHandler,X=e.streamController,Z=e.mediaController,J=e.adapter,$=e.textSourceBuffer,ee=void 0,te=void 0,ne=void 0,ie=void 0,re=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,de=void 0,fe=void 0,pe=void 0,he=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0;return ee={initialize:function(e,t,r){le=e,V(t),me=r,Ee=(0,a.default)(H).getInstance(),ve=(0,u.default)(H).getInstance(),Ae=(0,l.default)(H).getInstance(),Te=(0,y.default)(H).getInstance(),_e=me.getScheduleController(),te=Ae.getQualityFor(le,me.getStreamInfo()),Q.on(f.default.DATA_UPDATE_COMPLETED,k,this),Q.on(f.default.INIT_FRAGMENT_LOADED,n,this),Q.on(f.default.MEDIA_FRAGMENT_LOADED,i,this),Q.on(f.default.QUALITY_CHANGE_REQUESTED,_,this),Q.on(f.default.STREAM_COMPLETED,j,this),Q.on(f.default.PLAYBACK_PROGRESS,T,this),Q.on(f.default.PLAYBACK_TIME_UPDATED,T,this),Q.on(f.default.PLAYBACK_RATE_CHANGED,U,this),Q.on(f.default.PLAYBACK_SEEKING,E,this),Q.on(f.default.WALLCLOCK_TIME_UPDATED,z,this),Q.on(f.default.CURRENT_TRACK_CHANGED,F,this,d.default.EVENT_PRIORITY_HIGH),Q.on(f.default.SOURCEBUFFER_APPEND_COMPLETED,h,this),Q.on(f.default.SOURCEBUFFER_REMOVE_COMPLETED,R,this)},createBuffer:function(e){if(!e||!oe||!me)return null;var t=null;try{(t=q.createSourceBuffer(oe,e))&&t.hasOwnProperty("initialize")&&t.initialize(le,this)}catch(e){W.mediaSourceError("Error creating "+le+" source buffer.")}return B(t),L(me.getRepresentationInfoForQuality(te).MSETimeOffset),t},getType:function(){return le},getStreamProcessor:function(){return me},setStreamProcessor:function(e){me=e},getBuffer:function(){return ue},setBuffer:B,getBufferLevel:function(){return ie},getCriticalBufferLevel:function(){return re},setMediaSource:V,getMediaSource:function(){return oe},getIsBufferingCompleted:function(){return ne},switchInitData:function(e,t){var n=Te.extract(e,le,t);n?r(n):Q.trigger(f.default.INIT_REQUESTED,{sender:ee})},reset:function(e){Q.off(f.default.DATA_UPDATE_COMPLETED,k,this),Q.off(f.default.QUALITY_CHANGE_REQUESTED,_,this),Q.off(f.default.INIT_FRAGMENT_LOADED,n,this),Q.off(f.default.MEDIA_FRAGMENT_LOADED,i,this),Q.off(f.default.STREAM_COMPLETED,j,this),Q.off(f.default.CURRENT_TRACK_CHANGED,F,this),Q.off(f.default.PLAYBACK_PROGRESS,T,this),Q.off(f.default.PLAYBACK_TIME_UPDATED,T,this),Q.off(f.default.PLAYBACK_RATE_CHANGED,U,this),Q.off(f.default.PLAYBACK_SEEKING,E,this),Q.off(f.default.WALLCLOCK_TIME_UPDATED,z,this),Q.off(f.default.SOURCEBUFFER_APPEND_COMPLETED,h,this),Q.off(f.default.SOURCEBUFFER_REMOVE_COMPLETED,R,this),re=Number.POSITIVE_INFINITY,ce=m,te=l.default.QUALITY_DEFAULT,se=0,ae=0,de=null,pe=!1,ne=!1,he=!1,ge=!1,ve=null,me=null,Ae=null,_e=null,e||(q.abort(oe,ue),q.removeSourceBuffer(oe,ue)),ue=null}},te=l.default.QUALITY_DEFAULT,ne=!1,ie=0,re=Number.POSITIVE_INFINITY,ae=0,se=0,ue=null,ce=m,fe=0,pe=!1,he=!1,ge=!1,ye=!1,ee}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(100)),a=i(e(102)),s=i(e(71)),l=i(e(61)),u=i(e(69)),c=i(e(67)),d=i(e(9)),f=i(e(13)),p=i(e(147)),h=i(e(10)),g=i(e(8)),y=i(e(153)),v="bufferLoaded",m="bufferStalled",A=.5;r.__dashjs_factory_name="BufferController";var _=h.default.getClassFactory(r);_.BUFFER_LOADED=v,_.BUFFER_EMPTY=m,n.default=_,t.exports=n.default},{10:10,100:100,102:102,13:13,147:147,153:153,61:61,67:67,69:69,71:71,8:8,9:9}],65:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){null!==y&&T&&(clearInterval(y),y=null,T=!1)}function t(){if(g)for(var e=E.getTime(),t=Object.keys(g),n=0;n<t.length;n++){var i=t[n],r=g[i];null!==r&&(r.duration+r.presentationTime)/r.eventStream.timescale<e&&(d("Remove Event "+i+" at time "+e),r=null,delete g[i])}}function n(){r(h),r(p),t()}function i(){var e=A.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),d("Refresh manifest @ "+t),_.getManifestLoader().load(t)}function r(e){var t,n=E.getTime();if(e)for(var r=Object.keys(e),o=0;o<r.length;o++){var s=r[o],l=e[s];void 0!==l&&(0===(t=l.presentationTime/l.eventStream.timescale)||t<=n&&t+m>n)&&(d("Start Event "+s+" at "+n),l.duration>0&&(g[s]=l),l.eventStream.schemeIdUri==a&&l.eventStream.value==u?i():f.trigger(l.eventStream.schemeIdUri,{event:l}),delete e[s])}}var a="urn:mpeg:dash:event:2012",u=1,c=this.context,d=(0,s.default)(c).getInstance().log,f=(0,l.default)(c).getInstance(),p=void 0,h=void 0,g=void 0,y=void 0,v=void 0,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0;return{initialize:function(){T=!1,p={},h={},g={},y=null,m=(v=100)/1e3,E=(0,o.default)(c).getInstance()},addInlineEvents:function(e){if(p={},e)for(var t=0;t<e.length;t++){var n=e[t];p[n.id]=n,d("Add inline event with id "+n.id)}d("Added "+e.length+" inline events")},addInbandEvents:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in h?d("Repeated event with id "+n.id):(h[n.id]=n,d("Add inband event with id "+n.id))}},clear:e,start:function(){d("Start Event Controller"),T||isNaN(v)||(T=!0,y=setInterval(n,v))},setConfig:function(e){e&&(e.manifestModel&&(A=e.manifestModel),e.manifestUpdater&&(_=e.manifestUpdater))},reset:function(){e(),p=null,h=null,g=null,E=null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(69)),a=i(e(10)),s=i(e(8)),l=i(e(9));r.__dashjs_factory_name="EventController",n.default=a.default.getSingletonFactory(r),t.exports=n.default},{10:10,69:69,8:8,9:9}],66:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function t(e,t,n){var i=new a.default;return i.streamId=n,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i}function n(n){if(h[n.request.mediaType]===n.sender){var i=n.sender.getScheduleController(),o=n.request,a=n.response,s=e(o),l=i.getStreamProcessor().getStreamInfo().id;if(a){var u=t(a,o,l);d.trigger(s?c.default.INIT_FRAGMENT_LOADED:c.default.MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:n.sender})}else r("No "+o.mediaType+" bytes to push.")}}var i=this.context,r=(0,f.default)(i).getInstance().log,d=(0,u.default)(i).getInstance(),p=void 0,h=void 0;return p={process:function(e){var t=null;return null!==e&&void 0!==e&&e.byteLength>0&&(t=new Uint8Array(e)),t},getModel:function(e){var t=h[e];return t||(t=(0,s.default)(i).create({metricsModel:(0,l.default)(i).getInstance()}),h[e]=t),t},isInitializationRequest:e,reset:function(){d.off(c.default.FRAGMENT_LOADING_COMPLETED,n,this);for(var e in h)h[e].reset();h={}}},h={},d.on(c.default.FRAGMENT_LOADING_COMPLETED,n,p),p}Object.defineProperty(n,"__esModule",{value:!0});var o=e(180),a=i(e(162)),s=i(e(100)),l=i(e(103)),u=i(e(9)),c=i(e(13)),d=i(e(10)),f=i(e(8));r.__dashjs_factory_name="FragmentController",n.default=d.default.getClassFactory(r),t.exports=n.default},{10:10,100:100,103:103,13:13,162:162,180:180,8:8,9:9}],67:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){w={},T(),E()}function t(e,t){if(!e||!t)return[];var n=t.id;return w[n]&&w[n][e]?w[n][e].list:[]}function n(e,t){return!e||!t||t&&!w[t.id]?null:w[t.id][e].current}function i(e){if(e){var t=e.type,i=e.streamInfo,r=i.id,a=n(t,i);if(w[r]&&w[r][t]&&(!a||!m(e,a))){w[r][t].current=e,a&&C.trigger(o.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:a,newMediaInfo:e,switchMode:P[t]});var s=A(e);s&&w[r][t].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),S.setSavedMediaSettings(t,s))}}}function r(e,t){e&&t&&(N[e]=t)}function s(e){return e?N[e]:null}function y(){return O||g}function v(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function m(e,t){var n=e.id===t.id,i=e.viewpoint===t.viewpoint,r=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&i&&r&&o&&a&&s}function A(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function _(e,t){var n=!e.lang||e.lang===t.lang,i=!e.viewpoint||e.viewpoint===t.viewpoint,r=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&i&&r&&o&&a}function E(){P={audio:f,video:d}}function T(){N={audio:null,video:null}}function M(e){var t=y(),n=[],i=function(e){var t,n=0,i=[];return e.forEach(function(e){(t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})))>n?(n=t,i=[e]):t===n&&i.push(e)}),i},r=function(e){var t,n=0,i=[];return e.forEach(function(e){(t=e.representationCount)>n?(n=t,i=[e]):t===n&&i.push(e)}),i};switch(t){case p:(n=i(e)).length>1&&(n=r(n));break;case h:(n=r(e)).length>1&&(n=i(e));break;default:I("track selection mode is not supported: "+t)}return n[0]}var b=this.context,I=(0,l.default)(b).getInstance().log,C=(0,a.default)(b).getInstance(),D=(0,u.default)(b).getInstance(),S=(0,c.default)(b).getInstance(),w=void 0,N=void 0,O=void 0,P=void 0,x=void 0,R=[f,d],L=[p,h];return{initialize:e,checkInitialMediaSettingsForType:function(e,n){var o=s(e),a=t(e,n),l=[];"fragmentedText"!==e?(o||r(e,o=S.getSavedMediaSettings(e)),a&&0!==a.length&&(o&&a.forEach(function(e){_(o,e)&&l.push(e)}),i(0===l.length?M(a):l.length>1?M(l):l[0]))):i(a[0])},addTrack:function(e){var t=e?e.type:null,r=e?e.streamInfo.id:null,o=s(t);return!(!e||!v(t)||(w[r]=w[r]||{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}},w[r][t].list.indexOf(e)>=0||(w[r][t].list.push(e),o&&_(o,e)&&!n(t,e.streamInfo)&&i(e),0)))},getTracksFor:t,getCurrentTrackFor:n,isCurrentTrack:function(e){var t=e.type,n=e.streamInfo.id;return w[n]&&w[n][t]&&m(w[n][t].current,e)},setTrack:i,setInitialSettings:r,getInitialSettings:s,setSwitchMode:function(e,t){-1!==R.indexOf(t)?P[e]=t:I("track switch mode is not supported: "+t)},getSwitchMode:function(e){return P[e]},setSelectionModeForInitialTrack:function(e){-1!==L.indexOf(e)?O=e:I("track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:y,isMultiTrackSupportedByType:v,isTracksEqual:m,setConfig:function(e){e&&e.errHandler&&(x=e.errHandler)},reset:function(){e(),D.resetEmbedded()}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(13)),a=i(e(9)),s=i(e(10)),l=i(e(8)),u=i(e(57)),c=i(e(150)),d="neverReplace",f="alwaysReplace",p="highestBitrate",h="widestRange",g=p;r.__dashjs_factory_name="MediaController";var y=s.default.getSingletonFactory(r);y.TRACK_SWITCH_MODE_NEVER_REPLACE=d,y.TRACK_SWITCH_MODE_ALWAYS_REPLACE=f,y.TRACK_SELECTION_MODE_HIGHEST_BITRATE=p,y.TRACK_SELECTION_MODE_WIDEST_RANGE=h,y.DEFAULT_INIT_TRACK_SELECTION_MODE=g,n.default=y,t.exports=n.default},{10:10,13:13,150:150,57:57,8:8,9:9}],68:[function(e,t,n){function i(){return{createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},signalEndOfStream:function(e){var t=e.sourceBuffers,n=t.length,i=0;if("open"===e.readyState){for(i;i<n;i++){if(t[i].updating)return;if(0===t[i].buffered.length)return}e.endOfStream()}}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="MediaSourceController",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],69:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){ee=0,te=NaN,ne=null,oe=null,se=!1,ie={},ae=(0,s.default)(B).getInstance()}function t(e){e.fromStreamInfo&&ie[e.fromStreamInfo.id]&&delete ie[e.fromStreamInfo.id]}function n(){return y(!0)+re.duration-p()}function i(){if(Q){Q.autoplay=!0;var e=Q.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&H.trigger(u.default.PLAYBACK_NOT_ALLOWED),V("Caught pending play exception - continuing ("+e+")")})}else se=!0}function r(){if(Q)return Q.paused}function c(){Q&&(Q.pause(),Q.autoplay=!1)}function f(e){$&&(V("Requesting seek to time: "+e),$.setCurrentTime(e))}function p(){if(Q)return Q.currentTime}function h(){if(Q)return Q.playbackRate}function g(){if(Q)return Q.ended}function y(e){var t=void 0,n=(0,a.default)(B).getInstance().getURIFragmentData(),i=parseInt(n.s,10),r=parseInt(n.t,10),o=NaN;if(e||(o=isNaN(i)?r:i),oe)!isNaN(o)&&o>1262304e3&&((t=o-re.manifestInfo.availableFrom.getTime()/1e3)>te||t<te-re.manifestInfo.DVRWindowSize)&&(t=null),t=t||te;else if(!isNaN(o)&&o<Math.max(re.manifestInfo.duration,re.duration)&&o>=0)t=o;else{var s=ie[re.id];void 0===s&&(s=G.getActiveStreamCommonEarliestTime()),t=Math.max(s,re.start)}return t}function v(e){var t=q.getReadOnlyMetricsFor("video")||q.getReadOnlyMetricsFor("audio"),n=W.getCurrentDVRInfo(t),i=n?n.range:null;return i?e>=i.start&&e<=i.end?e:Math.max(i.end-2*re.manifestInfo.minBufferTime,i.start):NaN}function m(){if(null===ne){ne=setInterval(function(){k()},ae.getWallclockTimeUpdateInterval())}}function A(){clearInterval(ne),ne=null}function _(){var e=y(!1);e>0&&(f(e),V("Starting playback at offset: "+e))}function E(){if(!r()&&oe&&0!==Q.readyState){var e=p(),t=v(e);!isNaN(t)&&t!==e&&f(t)}}function T(e){if(!e.error){var t=J.convertDataToTrack(X.getValue(),e.currentRepresentation).mediaInfo.streamInfo;re.id===t.id&&(re=t,E())}}function M(e){e.error||0===Q.readyState||_()}function b(){H.trigger(u.default.CAN_PLAY)}function I(){V("Native video element event: play"),E(),m(),H.trigger(u.default.PLAYBACK_STARTED,{startTime:p()})}function C(){V("Native video element event: playing"),H.trigger(u.default.PLAYBACK_PLAYING,{playingTime:p()})}function D(){V("Native video element event: pause"),H.trigger(u.default.PLAYBACK_PAUSED,{ended:g()})}function S(){var e=p();V("Seeking to: "+e),m(),H.trigger(u.default.PLAYBACK_SEEKING,{seekTime:e})}function w(){V("Native video element event: seeked"),H.trigger(u.default.PLAYBACK_SEEKED)}function N(){var e=p();e!==ee&&(ee=e,H.trigger(u.default.PLAYBACK_TIME_UPDATED,{timeToEnd:n(),time:e}))}function O(){H.trigger(u.default.PLAYBACK_PROGRESS)}function P(){var e=h();V("Native video element event: ratechange: ",e),H.trigger(u.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function x(){V("Native video element event: loadedmetadata"),(!oe&&re.isFirst||K.isTimeSyncCompleted())&&_(),H.trigger(u.default.PLAYBACK_METADATA_LOADED),m()}function R(){V("Native video element event: ended"),c(),A(),H.trigger(u.default.PLAYBACK_ENDED)}function L(e){var t=e.target||e.srcElement;H.trigger(u.default.PLAYBACK_ERROR,{error:t.error})}function k(){H.trigger(u.default.WALLCLOCK_TIME_UPDATED,{isDynamic:oe,time:new Date})}function j(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),re.start),i=void 0===ie[re.id]?n:Math.max(ie[re.id],n);i!==ie[re.id]&&(!oe&&y(!0)<i&&p()<i&&f(i),ie[re.id]=i)}}function F(e){e.streamInfo.id===re.id&&$.setStallState(e.mediaType,e.state===o.default.BUFFER_EMPTY)}function z(){Q.addEventListener("canplay",b),Q.addEventListener("play",I),Q.addEventListener("playing",C),Q.addEventListener("pause",D),Q.addEventListener("error",L),Q.addEventListener("seeking",S),Q.addEventListener("seeked",w),Q.addEventListener("timeupdate",N),Q.addEventListener("progress",O),Q.addEventListener("ratechange",P),Q.addEventListener("loadedmetadata",x),Q.addEventListener("ended",R)}function U(){Q.removeEventListener("canplay",b),Q.removeEventListener("play",I),Q.removeEventListener("playing",C),Q.removeEventListener("pause",D),Q.removeEventListener("error",L),Q.removeEventListener("seeking",S),Q.removeEventListener("seeked",w),Q.removeEventListener("timeupdate",N),Q.removeEventListener("progress",O),Q.removeEventListener("ratechange",P),Q.removeEventListener("loadedmetadata",x),Q.removeEventListener("ended",R)}var B=this.context,V=(0,d.default)(B).getInstance().log,H=(0,l.default)(B).getInstance(),Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0,Z=void 0,J=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,ie=void 0,re=void 0,oe=void 0,ae=void 0,se=void 0;return Y={initialize:function(e){re=e,Q=$.getElement(),z(),oe=re.manifestInfo.isDynamic,te=re.start,H.on(u.default.DATA_UPDATE_COMPLETED,T,this),H.on(u.default.LIVE_EDGE_SEARCH_COMPLETED,M,this),H.on(u.default.BYTES_APPENDED,j,this),H.on(u.default.BUFFER_LEVEL_STATE_CHANGED,F,this),H.on(u.default.PERIOD_SWITCH_STARTED,t,this),se&&(se=!1,i())},setConfig:function(e){e&&(e.streamController&&(G=e.streamController),e.timelineConverter&&(K=e.timelineConverter),e.metricsModel&&(q=e.metricsModel),e.dashMetrics&&(W=e.dashMetrics),e.manifestModel&&(X=e.manifestModel),e.dashManifestModel&&(Z=e.dashManifestModel),e.adapter&&(J=e.adapter),e.videoModel&&($=e.videoModel))},getStreamStartTime:y,getTimeToStreamEnd:n,isPlaybackStarted:function(){return p()>0},getStreamId:function(){return re.id},getStreamDuration:function(){return re.duration},getTime:p,getPlaybackRate:h,getPlayedRanges:function(){if(Q)return Q.played},getEnded:g,getIsDynamic:function(){return oe},setLiveStartTime:function(e){te=e},getLiveStartTime:function(){return te},computeLiveDelay:function(e,t){var n=Z.getMpd(X.getValue()),i=void 0;i=ae.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:ae.getLiveDelay()?ae.getLiveDelay():isNaN(e)?2*re.manifestInfo.minBufferTime:e*ae.getLiveDelayFragmentCount();var r=Math.max(t-10,t/2);return Math.min(i,r)},play:i,isPaused:r,pause:c,isSeeking:function(){if(Q)return Q.seeking},seek:f,reset:function(){$&&Q&&(H.off(u.default.DATA_UPDATE_COMPLETED,T,this),H.off(u.default.BUFFER_LEVEL_STATE_CHANGED,F,this),H.off(u.default.LIVE_EDGE_SEARCH_COMPLETED,M,this),H.off(u.default.BYTES_APPENDED,j,this),A(),U()),$=null,re=null,Q=null,oe=null,e()}},e(),Y}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(64)),a=i(e(104)),s=i(e(102)),l=i(e(9)),u=i(e(13)),c=i(e(10)),d=i(e(8));r.__dashjs_factory_name="PlaybackController",n.default=c.default.getSingletonFactory(r),t.exports=n.default},{10:10,102:102,104:104,13:13,64:64,8:8,9:9}],70:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){le&&(W(),pe=!1,fe?I(de.quality):E(0),fe&&(fe=!1),Z("Schedule controller starting for "+se))}function n(){pe||(pe=!0,clearTimeout(Ae),Z("Schedule controller stopping for "+se))}function i(){if(!(pe||ve||!Se||Ee.isPaused()&&!Oe)){r();var e=Re.length>0;if(we.execute(be,se,Ie.isVideoTrackPresent())||e){var t=function(){if(de.quality!==xe)xe=de.quality,Se.switchInitData(be.getStreamInfo().id,de.quality);else{var e=Ne.execute(be,Re.shift());e?ue.executeRequest(e):(ve=!1,E(250))}};ve=!0,e?t():Me.getPlaybackQuality(be,t)}else E(500)}}function r(){var e=1.5*de.fragmentDuration,t=ue.getRequests({state:h.default.FRAGMENT_MODEL_EXECUTED,time:Ee.getTime()+e,threshold:0})[0];t&&-1===Re.indexOf(t)&&!ie.getIsTextTrack(se)&&(!Te.isCurrentTrack(t.mediaInfo)||oe.getFastSwitchEnabled()&&t.quality<de.quality&&Se.getBufferLevel()>=e&&Me.getAbandonmentStateFor(se)!==s.default.ABANDON_LOAD?(C(t),Z("Reloading outdated fragment at index: ",t.index)):t.quality>de.quality&&G(Ee.getTime()+Se.getBufferLevel()))}function E(e){clearTimeout(Ae),Ae=setTimeout(i,e)}function b(e){e.sender.getStreamProcessor()===be&&I(de.quality)}function I(e){xe=e;var t=te.getInitRequest(be,e);t&&(ve=!0,ue.executeRequest(t))}function C(e){Re.push(e)}function D(e){if(se===e.mediaType&&be.getStreamInfo().id===e.streamInfo.id){if(null===(de=be.getRepresentationInfoForQuality(e.newQuality))||void 0===de)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");q(new Date,o.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),W()}}function S(e){var t=ue.getRequests({state:h.default.FRAGMENT_MODEL_EXECUTED,time:Ee.getTime(),threshold:0})[0];t&&Ee.getTime()>=t.startTime&&(t.quality!==Pe&&e&&J.trigger(_.default.QUALITY_CHANGE_RENDERED,{mediaType:se,oldQuality:Pe,newQuality:t.quality}),Pe=t.quality)}function w(e){e.error||e.sender.getStreamProcessor()!==be||(de=te.convertDataToTrack(ee.getValue(),e.currentRepresentation))}function N(e){e.error||be.getStreamInfo().id!==e.streamInfo.id||(de=be.getCurrentRepresentationInfo(),ce&&null===De.getLiveEdge()||(le=!0),pe&&t())}function O(e){e.fragmentModel===ue&&(n(),ve=!1,Z("Stream is complete"))}function P(e){e.sender===ue&&(ie.getIsTextTrack(se)&&(ve=!1),e.error&&e.serviceLocation&&!pe&&C(e.request))}function x(){S(!0)}function R(e){e.sender.getStreamProcessor()===be&&(ve=!1,E(0))}function L(e){e.streamProcessor===be&&(C(e.request),ve=!1,E(0))}function k(e){e.sender.getStreamProcessor()===be&&n()}function j(e){e.sender.getStreamProcessor()===be&&(ue.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&!Se.getIsBufferingCompleted()&&pe&&t())}function F(e){e.sender.getStreamProcessor()!==be||e.state!==l.default.BUFFER_EMPTY||Ee.isSeeking()||(Z("Buffer is empty! Stalling!"),q(new Date,o.PlayListTrace.REBUFFERING_REASON))}function z(e){e.sender.getStreamProcessor()===be&&n()}function U(){ue.abortRequests(),n()}function B(e){e.sender.getStreamProcessor()===be&&I(e.index)}function V(){pe&&t()}function H(e){_e=e.seekTime,K(0),pe&&t();var n=ne.getCurrentManifestUpdate($.getMetricsFor("stream")),i=de.DVRWindow?de.DVRWindow.end-Ee.getTime():NaN;$.updateManifestUpdateInfo(n,{latency:i})}function Y(e){ge&&(ge.playbackspeed=e.playbackRate.toString())}function Q(e){if(!e.error){var n=de.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,i=e.liveEdge-Ee.computeLiveDelay(de.fragmentDuration,n),r=ne.getCurrentManifestUpdate($.getMetricsFor("stream")),o=Ee.getLiveStartTime(),a=te.getFragmentRequestForTime(be,de,i,{ignoreIsFinished:!0});_e=o,(isNaN(o)||a.startTime>o)&&(Ee.setLiveStartTime(a.startTime),_e=a.startTime),$.updateManifestUpdateInfo(r,{currentTime:_e,presentationStartTime:e.liveEdge,latency:e.liveEdge-_e,clientTimeOffset:re.getClientTimeOffset()}),le=!0,pe&&t()}}function G(e){_e=e}function K(e){me=e}function q(e,t){if(he&&!1===ye){var n=ge.start,i=e.getTime()-n.getTime();ge.duration=i,ge.stopreason=t,he.trace.push(ge),ye=!0}}function W(){he&&!0===ye&&de&&(ye=!1,(ge=new o.PlayListTrace).representationid=de.id,ge.start=new Date,ge.mstart=1e3*Ee.getTime(),ge.playbackspeed=Ee.getPlaybackRate().toString())}var X=this.context,Z=(0,M.default)(X).getInstance().log,J=(0,A.default)(X).getInstance(),$=e.metricsModel,ee=e.manifestModel,te=e.adapter,ne=e.dashMetrics,ie=e.dashManifestModel,re=e.timelineConverter,oe=e.mediaPlayerModel,ae=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,de=void 0,fe=void 0,pe=void 0,he=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Me=void 0,be=void 0,Ie=void 0,Ce=void 0,De=void 0,Se=void 0,we=void 0,Ne=void 0,Oe=void 0,Pe=void 0,xe=void 0,Re=void 0;return ae={initialize:function(e,t){se=e,be=t,De=(0,m.default)(X).getInstance(),Ee=(0,a.default)(X).getInstance(),Te=(0,u.default)(X).getInstance(),Me=(0,s.default)(X).getInstance(),Ie=(0,T.default)(X).getInstance(),Ce=be.getFragmentController(),Se=be.getBufferController(),(ue=Ce.getModel(se)).setScheduleController(this),ce=be.isDynamic(),Oe=oe.getScheduleWhilePaused(),we=(0,c.default)(X).create({dashMetrics:(0,g.default)(X).getInstance(),metricsModel:(0,p.default)(X).getInstance(),textSourceBuffer:(0,f.default)(X).getInstance()}),Ne=(0,d.default)(X).create({adapter:(0,y.default)(X).getInstance(),sourceBufferController:(0,v.default)(X).getInstance(),textSourceBuffer:(0,f.default)(X).getInstance()}),ie.getIsTextTrack(se)&&J.on(_.default.TIMED_TEXT_REQUESTED,B,this),J.on(_.default.LIVE_EDGE_SEARCH_COMPLETED,Q,this),J.on(_.default.QUALITY_CHANGE_REQUESTED,D,this),J.on(_.default.DATA_UPDATE_STARTED,k,this),J.on(_.default.DATA_UPDATE_COMPLETED,w,this),J.on(_.default.FRAGMENT_LOADING_COMPLETED,P,this),J.on(_.default.STREAM_COMPLETED,O,this),J.on(_.default.STREAM_INITIALIZED,N,this),J.on(_.default.BUFFER_LEVEL_STATE_CHANGED,F,this),J.on(_.default.BUFFER_CLEARED,j,this),J.on(_.default.BYTES_APPENDED,R,this),J.on(_.default.INIT_REQUESTED,b,this),J.on(_.default.QUOTA_EXCEEDED,z,this),J.on(_.default.BUFFER_LEVEL_STATE_CHANGED,F,this),J.on(_.default.PLAYBACK_STARTED,V,this),J.on(_.default.PLAYBACK_SEEKING,H,this),J.on(_.default.PLAYBACK_RATE_CHANGED,Y,this),J.on(_.default.PLAYBACK_TIME_UPDATED,x,this),J.on(_.default.URL_RESOLUTION_FAILED,U,this),J.on(_.default.FRAGMENT_LOADING_ABANDONED,L,this)},getStreamProcessor:function(){return be},getSeekTarget:function(){return _e},setSeekTarget:G,getFragmentModel:function(){return ue},setTimeToLoadDelay:K,getTimeToLoadDelay:function(){return me},replaceRequest:C,start:t,stop:n,reset:function(){J.off(_.default.LIVE_EDGE_SEARCH_COMPLETED,Q,this),J.off(_.default.DATA_UPDATE_STARTED,k,this),J.off(_.default.DATA_UPDATE_COMPLETED,w,this),J.off(_.default.BUFFER_LEVEL_STATE_CHANGED,F,this),J.off(_.default.QUALITY_CHANGE_REQUESTED,D,this),J.off(_.default.FRAGMENT_LOADING_COMPLETED,P,this),J.off(_.default.STREAM_COMPLETED,O,this),J.off(_.default.STREAM_INITIALIZED,N,this),J.off(_.default.QUOTA_EXCEEDED,z,this),J.off(_.default.BYTES_APPENDED,R,this),J.off(_.default.BUFFER_CLEARED,j,this),J.off(_.default.INIT_REQUESTED,b,this),J.off(_.default.PLAYBACK_RATE_CHANGED,Y,this),J.off(_.default.PLAYBACK_SEEKING,H,this),J.off(_.default.PLAYBACK_STARTED,V,this),J.off(_.default.PLAYBACK_TIME_UPDATED,x,this),J.off(_.default.URL_RESOLUTION_FAILED,U,this),J.off(_.default.FRAGMENT_LOADING_ABANDONED,L,this),ie.getIsTextTrack(se)&&J.off(_.default.TIMED_TEXT_REQUESTED,B,this),n(),S(!1),ve=!1,me=0,_e=NaN,Ee=null,he=null},setPlayList:function(e){he=e},getBufferTarget:function(){return we.getBufferTarget(be,se,Ie.isVideoTrackPresent())},finalisePlayList:function(e,t){q(e,t),he=null}},fe=!0,xe=NaN,Pe=NaN,Re=[],pe=!1,he=null,ge=null,ye=!0,ve=!1,me=0,_e=NaN,ae}Object.defineProperty(n,"__esModule",{value:!0});var o=e(182),a=i(e(69)),s=i(e(61)),l=i(e(64)),u=i(e(67)),c=i(e(141)),d=i(e(142)),f=i(e(57)),p=i(e(103)),h=i(e(100)),g=i(e(17)),y=i(e(15)),v=i(e(71)),m=i(e(155)),A=i(e(9)),_=i(e(13)),E=i(e(10)),T=i(e(72)),M=i(e(8));r.__dashjs_factory_name="ScheduleController",n.default=E.default.getClassFactory(r),t.exports=n.default},{10:10,100:100,103:103,13:13,141:141,142:142,15:15,155:155,17:17,182:182,57:57,61:61,64:64,67:67,69:69,71:71,72:72,8:8,9:9}],71:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t,n){var i,r,o=null,a=0,s=0,l=null,u=null,c=0,d=n||.15;try{o=e.buffered}catch(e){return null}if(null!==o&&void 0!==o){for(r=0,i=o.length;r<i;r++)if(a=o.start(r),s=o.end(r),null===l)c=Math.abs(a-t),t>=a&&t<s?(l=a,u=s):c<=d&&(l=a,u=s);else{if(!((c=a-u)<=d))break;u=s}if(null!==l)return{start:l,end:u}}return null}function t(e){try{return e.buffered}catch(e){return null}}function n(e,t){var n,i=function(){e.updating||(clearInterval(n),t())};if(e.updating)if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",function n(){e.updating||(e.removeEventListener("updateend",n,!1),t())},!1)}catch(e){n=setInterval(i,50)}else n=setInterval(i,50);else t()}var i=this.context,r=(0,g.default)(i).getInstance(),v=void 0;return{append:function(e,t){var i=t.bytes,o="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,a="Object"===Object.prototype.toString.call(e).slice(8,-1);if(o)try{n(e,function(){a?e[o](i,t):e[o](i),n(e,function(){r.trigger(y.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:i})})})}catch(t){r.trigger(y.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:i,error:new h.default(t.code,t.message,null)})}},remove:function(e,t,i,o){try{n(e,function(){t>=0&&i>t&&"ended"!==o.readyState&&e.remove(t,i),n(e,function(){r.trigger(y.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:i})})})}catch(n){r.trigger(y.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:i,error:new h.default(n.code,n.message,null)})}},abort:function(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(e){}},createSourceBuffer:function(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new h.default("not really supported");r=e.addSourceBuffer(n)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw e;(r=(0,o.default)(i).getInstance()).setConfig({errHandler:(0,l.default)(i).getInstance(),adapter:(0,s.default)(i).getInstance(),dashManifestModel:v,mediaController:(0,a.default)(i).getInstance(),videoModel:(0,p.default)(i).getInstance(),streamController:(0,u.default)(i).getInstance(),textTracks:(0,c.default)(i).getInstance(),VTTParser:(0,d.default)(i).getInstance(),TTMLParser:(0,f.default)(i).getInstance()})}return r},removeSourceBuffer:function(e,t){try{e.removeSourceBuffer(t)}catch(e){}},getBufferRange:e,getAllRanges:t,getTotalBufferedTime:function(e){var n,i,r=t(e),o=0;if(!r)return o;for(i=0,n=r.length;i<n;i++)o+=r.end(i)-r.start(i);return o},getBufferLength:function(t,n,i){var r;return r=e(t,n,i),null===r?0:r.end-n},getRangeDifference:function(e,n){if(!n)return null;var i,r,o,a,s,l,u,c,d,f=t(n);if(!f)return null;for(var p=0,h=f.length;p<h;p++){if(c=e.length>p,s=c?{start:e.start(p),end:e.end(p)}:null,i=f.start(p),r=f.end(p),!s)return d={start:i,end:r};if(o=s.start===i,a=s.end===r,!o||!a){if(o)d={start:s.end,end:r};else{if(!a)return d={start:i,end:r};d={start:i,end:s.start}}return l=e.length>p+1?{start:e.start(p+1),end:e.end(p+1)}:null,u=p+1<h?{start:f.start(p+1),end:f.end(p+1)}:null,!l||u&&u.start===l.start&&u.end===l.end||(d.end=l.start),d}}return null},setConfig:function(e){e&&e.dashManifestModel&&(v=e.dashManifestModel)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(57)),a=i(e(67)),s=i(e(15)),l=i(e(152)),u=i(e(72)),c=i(e(58)),d=i(e(160)),f=i(e(158)),p=i(e(105)),h=i(e(163)),g=i(e(9)),y=i(e(13)),v=i(e(10));r.__dashjs_factory_name="SourceBufferController";var m=v.default.getSingletonFactory(r);m.QUOTA_EXCEEDED_ERROR_CODE=22,n.default=m,t.exports=n.default},{10:10,105:105,13:13,15:15,152:152,158:158,160:160,163:163,57:57,58:58,67:67,72:72,9:9}],72:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t){t=t||new Date,ye&&(ne&&ne.getProcessors().forEach(function(n){var i=n.getScheduleController();i&&i.finalisePlayList(t,e)}),G.addPlayList(ye),ye=null)}function t(e){(ye=new h.PlayList).start=new Date,ye.mstart=1e3*fe.getTime(),ye.starttype=e,ne&&ne.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(ye)})}function n(e,t,n){F.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function i(){ne.isActivated()&&ge&&0===ne.getStreamInfo().index&&(ne.startEventController(),oe&&fe.play())}function r(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}le=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),j("Video Element Error: "+t),e.error&&j(e.error),$.mediaSourceError(t),R()}}function p(e){if(P()){var t=de.getPlaybackQuality();t&&G.addDroppedFrames("video",t)}fe.isSeeking()||e.timeToEnd<L&&W.signalEndOfStream(ce)}function v(){var t=T();t&&b(ne,t,NaN),e(t?h.PlayListTrace.END_OF_PERIOD_STOP_REASON:h.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function m(n){var i=M(n.seekTime);i&&i!==ne?(e(h.PlayListTrace.END_OF_PERIOD_STOP_REASON),b(ne,i,n.seekTime)):e(h.PlayListTrace.USER_REQUEST_STOP_REASON),t(h.PlayList.SEEK_START_REASON)}function A(){ge?(ge=!1,t(h.PlayList.INITIAL_PLAYOUT_START_REASON)):he&&(he=!1,t(h.PlayList.RESUME_FROM_PAUSE_START_REASON))}function _(t){t.ended||(he=!0,e(h.PlayListTrace.USER_REQUEST_STOP_REASON))}function E(e){ce&&e.streamInfo.isLast&&W.signalEndOfStream(ce)}function T(){var e=ne.getStreamInfo().start,t=ne.getStreamInfo().duration;return te.filter(function(n){return n.getStreamInfo().start===e+t})[0]}function M(e){var t=0,n=null,i=te.length;i>0&&(t+=te[0].getStartTime());for(var r=0;r<i;r++)if(n=te[r],t+=n.getDuration(),e<t)return n;return null}function b(e,t,i){!ae&&e&&t&&e!==t&&(ae=!0,n(u.default.PERIOD_SWITCH_STARTED,e,t),e.deactivate(),ne=t,fe.initialize(ne.getStreamInfo()),ve=x(),I(function(){isNaN(i)?function(){var e=fe.getStreamStartTime(!0);ne.getProcessors().forEach(function(t){Q.setIndexHandlerTime(t,e)}),fe.seek(e)}():fe.seek(i),fe.play(),ne.startEventController(),ae=!1,n(u.default.PERIOD_SWITCH_COMPLETED,e,t)}))}function I(e){function t(){j("MediaSource is open!"),window.URL.revokeObjectURL(n),ce.removeEventListener("sourceopen",t),ce.removeEventListener("webkitsourceopen",t),C(),ne.activate(ce),e&&e()}var n=void 0;ce?W.detachMediaSource(de):ce=W.createMediaSource(),ce.addEventListener("sourceopen",t,!1),ce.addEventListener("webkitsourceopen",t,!1),n=W.attachMediaSource(ce,de),j("MediaSource attached to element.  Waiting on open...")}function C(){var e,t;e=ne.getStreamInfo().manifestInfo.duration,t=W.setDuration(ce,e),j("Duration successfully set to: "+t)}function D(){var e,t,i,r,o,s,l,c=H.getValue(),d=G.getMetricsFor("stream"),f=K.getCurrentManifestUpdate(d),p=[];if(c){s=Q.getStreamsInfo(c),ie&&(F.trigger(u.default.PROTECTION_CREATED,{controller:ie,manifest:c}),ie.setMediaElement(de.getElement()),re&&ie.setProtectionData(re));try{if(0===s.length)throw new Error("There are no streams");for(G.updateManifestUpdateInfo(f,{currentTime:fe.getTime(),buffered:de.getElement().buffered,presentationStartTime:s[0].start,clientTimeOffset:ee.getClientTimeOffset()}),se=!0,r=0,t=s.length;r<t;r++){for(e=s[r],o=0,i=te.length;o<i;o++)te[o].getId()===e.id&&(l=te[o],p.push(l),l.updateData(e));l||((l=(0,a.default)(k).create({manifestModel:H,manifestUpdater:B,adapter:Q,timelineConverter:ee,capabilities:U,errHandler:$,baseURLController:Z})).initialize(e,ie),F.on(u.default.STREAM_INITIALIZED,w,this),p.push(l),ne&&l.updateData(e)),G.addManifestUpdateStreamInfo(f,e.id,e.index,e.start,e.duration),l=null}te=p,ne||(ne=te[0],n(u.default.PERIOD_SWITCH_STARTED,null,ne),fe.initialize(ne.getStreamInfo()),n(u.default.PERIOD_SWITCH_COMPLETED,null,ne)),ce||I(),se=!1,S()}catch(e){$.manifestError(e.message,"nostreamscomposed",c),ue=!0,R()}}}function S(){if(!se){var e=te.length,t=0;for(i(),t;t<e;t++)if(!te[t].isInitialized())return;F.trigger(u.default.STREAMS_COMPOSED)}}function w(){S()}function N(){D()}function O(e){if(e.error)ue=!0,R();else{var t,n,i=e.manifest,r=Q.getStreamsInfo(i)[0],o=Q.getMediaInfoForType(i,r,"video")||Q.getMediaInfoForType(i,r,"audio");o&&(t=Q.getDataForMedia(o),(n=Y.getRepresentationsForAdaptation(i,t)[0].useCalculatedLiveEdgeTime)&&(j("SegmentTimeline detected using calculated Live Edge Time"),pe.setUseManifestDateHeaderTimeSource(!1)));var a=Y.getUTCTimingSources(e.manifest),s=!Y.getIsDynamic(i)||n?a:a.concat(pe.getUTCTimingSources()),l=(0,c.default)(k).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===f.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(l?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),l?"https://":"http://"),j("Matching default timing source protocol to manifest protocol: ",e.value))}),Z.initialize(i),X.setConfig({metricsModel:G,dashMetrics:K}),X.initialize(s,pe.getUseManifestDateHeaderTimeSource())}}function P(){return void 0===ve&&(ve=x()),ve}function x(){var e=!1;return ne.getProcessors().forEach(function(t){"video"===t.getMediaInfo().type&&(e=!0)}),e}function R(){X.reset(),e(le||ue?h.PlayListTrace.FAILURE_STOP_REASON:h.PlayListTrace.USER_REQUEST_STOP_REASON);for(var t=0,n=te.length;t<n;t++){var i=te[t];F.off(u.default.STREAM_INITIALIZED,w,this),i.reset(le)}te=[],F.off(u.default.PLAYBACK_TIME_UPDATED,p,this),F.off(u.default.PLAYBACK_SEEKING,m,this),F.off(u.default.PLAYBACK_ERROR,r,this),F.off(u.default.PLAYBACK_STARTED,A,this),F.off(u.default.PLAYBACK_PAUSED,_,this),F.off(u.default.PLAYBACK_ENDED,v,this),F.off(u.default.MANIFEST_UPDATED,O,this),F.off(u.default.STREAM_BUFFERING_COMPLETED,E,this),Z.reset(),B.reset(),G.clearAllCurrentMetrics(),H.setValue(null),V.reset(),ee.reset(),q.reset(),Q.reset(),J.reset(),ae=!1,se=!1,ne=null,le=!1,ue=!1,ve=void 0,ge=!0,he=!1,ce&&(W.detachMediaSource(de),ce=null),de=null,ie&&(ie.setMediaElement(null),ie=null,re=null,H.getValue()&&F.trigger(u.default.PROTECTION_DESTROYED,{data:H.getValue().url})),F.trigger(u.default.STREAM_TEARDOWN_COMPLETE)}var L=1,k=this.context,j=(0,g.default)(k).getInstance().log,F=(0,l.default)(k).getInstance(),z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0,Z=void 0,J=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,ie=void 0,re=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,de=void 0,fe=void 0,pe=void 0,he=void 0,ge=void 0,ye=void 0,ve=void 0;return z={initialize:function(e,t){oe=e,re=t,ee.initialize(),J=(0,y.default)(k).getInstance(),(B=(0,s.default)(k).getInstance()).setConfig({log:j,manifestModel:H,dashManifestModel:Y}),B.initialize(V),de=(0,d.default)(k).getInstance(),(fe=(0,o.default)(k).getInstance()).setConfig({streamController:z,timelineConverter:ee,metricsModel:G,dashMetrics:K,manifestModel:H,dashManifestModel:Y,adapter:Q,videoModel:de}),F.on(u.default.TIME_SYNCHRONIZATION_COMPLETED,N,this),F.on(u.default.PLAYBACK_SEEKING,m,this),F.on(u.default.PLAYBACK_TIME_UPDATED,p,this),F.on(u.default.PLAYBACK_ENDED,v,this),F.on(u.default.PLAYBACK_ERROR,r,this),F.on(u.default.PLAYBACK_STARTED,A,this),F.on(u.default.PLAYBACK_PAUSED,_,this),F.on(u.default.MANIFEST_UPDATED,O,this),F.on(u.default.STREAM_BUFFERING_COMPLETED,E,this)},getAutoPlay:function(){return oe},getActiveStreamInfo:function(){return ne?ne.getStreamInfo():null},isStreamActive:function(e){return ne.getId()===e.id},isVideoTrackPresent:P,getStreamById:function(e){return te.filter(function(t){return t.getId()===e})[0]},getTimeRelativeToStreamId:function(e,t){for(var n=null,i=0,r=0,o=null,a=te.length,s=0;s<a;s++){if(n=te[s],r=n.getStartTime(),o=n.getDuration(),Number.isFinite(r)&&(i=r),n.getId()===t)return e-i;Number.isFinite(o)&&(i+=o)}return null},load:function(e){V.load(e)},loadWithManifest:function(e){B.setManifest(e)},getActiveStreamCommonEarliestTime:function(){var e=[];return ne.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)},setConfig:function(e){e&&(e.capabilities&&(U=e.capabilities),e.manifestLoader&&(V=e.manifestLoader),e.manifestModel&&(H=e.manifestModel),e.dashManifestModel&&(Y=e.dashManifestModel),e.protectionController&&(ie=e.protectionController),e.adapter&&(Q=e.adapter),e.metricsModel&&(G=e.metricsModel),e.dashMetrics&&(K=e.dashMetrics),e.liveEdgeFinder&&(q=e.liveEdgeFinder),e.mediaSourceController&&(W=e.mediaSourceController),e.timeSyncController&&(X=e.timeSyncController),e.baseURLController&&(Z=e.baseURLController),e.errHandler&&($=e.errHandler),e.timelineConverter&&(ee=e.timelineConverter))},reset:R},ie=null,te=[],pe=(0,f.default)(k).getInstance(),oe=!0,ae=!1,se=!1,he=!1,ge=!0,ye=null,le=!1,ue=!1,z}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(69)),a=i(e(55)),s=i(e(51)),l=i(e(9)),u=i(e(13)),c=i(e(104)),d=i(e(105)),f=i(e(102)),p=i(e(10)),h=e(182),g=i(e(8)),y=i(e(153));r.__dashjs_factory_name="StreamController",n.default=p.default.getSingletonFactory(r),t.exports=n.default},{10:10,102:102,104:104,105:105,13:13,153:153,182:182,51:51,55:55,69:69,8:8,9:9}],73:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){f=e}function n(e){e.sender.getStreamProcessor()===g&&s.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function i(e){e.fragmentModel===g.getFragmentModel()&&e.chunk.bytes&&l.append(p,e.chunk)}var r=this.context,s=(0,o.default)(r).getInstance(),l=e.sourceBufferController,u=e.errHandler,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0,y=void 0;return c={initialize:function(e,n,i){h=e,t(n),y=(g=i).getRepresentationController()},createBuffer:function(e){try{p=l.createSourceBuffer(f,e),d||(p.hasOwnProperty("initialize")&&p.initialize(h,this),d=!0)}catch(e){u.mediaSourceError("Error creating "+h+" source buffer.")}return p},getBuffer:function(){return p},setBuffer:function(e){p=e},getStreamProcessor:function(){return g},setMediaSource:t,reset:function(e){s.off(a.default.DATA_UPDATE_COMPLETED,n,this),s.off(a.default.INIT_FRAGMENT_LOADED,i,this),e||(l.abort(f,p),l.removeSourceBuffer(f,p))}},function(){d=!1,f=null,p=null,h=null,g=null,y=null,s.on(a.default.DATA_UPDATE_COMPLETED,n,this),s.on(a.default.INIT_FRAGMENT_LOADED,i,this)}(),c}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10));r.__dashjs_factory_name="TextController",n.default=s.default.getClassFactory(r),t.exports=n.default},{10:10,13:13,9:9}],74:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){C=e}function t(){return C}function n(e){D=e}function i(e){I=e}function r(){return I}function l(e){var t,n,i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&(parseInt(i[6],10)||0),i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]&&(n=60*parseInt(i[9],10)+parseInt(i[10],10),t+=("+"===i[8]?-1:1)*n*60*1e3),new Date(t).getTime()}function f(e){var t=Date.parse(e);return isNaN(t)&&(t=l(e)),t}function p(e){return Date.parse(e)}function h(e){return Date.parse(e)}function g(e,t,n){n()}function y(e,t,n){var i=f(e);isNaN(i)?n():t(i)}function v(e,t,n,i,r){var o,a,s=!1,l=new XMLHttpRequest,u=r?"HEAD":"GET",c=t.match(/\S+/g);t=c.shift(),o=function(){s||(s=!0,c.length?v(e,c.join(" "),n,i,r):i())},a=function(){var t,i;200===l.status&&(t=r?l.getResponseHeader("Date"):l.response,i=e(t),isNaN(i)||(n(i),s=!0))},l.open(u,t),l.timeout=d||0,l.onload=a,l.onloadend=o,l.send()}function m(e,t,n){v(h,e,t,n,!0)}function A(){var e=N.getReadOnlyMetricsFor("stream"),t=O.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?_(!0):(i(n-(new Date).getTime()),_(!1,n/1e3,I))}function _(t,n,i){e(!1),b.trigger(s.default.TIME_SYNCHRONIZATION_COMPLETED,{time:n,offset:i,error:t?new o.default(c):null})}function E(t,n){var r=n||0,o=t[r],a=function(e,t){var n=!e||!t;n&&S?A():_(n,e,t)};e(!0),o?w.hasOwnProperty(o.schemeIdUri)?w[o.schemeIdUri](o.value,function(e){var t=(new Date).getTime(),n=e-t;i(n),M("Local time:      "+new Date(t)),M("Server time:     "+new Date(e)),M("Difference (ms): "+n),a(e,n)},function(){E(t,r+1)}):E(t,r+1):(i(0),a())}var T=this.context,M=(0,u.default)(T).getInstance().log,b=(0,a.default)(T).getInstance(),I=void 0,C=void 0,D=void 0,S=void 0,w=void 0,N=void 0,O=void 0;return{initialize:function(e,i){S=i,I=0,C=!1,D=!1,w={"urn:mpeg:dash:utc:http-head:2014":m,"urn:mpeg:dash:utc:http-xsdate:2014":v.bind(null,f),"urn:mpeg:dash:utc:http-iso:2014":v.bind(null,p),"urn:mpeg:dash:utc:direct:2014":y,"urn:mpeg:dash:utc:http-head:2012":m,"urn:mpeg:dash:utc:http-xsdate:2012":v.bind(null,f),"urn:mpeg:dash:utc:http-iso:2012":v.bind(null,p),"urn:mpeg:dash:utc:direct:2012":y,"urn:mpeg:dash:utc:http-ntp:2014":g,"urn:mpeg:dash:utc:ntp:2014":g,"urn:mpeg:dash:utc:sntp:2014":g},t()||(E(e),n(!0))},getOffsetToDeviceTimeMs:function(){return r()},setConfig:function(e){e&&(e.metricsModel&&(N=e.metricsModel),e.dashMetrics&&(O=e.dashMetrics))},reset:function(){n(!1),e(!1)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(163)),a=i(e(9)),s=i(e(13)),l=i(e(10)),u=i(e(8)),c=1,d=5e3;r.__dashjs_factory_name="TimeSyncController";var f=l.default.getSingletonFactory(r);f.TIME_SYNC_FAILED_ERROR_CODE=c,f.HTTP_TIMEOUT_MS=d,n.default=f,t.exports=n.default},{10:10,13:13,163:163,8:8,9:9}],75:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t,n){var r,o,a,s={};for(s.elements=e,s.type=t,s.resolveType=n,0===s.elements.length&&i(s),a=0;a<s.elements.length;a++)r=s.elements[a],o=E.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,D.load(o,r,s)}function n(e){var t,n,r,o="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,o=t.resolvedContent.substr(0,r)+"<response>"+t.resolvedContent.substr(r)+"</response>",t.resolvedContent=C.xml_str2json(o)),m(n)&&i(n)}function i(e){var n,i,o=[];if(l(e),e.resolveType===f&&_.trigger(s.default.XLINK_READY,{manifest:I}),e.resolveType===d)switch(e.type){case p:for(n=0;n<I[p+"_asArray"].length;n++)(i=I[p+"_asArray"][n]).hasOwnProperty(h+"_asArray")&&(o=o.concat(r(i[h+"_asArray"],i,h,d))),i.hasOwnProperty(g+"_asArray")&&(o=o.concat(r(i[g+"_asArray"],i,g,d)));t(o,h,d);break;case h:_.trigger(s.default.XLINK_READY,{manifest:I})}}function r(e,t,n,i){var r,o,a,s=[];for(o=e.length-1;o>=0;o--)(r=e[o]).hasOwnProperty("xlink:href")&&r["xlink:href"]===y&&e.splice(o,1);for(o=0;o<e.length;o++)(r=e[o]).hasOwnProperty("xlink:href")&&r.hasOwnProperty("xlink:actuate")&&r["xlink:actuate"]===i&&(a=v(r["xlink:href"],t,n,o,i,r),s.push(a));return s}function l(e){var t,n,i,r,o,a,s=[];for(r=e.elements.length-1;r>=0;r--){if(t=e.elements[r],n=t.type+"_asArray",t.resolvedContent){if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)i=t.resolvedContent[n][o],s.push(i)}else delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);for(t.parentElement[n].splice(t.index,1),a=0;a<s.length;a++)t.parentElement[n].splice(t.index+a,0,s[a]);s=[]}e.elements.length>0&&b.run(I)}function v(e,t,n,i,r,o){return{url:e,parentElement:t,type:n,index:i,resolveType:r,originalContent:o,resolvedContent:null,resolved:!1}}function m(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0}var A=this.context,_=(0,a.default)(A).getInstance(),E=(0,c.default)(A).getInstance(),T=void 0,M=void 0,b=void 0,I=void 0,C=void 0,D=void 0;return T={resolveManifestOnLoad:function(e){C=new u.default(M,"",!0),t(r((I=e).Period_asArray,I,p,d),p,d)},setMatchers:function(e){M=e},setIron:function(e){b=e},reset:function(){_.off(s.default.XLINK_ELEMENT_LOADED,n,T),D&&(D.reset(),D=null)}},_.on(s.default.XLINK_ELEMENT_LOADED,n,T),D=(0,o.default)(A).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),T}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(60)),a=i(e(9)),s=i(e(13)),l=i(e(10)),u=i(e(4)),c=i(e(159)),d="onLoad",f="onActuate",p="Period",h="AdaptationSet",g="EventStream",y="urn:mpeg:dash:resolve-to-zero:2013";r.__dashjs_factory_name="XlinkController",n.default=l.default.getClassFactory(r),t.exports=n.default},{10:10,13:13,159:159,4:4,60:60,9:9}],76:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=void 0;return{createMetricsReporting:function(n){return t=(0,o.default)(e).getInstance({eventBus:n.eventBus,metricsModel:n.metricsModel}),(0,s.default)(e).create(n)},getReportingFactory:function(){return(0,u.default)(e).getInstance()},getMetricsHandlerFactory:function(){return(0,l.default)(e).getInstance()}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(90)),a=i(e(77)),s=i(e(78)),l=i(e(83)),u=i(e(88)),c=i(e(10));r.__dashjs_factory_name="MetricsReporting";var d=c.default.getClassFactory(r);d.events=a.default,n.default=d,t.exports=n.default},{10:10,77:77,78:78,83:83,88:88,90:90}],77:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=new(function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(14)).default));n.default=a,t.exports=n.default},{14:14}],78:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(t){if(!t.error){var n=Object.keys(i);(0,a.default)(r).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(t.manifest).forEach(function(t){var a=JSON.stringify(t);if(i.hasOwnProperty(a))n.splice(a,1);else try{var s=(0,o.default)(r).create(e);s.initialize(t),i[a]=s}catch(e){}}),n.forEach(function(e){i[e].reset(),delete i[e]}),s.trigger(l.default.METRICS_INITIALISATION_COMPLETE)}}function n(){Object.keys(i).forEach(function(e){i[e].reset()}),i={}}var i={},r=this.context,s=e.eventBus;return s.on(u.default.MANIFEST_UPDATED,t),s.on(u.default.STREAM_TEARDOWN_COMPLETE,n),{}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(79)),a=i(e(92)),s=i(e(10)),l=i(e(77)),u=i(e(13));r.__dashjs_factory_name="MetricsCollectionController",n.default=s.default.getClassFactory(r),t.exports=n.default},{10:10,13:13,77:77,79:79,92:92}],79:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){n&&n.reset(),i&&i.reset(),r&&r.reset()}var n=void 0,i=void 0,r=void 0,o=this.context;return{initialize:function(u){try{(r=(0,a.default)(o).create({mediaElement:e.mediaElement})).initialize(u.Range),(i=(0,s.default)(o).create({log:e.log})).initialize(u.Reporting,r),(n=(0,l.default)(o).create({log:e.log,eventBus:e.eventBus})).initialize(u.metrics,i)}catch(e){throw t(),e}},reset:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(81)),s=i(e(82)),l=i(e(80));r.__dashjs_factory_name="MetricsController",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,80:80,81:81,82:82}],80:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){n.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}var n=[],i=void 0,r=this.context,a=e.eventBus,l=(0,o.default)(r).getInstance({log:e.log,eventBus:e.eventBus});return i={initialize:function(e,r){e.split(",").forEach(function(e,t,i){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=i[t+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete i[t+1])}(o=l.create(e,r))&&n.push(o)}),a.on(s.default.METRIC_ADDED,t,i),a.on(s.default.METRIC_UPDATED,t,i)},reset:function(){a.off(s.default.METRIC_ADDED,t,i),a.off(s.default.METRIC_UPDATED,t,i),n.forEach(function(e){return e.reset()}),n=[]}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(83)),a=i(e(10)),s=i(e(53));r.__dashjs_factory_name="MetricsHandlersController",n.default=a.default.getClassFactory(r),t.exports=n.default},{10:10,53:53,83:83}],81:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=!1,n=this.context,i=void 0,r=void 0,o=e.mediaElement;return i={initialize:function(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;r.add(t,n)}),t=!!e[0]._useWallClockTime)},reset:function(){r.clear()},isEnabled:function(){var e,n=r.length;if(!n)return!0;e=t?(new Date).getTime()/1e3:o.currentTime;for(var i=0;i<n;i+=1){var a=r.start(i),s=r.end(i);if(a<=e&&e<s)return!0}return!1}},r=(0,a.default)(n).create(),i}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(149));r.__dashjs_factory_name="RangeController",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,149:149}],82:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=[],n=(0,a.default)(this.context).getInstance({log:e.log});return{initialize:function(e,i){e.some(function(e){var r=n.create(e,i);if(r)return t.push(r),!0})},reset:function(){t.forEach(function(e){return e.reset()}),t=[]},report:function(e,n){t.forEach(function(t){return t.report(e,n)})}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(88));r.__dashjs_factory_name="ReportingController",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,88:88}],83:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.log,n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,i=this.context,r={BufferLevel:a.default,DVBErrors:s.default,HttpList:l.default,PlayList:u.default,RepSwitchList:u.default,TcpList:u.default};return{create:function(o,a){var s,l=o.match(n);if(l){try{(s=r[l[1]](i).create({eventBus:e.eventBus})).initialize(l[1],a,l[3],l[5])}catch(e){s=null,t("MetricsHandlerFactory: Could not create handler for type "+l[1]+" with args "+l[3]+", "+l[5]+" ("+e.message+")")}return s}},register:function(e,t){r[e]=t},unregister:function(e){delete r[e]}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(84)),s=i(e(85)),l=i(e(87)),u=i(e(86));r.__dashjs_factory_name="MetricsHandlerFactory",n.default=o.default.getSingletonFactory(r),t.exports=n.default},{10:10,84:84,85:85,86:86,87:87}],84:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){try{return Object.keys(c).map(function(e){return c[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function t(){var t=e();t&&s!==t.t&&(s=t.t,n.report(r,t))}var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0,l=this.context,u=(0,a.default)(l).getInstance(),c=[];return{initialize:function(e,a,s){a&&(i=u.validateN(s),n=a,r=u.reconstructFullMetricName(e,s),o=setInterval(t,i))},reset:function(){clearInterval(o),o=null,i=0,n=null,s=null},handleNewMetric:function(e,t,n){"BufferLevel"===e&&(c[n]=t)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(91));r.__dashjs_factory_name="BufferLevelHandler",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,91:91}],85:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(10)),o=i(e(77));n.default=r.default.getClassFactory(function(e){function t(){i.off(o.default.METRICS_INITIALISATION_COMPLETE,t,this),i.trigger(o.default.BECAME_REPORTING_PLAYER)}var n=void 0,i=e.eventBus;return{initialize:function(e,r){r&&(n=r,i.on(o.default.METRICS_INITIALISATION_COMPLETE,t,this))},reset:function(){n=null},handleNewMetric:function(e,t){"DVBErrors"===e&&n&&n.report(e,t)}}}),t.exports=n.default},{10:10,77:77}],86:[function(e,t,n){function i(){var e=void 0,t=void 0;return{initialize:function(n,i){e=n,t=i},reset:function(){t=null,e=void 0},handleNewMetric:function(n,i){n===e&&t&&t.report(e,i)}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="GenericMetricHandler",n.default=r.default.getClassFactory(i),t.exports=n.default},{10:10}],87:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){var e=s;e.length&&t&&t.report(r,e),s=[]}var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=[],l=(0,a.default)(this.context).getInstance();return{initialize:function(a,s,u,c){s&&(n=l.validateN(u),t=s,c&&c.length&&(i=c),r=l.reconstructFullMetricName(a,u,c),o=setInterval(e,n))},reset:function(){clearInterval(o),o=null,n=null,i=null,s=[],t=null},handleNewMetric:function(e,t){"HttpList"===e&&(i&&i!==t.type||s.push(t))}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(91));r.__dashjs_factory_name="HttpListHandler",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,91:91}],88:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={"urn:dvb:dash:reporting:2014":a.default},n=this.context,i=e.log;return{create:function(e,r){var o;try{(o=t[e.schemeIdUri](n).create()).initialize(e,r)}catch(t){o=null,i("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return o},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(89));r.__dashjs_factory_name="ReportingFactory",n.default=o.default.getSingletonFactory(r),t.exports=n.default},{10:10,89:89}],89:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,t,n){var i=new XMLHttpRequest,r=function(){var e=f.indexOf(i);-1!==e&&(f.splice(e,1),i.status>=200&&i.status<300?t&&t():n&&n())};f.push(i);try{i.open("GET",e),i.onloadend=r,i.onerror=r,i.send()}catch(e){i.onerror()}}var t=this.context,n=(0,a.default)(t).getInstance(),i=(0,s.default)(t).getInstance(),r=!0,o=!1,l=!1,u=null,c=null,d=!0,f=[];return{report:function(t,i){Array.isArray(i)||(i=[i]),o&&c.isEnabled()&&i.forEach(function(i){var a=n.serialise(i);r&&"DVBErrors"!==t&&(a="metricname="+t+"&"+a),e(a=u+"?"+a,null,function(){o=!1})})},initialize:function(e,t){var n;if(c=t,!(u=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");l||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=i.random())&&(o=!0),l=!0)},reset:function(){d||(f.forEach(function(e){return e.abort()}),f=[]),l=!1,o=!1,u=null,c=null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(93)),s=i(e(94));r.__dashjs_factory_name="DVBReporting",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,93:93,94:94}],90:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=new o.default;if(y){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=y.originalUrl||y.url),t.terror||(t.terror=new Date),g.addDVBErrors(t)}}function n(e){e.error||(y=e.manifest)}function i(e){t({errorcode:o.default.BASE_URL_CHANGED,servicelocation:e.entry})}function r(){t({errorcode:o.default.BECAME_REPORTER})}function u(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||o.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function c(e){switch(e.metric){case"HttpList":u(e.value)}}function d(e){var n;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:n=o.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=o.default.CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function f(){h.on(a.default.MANIFEST_UPDATED,n,p),h.on(a.default.SERVICE_LOCATION_BLACKLIST_CHANGED,i,p),h.on(s.default.METRIC_ADDED,c,p),h.on(s.default.METRIC_UPDATED,c,p),h.on(s.default.PLAYBACK_ERROR,d,p),h.on(l.default.BECAME_REPORTING_PLAYER,r,p)}var p=void 0,h=e.eventBus,g=e.metricsModel,y=void 0;return p={initialise:f,reset:function(){h.off(a.default.MANIFEST_UPDATED,n,p),h.off(a.default.SERVICE_LOCATION_BLACKLIST_CHANGED,i,p),h.off(s.default.METRIC_ADDED,c,p),h.off(s.default.METRIC_UPDATED,c,p),h.off(s.default.PLAYBACK_ERROR,d,p),h.off(l.default.BECAME_REPORTING_PLAYER,r,p)}},f(),p}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(95)),a=i(e(13)),s=i(e(53)),l=i(e(77)),u=i(e(10));r.__dashjs_factory_name="DVBErrorsTranslator",n.default=u.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,53:53,77:77,95:95}],91:[function(e,t,n){function i(){return{reconstructFullMetricName:function(e,t,n){var i=e;return t&&(i+="("+t,n&&n.length&&(i+=","+n),i+=")"),i},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="HandlerHelpers",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],92:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t,i){var r,o,a=n.getMpd(e),s=0;return t?s=a.availabilityStartTime.getTime()/1e3:(r=this.getRegularPeriods(e,a)).length&&(s=r[0].start),o=s,i&&i.hasOwnProperty("starttime")&&(o+=i.starttime),o}var n=e.dashManifestModel;return{getMetrics:function(e){var i=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(r){var l=new o.default,u=n.getIsDynamic(e);r.hasOwnProperty("metrics")&&(l.metrics=r.metrics,r.Range_asArray&&r.Range_asArray.forEach(function(i){var r=new a.default;r.starttime=t(e,u,i),i.hasOwnProperty("duration")?r.duration=i.duration:r.duration=n.getDuration(e),r._useWallClockTime=u,l.Range.push(r)}),r.Reporting_asArray&&(r.Reporting_asArray.forEach(function(e){var t=new s.default;if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);l.Reporting.push(t)}}),i.push(l)))}),i}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(96)),a=i(e(97)),s=i(e(98)),l=i(e(10));r.__dashjs_factory_name="ManifestParsing",n.default=l.default.getSingletonFactory(r),t.exports=n.default},{10:10,96:96,97:97,98:98}],93:[function(e,t,n){function i(){function e(t){var n,i,r=[],o=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(void 0!==(i=t[n])&&null!==i||(i=""),Array.isArray(i)){if(!i.length)continue;o=[],i.forEach(function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);o.push(n?t:e(t))}),i=encodeURIComponent(o.join(","))}else"string"==typeof i?i=encodeURIComponent(i):i instanceof Date?i=i.toISOString():"number"==typeof i&&(i=Math.round(i));r.push(n+"="+i)}return r.join("&")}return{serialise:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="MetricSerialiser",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],94:[function(e,t,n){function i(){function e(){t&&(o||(o=new n(r)),t.getRandomValues(o),a=0)}var t=window.crypto||window.msCrypto,n=Uint32Array,i=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,r=10,o=void 0,a=void 0,s=void 0;return s={random:function(n,r){var s;return n||(n=0),r||(r=1),t?(a===o.length&&e(),s=o[a]/i,a+=1):s=Math.random(),s*(r-n)+n}},e(),s}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="RNG",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],95:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(){i(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",n.default=r,t.exports=n.default},{}],96:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],97:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],98:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],99:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(e,t,n){var i=l.getBaseURLsFromElement(n);e[t]?d.areSimpleEquivalent(i,e[t].data.baseUrls)||(e[t].data.baseUrls=i,e[t].data.selectedIdx=u):e[t]=new c(i)}function t(t){var n=l.getBaseURLsFromElement(t);d.areSimpleEquivalent(n,r.data.baseUrls)||(r.data.baseUrls=n,r.data.selectedIdx=u),t.Period_asArray&&t.Period_asArray.forEach(function(t,n){e(r.children,n,t),t.AdaptationSet_asArray&&t.AdaptationSet_asArray.forEach(function(t,i){e(r.children[n].children,i,t),t.Representation_asArray&&t.Representation_asArray.sort(l.getRepresentationSortFunction()).forEach(function(t,o){e(r.children[n].children[i].children,o,t)})})})}function n(e,t){var i=t||r;e(i.data),i.children&&i.children.forEach(function(t){return n(e,t)})}var i=void 0,r=void 0,o=this.context,l=(0,a.default)(o).getInstance(),d=(0,s.default)(o).getInstance();return i={reset:function(){r=new c},update:function(e){t(e)},getForPath:function(e){var t=r,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})},invalidateSelectedIndexes:function(e){n(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=u)})}},r=new c,i}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e(22)),s=i(e(156)),l=i(e(10)),u=NaN,c=function e(t,n){r(this,e),this.data={baseUrls:t||null,selectedIdx:n||u},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",n.default=l.default.getClassFactory(o),t.exports=n.default},{10:10,156:156,22:22}],100:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){y.trigger(a.default.FRAGMENT_LOADING_STARTED,{sender:m,request:e}),T.load(e)}function n(e,t,n){for(var i=e.length-1;i>=0;i--){var r=e[i],o=r.startTime,a=o+r.duration;if(n=void 0!==n?n:r.duration/2,!isNaN(o)&&!isNaN(a)&&t+n>=o&&t-n<a||isNaN(o)&&isNaN(t))return r}return null}function i(e,t){return t.hasOwnProperty("time")?[n(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}function r(e){var t=void 0;switch(e){case c:t=E;break;case d:t=_;break;default:t=[]}return t}function s(e,t){v.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),v.addRequestsQueue(e.mediaType,E,_)}function p(e){e.sender===T&&(E.splice(E.indexOf(e.request),1),e.response&&!e.error&&_.push(e.request),s(e.request,e.error?f:d),y.trigger(a.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}var h=this.context,g=(0,u.default)(h).getInstance().log,y=(0,o.default)(h).getInstance(),v=e.metricsModel,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0;return m={setLoader:function(e){T=e},setScheduleController:function(e){A=e},getScheduleController:function(){return A},getRequests:function(e){var t=[];return(e.state instanceof Array?e.state:[e.state]).forEach(function(n){var o=r(n);t=t.concat(i(o,e))}),t},isFragmentLoaded:function(e){var t=function(e,t){return e.action===l.default.ACTION_COMPLETE&&e.action===t.action},n=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},i=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return function(r){var o=!1;return r.some(function(r){if(n(e,r)||i(e,r)||t(e,r))return o=!0}),o}(_)},removeExecutedRequestsBeforeTime:function(e){_=_.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})},abortRequests:function(){T.abort(),E=[]},executeRequest:function(e){switch(e.action){case l.default.ACTION_COMPLETE:_.push(e),s(e,d),y.trigger(a.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case l.default.ACTION_DOWNLOAD:s(e,c),E.push(e),t(e);break;default:g("Unknown request action.")}},reset:function(){y.off(a.default.LOADING_COMPLETED,p,this),T&&(T.reset(),T=null),_=[],E=[]}},A=null,T=null,_=[],E=[],y.on(a.default.LOADING_COMPLETED,p,m),m}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10)),l=i(e(164)),u=i(e(8)),c="loading",d="executed",f="failed";r.__dashjs_factory_name="FragmentModel";var p=s.default.getClassFactory(r);p.FRAGMENT_MODEL_LOADING=c,p.FRAGMENT_MODEL_EXECUTED=d,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=f,n.default=p,t.exports=n.default},{10:10,13:13,164:164,8:8,9:9}],101:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){n=e,e&&t.trigger(a.default.MANIFEST_LOADED,{data:e})}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10));r.__dashjs_factory_name="ManifestModel",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,9:9}],102:[function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0,s=void 0,w=void 0,N=void 0,O=void 0,P=void 0,x=void 0,R=void 0,L=void 0,k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0;return e={setBufferOccupancyABREnabled:function(e){Y=e},getBufferOccupancyABREnabled:function(){return Y},setBandwidthSafetyFactor:function(e){z=e},getBandwidthSafetyFactor:function(){return z},setAbandonLoadTimeout:function(e){U=e},getAbandonLoadTimeout:function(){return U},setLastBitrateCachingInfo:function(e,t){P.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(P.ttl=t)},getLastBitrateCachingInfo:function(){return P},setLastMediaSettingsCachingInfo:function(e,t){x.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(x.ttl=t)},getLastMediaSettingsCachingInfo:function(){return x},setStableBufferTime:function(e){R=e},getStableBufferTime:function(){return isNaN(R)?G?y:g:R},setBufferTimeAtTopQuality:function(e){L=e},getBufferTimeAtTopQuality:function(){return L},setBufferTimeAtTopQualityLongForm:function(e){k=e},getBufferTimeAtTopQualityLongForm:function(){return k},setLongFormContentDurationThreshold:function(e){j=e},getLongFormContentDurationThreshold:function(){return j},setRichBufferThreshold:function(e){F=e},getRichBufferThreshold:function(){return F},setBufferToKeep:function(e){N=e},getBufferToKeep:function(){return N},setBufferPruningInterval:function(e){O=e},getBufferPruningInterval:function(){return O},setFragmentRetryAttempts:function(e){B[a.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryAttempts:function(){return B[a.HTTPRequest.MEDIA_SEGMENT_TYPE]},setRetryAttemptsForType:function(e,t){B[e]=t},getRetryAttemptsForType:function(e){return B[e]},setFragmentRetryInterval:function(e){V[a.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryInterval:function(){return V[a.HTTPRequest.MEDIA_SEGMENT_TYPE]},setRetryIntervalForType:function(e,t){V[e]=t},getRetryIntervalForType:function(e){return V[e]},setWallclockTimeUpdateInterval:function(e){H=e},getWallclockTimeUpdateInterval:function(){return H},setScheduleWhilePaused:function(e){w=e},getScheduleWhilePaused:function(){return w},getUseSuggestedPresentationDelay:function(){return n},setUseSuggestedPresentationDelay:function(e){n=e},setLiveDelayFragmentCount:function(e){o=e},getLiveDelayFragmentCount:function(){return o},getLiveDelay:function(){return s},setLiveDelay:function(e){s=e},setUseManifestDateHeaderTimeSource:function(e){t=e},getUseManifestDateHeaderTimeSource:function(){return t},setUTCTimingSources:function(e){r=e},getUTCTimingSources:function(){return r},setXHRWithCredentials:function(e){Q=!!e},getXHRWithCredentials:function(){return Q},setFastSwitchEnabled:function(e){G=e},getFastSwitchEnabled:function(){return G},reset:function(){}},function(){var e,g;r=[],n=!1,t=!0,w=!0,Y=!1,G=!1,P={enabled:!0,ttl:u},x={enabled:!0,ttl:c},o=l,s=void 0,N=p,O=h,R=NaN,L=v,k=m,j=A,F=_,z=d,U=f,H=D,Q=S,i(e={},a.HTTPRequest.MPD_TYPE,M),i(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,I),i(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,E),i(e,a.HTTPRequest.INIT_SEGMENT_TYPE,E),i(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,E),i(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,E),i(e,a.HTTPRequest.OTHER_TYPE,E),B=e,i(g={},a.HTTPRequest.MPD_TYPE,b),i(g,a.HTTPRequest.XLINK_EXPANSION_TYPE,C),i(g,a.HTTPRequest.MEDIA_SEGMENT_TYPE,T),i(g,a.HTTPRequest.INIT_SEGMENT_TYPE,T),i(g,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,T),i(g,a.HTTPRequest.INDEX_SEGMENT_TYPE,T),i(g,a.HTTPRequest.OTHER_TYPE,T),V=g}(),e}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),a=e(180),s={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},l=4,u=36e4,c=36e4,d=.9,f=1e4,p=30,h=30,g=12,y=20,v=30,m=60,A=600,_=20,E=3,T=1e3,M=3,b=500,I=1,C=500,D=50,S=!1;r.__dashjs_factory_name="MediaPlayerModel";var w=o.default.getSingletonFactory(r);w.DEFAULT_UTC_TIMING_SOURCE=s,n.default=w,t.exports=n.default},{10:10,180:180}],103:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){T.trigger(v.default.METRICS_CHANGED)}function t(t){T.trigger(v.default.METRIC_CHANGED,{mediaType:t}),e()}function n(e,n,i){T.trigger(v.default.METRIC_UPDATED,{mediaType:e,metric:n,value:i}),t(e)}function i(e,n,i){T.trigger(v.default.METRIC_ADDED,{mediaType:e,metric:n,value:i}),t(e)}function r(e){var t;return I.hasOwnProperty(e)?t=I[e]:(t=new o.default,I[e]=t),t}function m(e,t,n,i){var r=new s.HTTPRequestTrace;return r.s=t,r.d=n,r.b=i,e.trace.push(r),e.interval||(e.interval=0),e.interval+=n,r}function _(e,t,n,o,a,l,u,c,d,f,p,h,g,y){var v=new s.HTTPRequest;return a&&a!==o&&(_(e,null,n,o,null,null,u,c,null,null,null,h,null,null),v.actualurl=a),v.tcpid=t,v.type=n,v.url=o,v.range=u,v.trequest=c,v.tresponse=d,v.responsecode=p,v._tfinish=f,v._stream=e,v._mediaduration=h,v._responseHeaders=g,v._serviceLocation=l,y?y.forEach(function(e){m(v,e.s,e.d,e.b)}):(delete v.interval,delete v.trace),r(e).HttpList.push(v),i(e,b.metricsList.HTTP_REQUEST,v),v}var E=this.context,T=(0,g.default)(E).getInstance(),M=void 0,b=void 0,I=void 0;return M={metricsChanged:e,metricChanged:t,metricUpdated:n,metricAdded:i,clearCurrentMetricsForType:function(e){delete I[e],t(e)},clearAllCurrentMetrics:function(){I={},e()},getReadOnlyMetricsFor:function(e){return I.hasOwnProperty(e)?I[e]:null},getMetricsFor:r,addTcpConnection:function(e,t,n,o,s,l){var u=new a.default;return u.tcpid=t,u.dest=n,u.topen=o,u.tclose=s,u.tconnect=l,r(e).TcpList.push(u),i(e,b.metricsList.TCP_CONNECTION,u),u},addHttpRequest:_,addRepresentationSwitch:function(e,t,n,o,a){var s=new l.default;return s.t=t,s.mt=n,s.to=o,a?s.lto=a:delete s.lto,r(e).RepSwitchList.push(s),i(e,b.metricsList.TRACK_SWITCH,s),s},addBufferLevel:function(e,t,n){var o=new u.default;return o.t=t,o.level=n,r(e).BufferLevel.push(o),i(e,b.metricsList.BUFFER_LEVEL,o),o},addBufferState:function(e,t,n){var o=new c.default;return o.target=n,o.state=t,r(e).BufferState.push(o),i(e,b.metricsList.BUFFER_STATE,o),o},addDVRInfo:function(e,t,n,o){var a=new d.default;return a.time=t,a.range=o,a.manifestInfo=n,r(e).DVRInfo.push(a),i(e,b.metricsList.DVR_INFO,a),a},addDroppedFrames:function(e,t){var n=new f.default,o=r(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,o.length>0&&o[o.length-1]==n?o[o.length-1]:(o.push(n),i(e,b.metricsList.DROPPED_FRAMES,n),n)},addSchedulingInfo:function(e,t,n,o,a,s,l,u,c){var d=new h.default;return d.mediaType=e,d.t=t,d.type=n,d.startTime=o,d.availabilityStartTime=a,d.duration=s,d.quality=l,d.range=u,d.state=c,r(e).SchedulingInfo.push(d),i(e,b.metricsList.SCHEDULING_INFO,d),d},addRequestsQueue:function(e,t,n){var o=new y.default;o.loadingRequests=t,o.executedRequests=n,r(e).RequestsQueue=o,i(e,b.metricsList.REQUESTS_QUEUE,o)},addManifestUpdate:function(e,t,n,o,a,s,l,u,c,d){var f=new p.ManifestUpdate,h=r("stream");return f.mediaType=e,f.type=t,f.requestTime=n,f.fetchTime=o,f.availabilityStartTime=a,f.presentationStartTime=s,f.clientTimeOffset=l,f.currentTime=u,f.buffered=c,f.latency=d,h.ManifestUpdate.push(f),i(e,b.metricsList.MANIFEST_UPDATE,f),f},updateManifestUpdateInfo:function(e,t){if(e){for(var i in t)e[i]=t[i];n(e.mediaType,b.metricsList.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,i,r,o){if(e){var a=new p.ManifestUpdateStreamInfo;return a.id=t,a.index=i,a.start=r,a.duration=o,e.streamInfo.push(a),n(e.mediaType,b.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),a}return null},addManifestUpdateRepresentationInfo:function(e,t,i,r,o,a,s,l){if(e){var u=new p.ManifestUpdateTrackInfo;return u.id=t,u.index=i,u.streamIndex=r,u.mediaType=o,u.startNumber=s,u.fragmentInfoType=l,u.presentationTimeOffset=a,e.trackInfo.push(u),n(e.mediaType,b.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),u}return null},addPlayList:function(e){return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,r("stream").PlayList.push(e),i("stream",b.metricsList.PLAY_LIST,e),e},addDVBErrors:function(e){return r("stream").DVBErrors.push(e),i("stream",b.metricsList.DVB_ERRORS,e),e},updateBolaState:function(e,t){var n=new A.default;return n._s=t,r(e).BolaState=[n],i(e,"BolaState",n),n},setConfig:function(e){e&&e.adapter&&(b=e.adapter)}},I={},M}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(169)),a=i(e(186)),s=e(180),l=i(e(183)),u=i(e(176)),c=i(e(177)),d=i(e(178)),f=i(e(179)),p=e(181),h=i(e(185)),g=i(e(9)),y=i(e(184)),v=i(e(13)),m=i(e(10)),A=i(e(175));r.__dashjs_factory_name="MetricsModel",n.default=m.default.getSingletonFactory(r),t.exports=n.default},{10:10,13:13,169:169,175:175,176:176,177:177,178:178,179:179,180:180,181:181,183:183,184:184,185:185,186:186,9:9}],104:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=void 0,t=void 0,n=void 0;return{initialize:function(){e=new o.default,t=[],n=!1},parseURI:function(i){function r(e,t,n,i){var r=i[0].split(/[=]/);return i.push({key:r[0],value:r[1]}),i.shift(),i}if(!i)return null;var o=[],a=new RegExp(/[?]/),s=new RegExp(/[#]/),l=new RegExp(/^(https:)?\/\//i),u=a.test(i),c=s.test(i);return n=l.test(i),i.split(/[?#]/).map(function(e,n,i){return n>0&&(u&&0===t.length?t=i[n].split(/[&]/):c&&(o=i[n].split(/[&]/))),i}),t.length>0&&(t=t.reduce(r,null)),o.length>0&&(o=o.reduce(r,null)).forEach(function(t){e[t.key]=t.value}),i},getURIFragmentData:function(){return e},getURIQueryData:function(){return t},isManifestHTTPS:function(){return n}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(174)),a=i(e(10));r.__dashjs_factory_name="URIQueryAndFragmentModel",n.default=a.default.getSingletonFactory(r),t.exports=n.default},{10:10,174:174}],105:[function(e,t,n){function i(){function e(e){!o||o.readyState<2||(o.playbackRate=e)}function t(){return l.length>0}function n(t){var n=void 0;null===t||o.seeking||-1!==l.indexOf(t)||(l.push(t),1===l.length&&((n=document.createEvent("Event")).initEvent("waiting",!0,!1),u=o.playbackRate,e(0),o.dispatchEvent(n)))}function i(n){var i=l.indexOf(n),r=void 0;null!==n&&(-1!==i&&l.splice(i,1),!1===t()&&0===o.playbackRate&&((r=document.createEvent("Event")).initEvent("playing",!0,!1),e(u||1),o.dispatchEvent(r)))}function r(e,t){t?n(e):i(e)}var o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;return{initialize:function(){l=[]},setCurrentTime:function(e){if(o.currentTime!=e)try{o.currentTime=e}catch(t){0===o.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){o.currentTime=e},400)}},setStallState:function(e,t){r(e,t)},getElement:function(){return o},setElement:function(e){o=e},setSource:function(e){e?o.src=e:(o.removeAttribute("src"),o.load())},getSource:function(){return o.src},getVideoContainer:function(){return s},setVideoContainer:function(e){s=e},getTTMLRenderingDiv:function(){return a},setTTMLRenderingDiv:function(e){(a=e).style.position="absolute",a.style.display="flex",a.style.overflow="hidden",a.style.pointerEvents="none",a.style.top=0,a.style.left=0},getPlaybackQuality:function(){var e="webkitDroppedFrameCount"in o,t=null;return"getVideoPlaybackQuality"in o?t=o.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:o.webkitDroppedFrameCount,creationTime:new Date}),t}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="VideoModel",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],106:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e(1)),a=function(){function e(){i(this,e)}return r(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var i=e[n];"urn:mpeg:dash:mp4protection:2011"===i.schemeIdUri.toLowerCase()&&"cenc"===i.value.toLowerCase()&&(t=i)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),i=n.getUint8(t);return t+=20,i>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var i=e.parsePSSHList(n);return i.hasOwnProperty(t.uuid.toLowerCase())?i[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?o.default.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n={},i=0;;){var r,o,a,s,l=i;if(i>=t.buffer.byteLength)break;if(r=t.getUint32(i),o=i+r,i+=4,1886614376===t.getUint32(i))if(i+=4,0===(a=t.getUint8(i))||1===a){i++,i+=3,s="";var u,c;for(u=0;u<4;u++)s+=1===(c=t.getUint8(i+u).toString(16)).length?"0"+c:c;for(i+=4,s+="-",u=0;u<2;u++)s+=1===(c=t.getUint8(i+u).toString(16)).length?"0"+c:c;for(i+=2,s+="-",u=0;u<2;u++)s+=1===(c=t.getUint8(i+u).toString(16)).length?"0"+c:c;for(i+=2,s+="-",u=0;u<2;u++)s+=1===(c=t.getUint8(i+u).toString(16)).length?"0"+c:c;for(i+=2,s+="-",u=0;u<6;u++)s+=1===(c=t.getUint8(i+u).toString(16)).length?"0"+c:c;i+=6,s=s.toLowerCase(),t.getUint32(i),i+=4,n[s]=t.buffer.slice(l,o),i=o}else i=o;else i=o}return n}}]),e}();n.default=a,t.exports=n.default},{1:1}],107:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){var i=e.log,r=e.eventBus,o=e.videoModel.getElement();return void 0!==o.onencrypted&&void 0!==o.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(i("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,l.default)(n).create({log:i,eventBus:r})):t(o,p)?(i("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,u.default)(n).create({log:i,eventBus:r,api:t(o,p)})):t(o,f)?(i("EME detected on this user agent! (ProtectionModel_01b)"),(0,c.default)(n).create({log:i,eventBus:r,api:t(o,f)})):(i("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("function"==typeof e[i[Object.keys(i)[0]]])return i}return null}var n=this.context;return{createProtectionSystem:function(t){var i=null,r=(0,a.default)(n).getInstance();r.setConfig({log:t.log}),r.initialize();var s=e(t);return!i&&s&&(i=(0,o.default)(n).create({protectionModel:s,protectionKeyController:r,adapter:t.adapter,eventBus:t.eventBus,log:t.log}),t.capabilities.setEncryptedMediaSupported(!0)),i}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(109)),a=i(e(110)),s=i(e(108)),l=i(e(115)),u=i(e(116)),c=i(e(114)),d=i(e(10)),f=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],p=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];r.__dashjs_factory_name="Protection";var h=d.default.getClassFactory(r);h.events=s.default,n.default=h,t.exports=n.default},{10:10,108:108,109:109,110:110,114:114,115:115,116:116}],108:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=new(function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(14)).default));n.default=a,t.exports=n.default},{14:14}],109:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=o.default.getPSSHForKeySystem(C,e);if(t){for(var n=h.getAllInitData(),i=0;i<n.length;i++)if(p.initDataEquals(t,n[i]))return void v("DRM: Ignoring initData because we have already seen it!");try{h.createKeySession(t,b)}catch(e){y.trigger(a.default.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else y.trigger(a.default.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+C.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function n(e){e?(h.setMediaElement(e),y.on(a.default.NEED_KEY,f,this),y.on(a.default.INTERNAL_KEY_MESSAGE,d,this)):null===e&&(h.setMediaElement(e),y.off(a.default.NEED_KEY,f,this),y.off(a.default.INTERNAL_KEY_MESSAGE,d,this))}function i(e){var t=null,n=e.systemString;return T&&(t=n in T?T[n]:null),t}function r(e,n){var i=this,r=[],o=[];E&&o.push(new s.default(E.codec,I)),_&&r.push(new s.default(_.codec,I));var u,c=new l.default(r,o,"optional","temporary"===b?"optional":"required",[b]),d=[];if(C)for(u=0;u<e.length&&(C!==e[u].ks||"break"!==function(){d.push({ks:e[u].ks,configs:[c]});return y.on(a.default.KEY_SYSTEM_ACCESS_COMPLETE,function r(o){y.off(a.default.KEY_SYSTEM_ACCESS_COMPLETE,r,i),o.error?n||y.trigger(a.default.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+o.error}):(v("DRM: KeySystem Access Granted"),y.trigger(a.default.KEY_SYSTEM_SELECTED,{data:o.data}),t(e[u].initData))},i),h.requestKeySystemAccess(d),"break"}());u++);else if(void 0===C){C=null,A.push(e);for(var f=0;f<e.length;f++)d.push({ks:e[f].ks,configs:[c]});var p,g=function e(t){y.off(a.default.KEY_SYSTEM_ACCESS_COMPLETE,e,i),t.error?(C=void 0,y.off(a.default.INTERNAL_KEY_SYSTEM_SELECTED,m,i),n||y.trigger(a.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+t.error})):(p=t.data,v("DRM: KeySystem Access Granted ("+p.keySystem.systemString+")!  Selecting key system..."),h.selectKeySystem(p))},m=function e(r){if(y.off(a.default.INTERNAL_KEY_SYSTEM_SELECTED,e,i),y.off(a.default.KEY_SYSTEM_ACCESS_COMPLETE,g,i),r.error)C=void 0,n||y.trigger(a.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+r.error});else{C=h.getKeySystem(),y.trigger(a.default.KEY_SYSTEM_SELECTED,{data:p});for(var o=0;o<A.length;o++)for(u=0;u<A[o].length;u++)if(C===A[o][u].ks){t(A[o][u].initData);break}}};y.on(a.default.INTERNAL_KEY_SYSTEM_SELECTED,m,i),y.on(a.default.KEY_SYSTEM_ACCESS_COMPLETE,g,i),h.requestKeySystemAccess(d)}else A.push(e)}function u(e,t){y.trigger(a.default.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function d(e){if(v("DRM: onKeyMessage"),e.error)v(e.error);else{var t=e.data;y.trigger(a.default.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,s=t.sessionToken,l=i(C),c=C.systemString,d=p.getLicenseServer(C,l,n),f={sessionToken:s,messageType:n};if(!d)return v("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+s.getSessionID()),void u(f);if(p.isClearKey(C)){var g=p.processClearKeyLicenseRequest(l,r);if(g)return v("DRM: ClearKey license request handled by application!"),u(f),void h.updateKeySession(s,g)}var m=new XMLHttpRequest,A=null;if(l)if(l.serverURL){var _=l.serverURL;"string"==typeof _&&""!==_?A=_:"object"==typeof _&&_.hasOwnProperty(n)&&(A=_[n])}else l.laURL&&""!==l.laURL&&(A=l.laURL);else(A=C.getLicenseServerURLFromInitData(o.default.getPSSHData(s.initData)))||(A=e.data.laURL);if(A=d.getServerURLFromMessage(A,r,n)){m.open(d.getHTTPMethod(n),A,!0),m.responseType=d.getResponseType(c,n),m.onload=function(){200==this.status?(u(f),h.updateKeySession(s,d.getLicenseMessage(this.response,c,n))):u(f,"DRM: "+c+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?d.getErrorResponse(this.response,c,n):"NONE"))},m.onabort=function(){u(f,"DRM: "+c+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},m.onerror=function(){u(f,"DRM: "+c+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var E=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(m.withCredentials=!0),m.setRequestHeader(t,e[t])};l&&E(l.httpRequestHeaders),E(C.getRequestHeadersFromMessage(r)),l&&l.withCredentials&&(m.withCredentials=!0),m.send(C.getLicenseRequestFromMessage(r))}else u(f,"DRM: No license server URL specified!")}}function f(e){if(v("DRM: onNeedKey"),"cenc"===e.key.initDataType){var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),v("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=p.getSupportedKeySystems(t,T);0!==n.length?r(n,!1):v("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else v("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}var p=e.protectionKeyController,h=e.protectionModel,g=e.adapter,y=e.eventBus,v=e.log,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0,b=void 0,I=void 0,C=void 0;return m={initialize:function(e,t,n){if(!M){var i;t||n||(i=g.getStreamsInfo(e)[0]),_=t||(i?g.getMediaInfoForType(e,i,"audio"):null);var o=(E=n||(i?g.getMediaInfoForType(e,i,"video"):null))||_,a=p.getSupportedKeySystemsFromContentProtection(o.contentProtection);a&&a.length>0&&r(a,!0),M=!0}},createKeySession:t,loadKeySession:function(e){h.loadKeySession(e)},removeKeySession:function(e){h.removeKeySession(e)},closeKeySession:function(e){h.closeKeySession(e)},setServerCertificate:function(e){h.setServerCertificate(e)},setMediaElement:n,setSessionType:function(e){b=e},setRobustnessLevel:function(e){I=e},setProtectionData:function(e){T=e},reset:function(){n(null),C=void 0,h&&(h.reset(),h=null)}},p.getKeySystems(),A=[],M=!1,b="temporary",I="",a.default.extend(c.default.events),m}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(106)),a=i(e(13)),s=i(e(127)),l=i(e(126)),u=i(e(10)),c=i(e(107));r.__dashjs_factory_name="ProtectionController",n.default=u.default.getClassFactory(r),t.exports=n.default},{10:10,106:106,107:107,126:126,127:127,13:13}],110:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=void 0,n=void 0,i=void 0;return{initialize:function(){n=[];var t;t=(0,l.default)(e).getInstance(),n.push(t),t=(0,s.default)(e).getInstance(),n.push(t),t=(0,a.default)(e).getInstance(),n.push(t),i=t},isClearKey:function(e){return e===i},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),i=new Uint8Array(t),r=0;r<n.length;r++)if(n[r]!==i[r])return!1;return!0}return!1},getKeySystems:function(){return n},getKeySystemBySystemString:function(e){for(var t=0;t<n.length;t++)if(n[t].systemString===e)return n[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t,i,r,o,a=[];if(e)for(r=0;r<n.length;++r)for(i=n[r],o=0;o<e.length;++o)if((t=e[o]).schemeIdUri.toLowerCase()===i.schemeIdURI){var s=i.getInitData(t);s&&a.push({ks:n[r],initData:s})}return a},getSupportedKeySystems:function(e,t){var i,r=[],a=o.default.parsePSSHList(e);for(i=0;i<n.length;++i){var s=n[i].systemString,l=!t||s in t;n[i].uuid in a&&l&&r.push({ks:n[i],initData:a[n[i].uuid]})}return r},getLicenseServer:function(t,n,i){if("license-release"===i||"individualization-request"===i)return null;var r=null;return n&&n.hasOwnProperty("drmtoday")?r=(0,u.default)(e).getInstance():"com.widevine.alpha"===t.systemString?r=(0,d.default)(e).getInstance():"com.microsoft.playready"===t.systemString?r=(0,c.default)(e).getInstance():"org.w3.clearkey"===t.systemString&&(r=(0,f.default)(e).getInstance()),r},processClearKeyLicenseRequest:function(e,n){try{return i.getClearKeysFromProtectionData(e,n)}catch(e){return t("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&e.log&&(t=e.log)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(106)),a=i(e(111)),s=i(e(113)),l=i(e(112)),u=i(e(118)),c=i(e(119)),d=i(e(120)),f=i(e(117)),p=i(e(10));r.__dashjs_factory_name="ProtectionKeyController",n.default=p.default.getSingletonFactory(r),t.exports=n.default},{10:10,106:106,111:111,112:112,113:113,117:117,118:118,119:119,120:120}],111:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){return{uuid:u,schemeIdURI:d,systemString:c,getInitData:function(e){return s.default.parseInitDataFromContentProtection(e)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),r=[],s=0;s<i.kids.length;s++){var l=i.kids[s],u=e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!u)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");r.push(new o.default(l,u))}n=new a.default(r)}return n}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(124)),a=i(e(121)),s=i(e(106)),l=i(e(10)),u="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",c="org.w3.clearkey",d="urn:uuid:"+u;r.__dashjs_factory_name="KeySystemClearKey",n.default=l.default.getSingletonFactory(r),t.exports=n.default},{10:10,106:106,121:121,124:124}],112:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e="utf16";return{uuid:u,schemeIdURI:d,systemString:c,getInitData:function(e){var t,n,i,r,a,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),c=0,d=null;if("pssh"in e)return o.default.parseInitDataFromContentProtection(e);if("pro"in e)d=l.default.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;d=l.default.decodeArray(e.prheader.__text)}return t=d.length,n=4+s.length+u.length+4+t,i=new ArrayBuffer(n),r=new Uint8Array(i),(a=new DataView(i)).setUint32(c,n),c+=4,r.set(s,c),c+=s.length,r.set(u,c),c+=u.length,a.setUint32(c,t),c+=4,r.set(d,c),c+=t,r.buffer},getRequestHeadersFromMessage:function(t){var n,i,r={},o=new DOMParser,a="utf16"===e?new Uint16Array(t):new Uint8Array(t);n=String.fromCharCode.apply(null,a);for(var s=(i=o.parseFromString(n,"application/xml")).getElementsByTagName("name"),l=i.getElementsByTagName("value"),u=0;u<s.length;u++)r[s[u].childNodes[0].nodeValue]=l[u].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r},getLicenseRequestFromMessage:function(t){var n,i,r=null,o=new DOMParser,a="utf16"===e?new Uint16Array(t):new Uint8Array(t);if(n=String.fromCharCode.apply(null,a),(i=o.parseFromString(n,"application/xml")).getElementsByTagName("Challenge")[0]){var s=i.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;s&&(r=l.default.decode(s))}return r},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),i=6,r=new DOMParser,o=0;o<n;o++){var a=t.getUint16(i,!0);i+=2;var s=t.getUint16(i,!0);if(i+=2,1===a){var l=e.slice(i,i+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),c=r.parseFromString(u,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var d=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(c.getElementsByTagName("LUI_URL")[0]){var f=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(f)return f}}else i+=s}return null},setPlayReadyMessageFormat:function(t){if("utf8"!==t&&"utf16"!==t)throw new a.default("Illegal PlayReady message format! -- "+t);e=t}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(106)),a=i(e(163)),s=i(e(10)),l=i(e(1)),u="9a04f079-9840-4286-ab92-e65be0885f95",c="com.microsoft.playready",d="urn:uuid:"+u;r.__dashjs_factory_name="KeySystemPlayReady",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{1:1,10:10,106:106,163:163}],113:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){return{uuid:s,schemeIdURI:u,systemString:l,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(106)),a=i(e(10)),s="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",l="com.widevine.alpha",u="urn:uuid:"+s;r.__dashjs_factory_name="KeySystemWidevine",n.default=a.default.getSingletonFactory(r),t.exports=n.default},{10:10,106:106}],114:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){m[y.cancelKeyRequest](A.systemString,e.sessionID)}function n(){return{handleEvent:function(e){var t=null;switch(e.type){case y.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;h.trigger(d.default.NEED_KEY,{key:new a.default(n,"cenc")});break;case y.keyerror:if((t=i(M,e.sessionId))||(t=i(T,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,h.trigger(d.default.KEY_ERROR,{data:new s.default(t,r)})}else g("No session token found for key error");break;case y.keyadded:(t=i(M,e.sessionId))||(t=i(T,e.sessionId)),t?(g("DRM: Key added."),h.trigger(d.default.KEY_ADDED,{data:t})):g("No session token found for key added");break;case y.keymessage:if(b=null!==e.sessionId&&void 0!==e.sessionId,b?!(t=i(M,e.sessionId))&&T.length>0&&(t=T.shift(),M.push(t),t.sessionID=e.sessionId):T.length>0&&(t=T.shift(),M.push(t),0!==T.length&&E.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var o=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=o,h.trigger(d.default.INTERNAL_KEY_MESSAGE,{data:new l.default(t,o,e.defaultURL)})}else g("No session token found for key message")}}}}function i(e,t){if(t&&e){for(var n=e.length,i=0;i<n;i++)if(e[i].sessionID==t)return e[i];return null}return null}function r(){m.removeEventListener(y.keyerror,I),m.removeEventListener(y.needkey,I),m.removeEventListener(y.keymessage,I),m.removeEventListener(y.keyadded,I)}var p=this.context,h=e.eventBus,g=e.log,y=e.api,v=void 0,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0,b=void 0,I=void 0;return v={getAllInitData:function(){for(var e=[],t=0;t<T.length;t++)e.push(T[t].initData);for(t=0;t<M.length;t++)e.push(M[t].initData);return e},requestKeySystemAccess:function(e){var t=m;t||(t=document.createElement("video"));for(var n=!1,i=0;i<e.length;i++)for(var r=e[i].ks.systemString,o=e[i].configs,a=null,s=0;s<o.length;s++){var l=o[s].videoCapabilities;if(l&&0!==l.length){a=[];for(var f=0;f<l.length;f++)""!==t.canPlayType(l[f].contentType,r)&&a.push(l[f])}if(a&&(!a||0!==a.length)){n=!0;var p=new u.default(null,a),g=_.getKeySystemBySystemString(r);h.trigger(d.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new c.default(g,p)});break}}n||h.trigger(d.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return A},selectKeySystem:function(e){A=e.keySystem,h.trigger(d.default.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){m!==e&&(m&&r(),(m=e)&&(m.addEventListener(y.keyerror,I),m.addEventListener(y.needkey,I),m.addEventListener(y.keymessage,I),m.addEventListener(y.keyadded,I),h.trigger(d.default.VIDEO_ELEMENT_SELECTED)))},createKeySession:function(e){if(!A)throw new Error("Can not create sessions until you have selected a key system");if(b||0===M.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return T.push(t),m[y.generateKeyRequest](A.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(_.isClearKey(A))for(var i=0;i<t.keyPairs.length;i++)m[y.addKey](A.systemString,t.keyPairs[i].key,t.keyPairs[i].keyID,n);else m[y.addKey](A.systemString,new Uint8Array(t),e.initData,n)},closeKeySession:t,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){m&&r();for(var e=0;e<M.length;e++)t(M[e]);h.trigger(d.default.TEARDOWN_COMPLETE)}},m=null,A=null,T=[],M=[],_=(0,o.default)(p).getInstance(),E=(0,f.default)(p).getInstance(),I=n(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(110)),a=i(e(128)),s=i(e(122)),l=i(e(123)),u=i(e(126)),c=i(e(125)),d=i(e(13)),f=i(e(152)),p=i(e(10));r.__dashjs_factory_name="ProtectionModel_01b",n.default=p.default.getClassFactory(r),t.exports=n.default},{10:10,110:110,122:122,123:123,125:125,126:126,128:128,13:13,152:152}],115:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,n){!function(n){var i=e[n].ks,r=e[n].configs;navigator.requestMediaKeySystemAccess(i.systemString,r).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new u.default(i,t);n.mksa=e,_.trigger(c.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:n})}).catch(function(){++n<e.length?t(e,n):_.trigger(c.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(n)}function n(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function i(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;_.trigger(c.default.NEED_KEY,{key:new a.default(t,e.initDataType)})}}}}}function r(e){for(var t=0;t<y.length;t++)if(y[t]===e){y.splice(t,1);break}}function d(e,t,n){var i={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":_.trigger(c.default.KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;_.trigger(c.default.INTERNAL_KEY_MESSAGE,{data:new l.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",i),e.addEventListener("message",i),e.closed.then(function(){r(i),E("DRM: Session closed.  SessionID = "+i.getSessionID()),_.trigger(c.default.KEY_SESSION_CLOSED,{data:i.getSessionID()})}),y.push(i),i}var f,p,h,g,y,v,m,A=this.context,_=e.eventBus,E=e.log;return f={getAllInitData:function(){for(var e=[],t=0;t<y.length;t++)e.push(y[t].initData);return e},requestKeySystemAccess:function(e){t(e,0)},getKeySystem:function(){return p},selectKeySystem:function(e){e.mksa.createMediaKeys().then(function(t){p=e.keySystem,g=t,h&&h.setMediaKeys(g),_.trigger(c.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){_.trigger(c.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function(e){h!==e&&(h&&(h.removeEventListener("encrypted",v),h.setMediaKeys(null)),(h=e)&&(h.addEventListener("encrypted",v),g&&h.setMediaKeys(g)))},setServerCertificate:function(e){if(!p||!g)throw new Error("Can not set server certificate until you have selected a key system");g.setServerCertificate(e).then(function(){E("DRM: License server certificate successfully updated."),_.trigger(c.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){_.trigger(c.default.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})},createKeySession:function(e,t){if(!p||!g)throw new Error("Can not create sessions until you have selected a key system");var n=g.createSession(t),i=d(n,e,t);n.generateRequest("cenc",e).then(function(){E("DRM: Session created.  SessionID = "+i.getSessionID()),_.trigger(c.default.KEY_SESSION_CREATED,{data:i})}).catch(function(e){r(i),_.trigger(c.default.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})},updateKeySession:function(e,t){var n=e.session;m.isClearKey(p)&&(t=t.toJWK()),n.update(t).catch(function(t){_.trigger(c.default.KEY_ERROR,{data:new s.default(e,"Error sending update() message! "+t.name)})})},loadKeySession:function(e){if(!p||!g)throw new Error("Can not load sessions until you have selected a key system");var t=g.createSession();t.load(e).then(function(n){if(n){var i=d(t);E("DRM: Session created.  SessionID = "+i.getSessionID()),_.trigger(c.default.KEY_SESSION_CREATED,{data:i})}else _.trigger(c.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})}).catch(function(t){_.trigger(c.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})},removeKeySession:function(e){e.session.remove().then(function(){E("DRM: Session removed.  SessionID = "+e.getSessionID()),_.trigger(c.default.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){_.trigger(c.default.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})},closeKeySession:function(e){n(e).catch(function(t){r(e),_.trigger(c.default.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})},reset:function(){var e,t=y.length;if(0!==t)for(var i=function(e){r(e),0===y.length&&(h?(h.removeEventListener("encrypted",v),h.setMediaKeys(null).then(function(){_.trigger(c.default.TEARDOWN_COMPLETE)})):_.trigger(c.default.TEARDOWN_COMPLETE))},o=0;o<t;o++)!function(t){e.session.closed.then(function(){i(t)}),n(e).catch(function(){i(t)})}(e=y[o]);else _.trigger(c.default.TEARDOWN_COMPLETE)}},p=null,h=null,g=null,y=[],m=(0,o.default)(A).getInstance(),v=i(),f}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(110)),a=i(e(128)),s=i(e(122)),l=i(e(123)),u=i(e(125)),c=i(e(13)),d=i(e(10));r.__dashjs_factory_name="ProtectionModel_21Jan2015",n.default=d.default.getClassFactory(r),t.exports=n.default},{10:10,110:110,122:122,123:123,125:125,128:128,13:13}],116:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=e.session;t.removeEventListener(g.error,e),t.removeEventListener(g.message,e),t.removeEventListener(g.ready,e),t.removeEventListener(g.close,e);for(var n=0;n<E.length;n++)if(E[n]===e){E.splice(n,1);break}t[g.release]()}function n(){return{handleEvent:function(e){switch(e.type){case g.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;p.trigger(d.default.NEED_KEY,{key:new a.default(t,"cenc")})}}}}}function i(){var e=null,t=function(){v.removeEventListener("loadedmetadata",e),v[g.setMediaKeys](A),p.trigger(d.default.VIDEO_ELEMENT_SELECTED)};v.readyState>=1?t():(e=t.bind(this),v.addEventListener("loadedmetadata",e))}function r(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case g.error:p.trigger(d.default.KEY_ERROR,{data:new s.default(this,"KeyError")});break;case g.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;p.trigger(d.default.INTERNAL_KEY_MESSAGE,{data:new l.default(this,t,e.destinationURL)});break;case g.ready:h("DRM: Key added."),p.trigger(d.default.KEY_ADDED);break;case g.close:h("DRM: Session closed.  SessionID = "+this.getSessionID()),p.trigger(d.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var f=this.context,p=e.eventBus,h=e.log,g=e.api,y=void 0,v=void 0,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0;return y={getAllInitData:function(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,r=e[n].configs,o=null,a=null,s=0;s<r.length;s++){var l=r[s].audioCapabilities,f=r[s].videoCapabilities;if(l&&0!==l.length){o=[];for(var h=0;h<l.length;h++)window[g.MediaKeys].isTypeSupported(i,l[h].contentType)&&o.push(l[h])}if(f&&0!==f.length){a=[];for(var y=0;y<f.length;y++)window[g.MediaKeys].isTypeSupported(i,f[y].contentType)&&a.push(f[y])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var v=new u.default(o,a),m=M.getKeySystemBySystemString(i);p.trigger(d.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new c.default(m,v)});break}}t||p.trigger(d.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return m},selectKeySystem:function(e){try{A=e.mediaKeys=new window[g.MediaKeys](e.keySystem.systemString),m=e.keySystem,_=e,v&&i(),p.trigger(d.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){p.trigger(d.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+m.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){v!==e&&(v&&v.removeEventListener(g.needkey,T),(v=e)&&(v.addEventListener(g.needkey,T),A&&i()))},createKeySession:function(e){if(!m||!A||!_)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==_.ksConfiguration.videoCapabilities&&_.ksConfiguration.videoCapabilities.length>0&&(t=_.ksConfiguration.videoCapabilities[0]),null===t&&null!==_.ksConfiguration.audioCapabilities&&_.ksConfiguration.audioCapabilities.length>0&&(t=_.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,i=A.createSession(n,new Uint8Array(e)),o=r(i,e);i.addEventListener(g.error,o),i.addEventListener(g.message,o),i.addEventListener(g.ready,o),i.addEventListener(g.close,o),E.push(o),h("DRM: Session created.  SessionID = "+o.getSessionID()),p.trigger(d.default.KEY_SESSION_CREATED,{data:o})},updateKeySession:function(e,t){var n=e.session;M.isClearKey(m)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))},closeKeySession:t,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){try{for(var e=0;e<E.length;e++)t(E[e]);v&&v.removeEventListener(g.needkey,T),p.trigger(d.default.TEARDOWN_COMPLETE)}catch(e){p.trigger(d.default.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}},v=null,m=null,A=null,_=null,E=[],M=(0,o.default)(f).getInstance(),T=n(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(110)),a=i(e(128)),s=i(e(122)),l=i(e(123)),u=i(e(126)),c=i(e(125)),d=i(e(13)),f=i(e(10));r.__dashjs_factory_name="ProtectionModel_3Feb2014",n.default=f.default.getClassFactory(r),t.exports=n.default},{10:10,110:110,122:122,123:123,125:125,126:126,128:128,13:13}],117:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var i=0;i<n.kids.length;i++)e+=n.kids[i]+"&";return e=e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var i=e.keys[n],r=i.kid.replace(/=/g,""),s=i.k.replace(/=/g,"");t.push(new o.default(r,s))}return new a.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(124)),a=i(e(121)),s=i(e(10));r.__dashjs_factory_name="ClearKey",n.default=s.default.getSingletonFactory(r),t.exports=n.default},{10:10,121:121,124:124}],118:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return a.default.decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(t){return e[t].responseType},getLicenseMessage:function(t,n){return e[n].getLicenseMessage(t)},getErrorResponse:function(t,n){return e[n].getErrorResponse(t)}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(1));r.__dashjs_factory_name="DRMToday",n.default=o.default.getSingletonFactory(r),t.exports=n.default},{1:1,10:10}],119:[function(e,t,n){function i(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="PlayReady",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],120:[function(e,t,n){function i(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="Widevine",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],121:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){if(i(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return r(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var i={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(i)}this.type&&(n.type=this.type);var r=JSON.stringify(n),o=r.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=r.charCodeAt(e);return a}}]),e}();n.default=o,t.exports=n.default},{}],122:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n){i(this,e),this.sessionToken=t,this.error=n},t.exports=n.default},{}],123:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n,r,o){i(this,e),this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=o||"license-request"},t.exports=n.default},{}],124:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n){i(this,e),this.keyID=t,this.key=n},t.exports=n.default},{}],125:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n){i(this,e),this.keySystem=t,this.ksConfiguration=n},t.exports=n.default},{}],126:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n,r,o,a){i(this,e),this.initDataTypes=["cenc"],this.audioCapabilities=t,this.videoCapabilities=n,this.distinctiveIdentifier=r,this.persistentState=o,this.sessionTypes=a},t.exports=n.default},{}],127:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n){i(this,e),this.contentType=t,this.robustness=n},t.exports=n.default},{}],128:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n){i(this,e),this.initData=t,this.initDataType=n},t.exports=n.default},{}],129:[function(e,t,n){function i(e){var t=e.streamProcessor.getCurrentRepresentationInfo(),n=e.streamProcessor,i=e.currentValue;return{getStreamInfo:function(){return t.mediaInfo.streamInfo},getMediaInfo:function(){return t.mediaInfo},getTrackInfo:function(){return t},getCurrentValue:function(){return i},getManifestInfo:function(){return t.mediaInfo.streamInfo.manifestInfo},getStreamProcessor:function(){return n}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="RulesContext",n.default=r.default.getClassFactory(i),t.exports=n.default},{10:10}],130:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e,n){return(0,o.default)(t).create({streamProcessor:e,currentValue:n})}var t=this.context,n=void 0;return{initialize:function(){n={}},setConfig:function(e){e&&(e.abrRulesCollection&&(n[c]=e.abrRulesCollection),e.synchronizationRulesCollection&&(n[d]=e.synchronizationRulesCollection))},applyRules:function(t,n,i,r,o){var s,l={},u={},c=t.length,d=c,f=e(n,r);for(l[a.default.STRONG]=a.default.NO_CHANGE,l[a.default.WEAK]=a.default.NO_CHANGE,l[a.default.DEFAULT]=a.default.NO_CHANGE,s=0;s<d;s++)t[s].execute(f,function(e){var t,n,s;if(e.value!==a.default.NO_CHANGE){var d=o(l[e.priority],e.value);d!==l[e.priority]&&(l[e.priority]=d,u[e.priority]=e.reason)}--c||(l[a.default.WEAK]!==a.default.NO_CHANGE&&(s=a.default.WEAK,t=l[a.default.WEAK],n=u[a.default.WEAK]),l[a.default.DEFAULT]!==a.default.NO_CHANGE&&(s=a.default.DEFAULT,t=l[a.default.DEFAULT],n=u[a.default.DEFAULT]),l[a.default.STRONG]!==a.default.NO_CHANGE&&(s=a.default.STRONG,t=l[a.default.STRONG],n=u[a.default.STRONG]),s!=a.default.STRONG&&s!=a.default.WEAK&&(s=a.default.DEFAULT),i(void 0!==t?{value:t,confidence:s,reason:n}:{value:r,confidence:s,reason:{name:"NO_CHANGE"}}))})},reset:function(){var e,t,i=n[c],r=n[d],o=(i.getRules(s.default.QUALITY_SWITCH_RULES)||[]).concat(i.getRules(s.default.ABANDON_FRAGMENT_RULES)||[]).concat(r.getRules(l.default.TIME_SYNCHRONIZED_RULES)||[]).concat(r.getRules(l.default.BEST_GUESS_RULES)||[]),a=o.length;for(t=0;t<a;t++)"function"==typeof(e=o[t]).reset&&e.reset();n={}}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(129)),a=i(e(131)),s=i(e(132)),l=i(e(145)),u=i(e(10)),c=0,d=1;r.__dashjs_factory_name="RulesController";var f=u.default.getSingletonFactory(r);f.ABR_RULE=c,f.SYNC_RULE=d,n.default=f,t.exports=n.default},{10:10,129:129,131:131,132:132,145:145}],131:[function(e,t,n){function i(e,t,n){return{value:void 0===e?o:e,priority:void 0===t?a:t,reason:void 0===n?null:n}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),o=999,a=.5;i.__dashjs_factory_name="SwitchRequest";var s=r.default.getClassFactory(i);s.NO_CHANGE=o,s.DEFAULT=a,s.STRONG=1,s.WEAK=0,n.default=s,t.exports=n.default},{10:10}],132:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=void 0,n=void 0;return{initialize:function(){t=[],n=[];var i=(0,f.default)(e).getInstance(),r=(0,p.default)(e).getInstance();(0,d.default)(e).getInstance().getBufferOccupancyABREnabled()?(t.push((0,u.default)(e).create({metricsModel:i,dashMetrics:(0,p.default)(e).getInstance()})),n.push((0,c.default)(e).create({metricsModel:i,dashMetrics:(0,p.default)(e).getInstance()}))):(t.push((0,o.default)(e).create({metricsModel:i,dashMetrics:r})),t.push((0,a.default)(e).create({metricsModel:i,dashMetrics:r})),t.push((0,s.default)(e).create({metricsModel:i})),n.push((0,l.default)(e).create()))},getRules:function(e){switch(e){case g:return t;case y:return n;default:return null}}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(138)),a=i(e(136)),s=i(e(137)),l=i(e(133)),u=i(e(135)),c=i(e(134)),d=i(e(102)),f=i(e(103)),p=i(e(17)),h=i(e(10)),g="qualitySwitchRules",y="abandonFragmentRules";r.__dashjs_factory_name="ABRRulesCollection";var v=h.default.getSingletonFactory(r);v.QUALITY_SWITCH_RULES=g,v.ABANDON_FRAGMENT_RULES=y,n.default=v,t.exports=n.default},{10:10,102:102,103:103,133:133,134:134,135:135,136:136,137:137,138:138,17:17}],133:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){f={},p={},h=[],g=(0,a.default)(c).getInstance()}function t(e,t){f[e]=f[e]||{},f[e][t]=f[e][t]||{}}function n(e,t){h[e]=h[e]||[],h[e].push(t)}var i=1.8,s=500,u=5,c=this.context,d=(0,l.default)(c).getInstance().log,f=void 0,p=void 0,h=void 0,g=void 0,y={execute:function(e,a){var l=e.getMediaInfo(),y=l.type,v=e.getCurrentValue().request,m=(0,o.default)(c).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name});if(!isNaN(v.index)){t(y,v.index);var A=f[y][v.index];if(null===A||null===v.firstByteDate||p.hasOwnProperty(A.id))return void a(m);if(void 0===A.firstByteTime&&(h[y]=[],A.firstByteTime=v.firstByteDate.getTime(),A.segmentDuration=v.duration,A.bytesTotal=v.bytesTotal,A.id=v.index),A.bytesLoaded=v.bytesLoaded,A.elapsedTime=(new Date).getTime()-A.firstByteTime,A.bytesLoaded>0&&A.elapsedTime>0&&n(y,Math.round(8*A.bytesLoaded/A.elapsedTime)),h[y].length>=u&&A.elapsedTime>s&&A.bytesLoaded<A.bytesTotal){var _=h[y].reduce(function(e,t){return e+t},0);if(A.measuredBandwidthInKbps=Math.round(_/h[y].length),A.estimatedTimeOfDownload=(8*A.bytesTotal/A.measuredBandwidthInKbps/1e3).toFixed(2),A.estimatedTimeOfDownload<A.segmentDuration*i||0===e.getTrackInfo().quality)return void a(m);if(!p.hasOwnProperty(A.id)){var E=e.getStreamProcessor().getABRController(),T=A.bytesTotal-A.bytesLoaded,M=E.getBitrateList(l),b=E.getQualityForBitrate(l,A.measuredBandwidthInKbps*g.getBandwidthSafetyFactor());T>A.bytesTotal*M[b].bitrate/M[E.getQualityFor(y,l.streamInfo)].bitrate&&(m.value=b,m.priority=o.default.STRONG,m.reason.throughput=A.measuredBandwidthInKbps,p[A.id]=A,d("AbandonRequestsRule ( ",y,"frag id",A.id,") is asking to abandon and switch to quality to ",b," measured bandwidth was",A.measuredBandwidthInKbps),delete f[y][A.id])}}else A.bytesLoaded===A.bytesTotal&&delete f[y][A.id]}a(m)},reset:function(){e()}};return e(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(102)),s=i(e(10)),l=i(e(8));r.__dashjs_factory_name="AbandonRequestsRule",n.default=s.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,131:131,8:8}],134:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t,n){g[e]={index:t,quality:n}}function n(e,t,n){var i=g[e];return!i||(t!==i.index||n<i.quality)}var i=500,s=200,c=this.context,d=(0,l.default)(c).getInstance().log,f=e.dashMetrics,p=e.metricsModel,h=void 0,g=void 0;return h={execute:function(e,a){var l=e.getMediaInfo().type,h=p.getReadOnlyMetricsFor(l),y=e.getCurrentValue().request,v=(0,o.default)(c).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name});if(0===h.BolaState.length)return d("WARNING: executing BolaAbandonRule before initializing BolaRule"),g[l]=null,void a(v);var m=h.BolaState[0]._s,A=y.index,_=y.quality;if(!isNaN(A)&&0!==_&&n(l,A,_)&&y.firstByteDate){var E=Date.now()-y.firstByteDate.getTime(),T=y.bytesLoaded,M=y.bytesTotal,b=M-T,I=y.duration,C=f.getCurrentBufferLevel(h)?f.getCurrentBufferLevel(h):0,D=C+m.virtualBuffer,S=8*T/(.001*E),w=m.bandwidthSafetyFactor*S,N=.001*(y.firstByteDate.getTime()-y.requestStartDate.getTime());N<.001*s&&(N=.001*s);var O=N+8*M/w,P="";u.default.BOLA_DEBUG&&(P="index="+A+" quality="+_+" bytesLoaded/bytesTotal="+T+"/"+M+" bufferLevel="+C+" timeSince1stByte="+(E/1e3).toFixed(3)+" estThroughput="+(w/1e6).toFixed(3)+" latency="+N.toFixed(3));var x=M*m.bitrates[0]/m.bitrates[_],R=b-N*w/8;if(R<1&&(R=1),E<i||b<=x||C>m.bufferTarget||R<=x||O<=I)a(v);else{var L=D-N;L<0&&(L=0);for(var k=0;k+1<_&&M*m.bitrates[k+1]/m.bitrates[_]<R;)++k;var j=_;if(m.state===u.default.BOLA_STATE_STARTUP)for(j=0,z=0;z<=k&&!(8*(x=M*m.bitrates[z]/m.bitrates[_])/I>w);++z)j=z;else for(var F=(m.Vp*(m.utilities[_]+m.gp)-L)/R,z=0;z<=k;++z){x=M*m.bitrates[z]/m.bitrates[_];var U=(m.Vp*(m.utilities[z]+m.gp)-L)/x;U>F&&(j=z,F=U)}var B=m.rebufferSafetyFactor*S*(C-N)/8;if(j===_&&R>B&&(j=k),j!==_){for(;j>0&&!((x=M*m.bitrates[j]/m.bitrates[_])<=B);)--j;m.lastQuality=j,p.updateBolaState(l,m),u.default.BOLA_DEBUG&&d("BolaDebug "+l+" BolaAbandonRule abandon to "+j+" - "+P),t(l,A,_),v.value=j,v.priority=o.default.STRONG,v.reason.state=m.state,v.reason.throughput=S,v.reason.bufferLevel=C,v.reason.bytesLoaded=y.bytesLoaded,v.reason.bytesTotal=y.bytesTotal,v.reason.elapsedTimeMs=E,a(v)}else a(v)}}else a(v)},reset:function(){g={}}},g={},(0,a.default)(c).getInstance(),h}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(102)),s=i(e(10)),l=i(e(8)),u=i(e(135));r.__dashjs_factory_name="BolaAbandonRule",n.default=s.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,131:131,135:135,8:8}],135:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){j={},F=[],z=(0,s.default)(O).getInstance(),U=(0,l.default)(O).getInstance(),B=(0,c.default)(O).getInstance(),L.on(f.default.BUFFER_EMPTY,C,k),L.on(f.default.PLAYBACK_SEEKING,D,k),L.on(f.default.PERIOD_SWITCH_STARTED,S,k)}function n(e){return e.map(function(e){return Math.log(e)})}function i(e,t,i,r){var o=NaN;if(r?(o=0,r.forEach(function(e,t){e>r[o]&&(o=t)})):(r=n(i),o=r.length-1),0===o)return null;var a=1-r[0]+(r[o]-r[0])/(t/e-1),s=e/(r[0]+a-1);return{utilities:r,gp:a,Vp:s}}function a(e){var t={},n=e.getMediaInfo(),r=e.getStreamProcessor(),o=e.getStreamInfo(),a=e.getTrackInfo(),s=r.isDynamic(),l=o.manifestInfo.duration,u=a.fragmentDuration,c=n.bitrateList.map(function(e){return e.bandwidth}),d=i(m,A,c,null);if(null===d)return t.state=h,t;if(t.state=g,t.bitrates=c,t.utilities=d.utilities,t.Vp=d.Vp,t.gp=d.gp,t.isDynamic=s,t.movieDuration=l,t.fragmentDuration=u,t.bandwidthSafetyFactor=z.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=_,t.bufferTarget=z.getStableBufferTime(),t.lastQuality=0,t.virtualBuffer=0,t.throughputCount=s?w:N,v){for(var f="",p=0;p<c.length;++p){var y=d.utilities[p],E=c[p],T=0;if(p>0){var M=d.utilities[p-1],b=c[p-1];T=d.Vp*((M*E-y*b)/(E-b)+d.gp)}var I=d.Vp*(y+d.gp);f+="\n"+p+":"+(1e-6*c[p]).toFixed(3)+"Mbps "+T.toFixed(3)+"/"+I.toFixed(3)}P("BolaDebug "+n.type+" bitrates"+f)}return t}function E(e,t){for(var n=e.bitrates.length,i=NaN,r=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(r)||a>=r)&&(r=a,i=o)}return i}function T(e,t){for(var n=x.getHttpRequests(e),i=[],r=n.length-1;r>=0&&i.length<t;--r){var o=n[r];o.type===u.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&i.push(o)}return i}function M(e,t,n){var i=T(e,t);if(0===i.length)return 0;for(var r=0,o="",a=0;a<i.length;++a){var s=.001*(i[a]._tfinish.getTime()-i[a].trequest.getTime()),l=8*i[a].trace.reduce(function(e,t){return e+t.b[0]},0);v&&(o+=" "+(1e-6*l).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*l/s).toFixed(3)+"Mbps"),r+=s/l}return v&&P("BolaDebug "+n+" BolaRule recent throughput = "+(i.length/(1e6*r)).toFixed(3)+"Mbps:"+o),i.length/r}function b(e,t){var n=0;return e.bitrates.some(function(e,i){return e>t||(n=i,!1)}),n}function I(e,t){var n=T(e,1);if(0===n.length)return 0;var i=n[0],r=Date.now(),o=i._tfinish.getTime();o>r&&(o=r);var a=j[t];j[t]=r;var s=0;return s=a&&a>o?r-a:r-o,s<=0?0:.001*s}function C(){v&&P("BolaDebug BUFFER_EMPTY"),F.forEach(function(e){var t=R.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===y&&(n.virtualBuffer=0,R.updateBolaState(e,n))}})}function D(e){v&&P("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),F.forEach(function(e){var t=R.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==h&&(n.state=g),R.updateBolaState(e,n)}})}function S(){}var w=2,N=3,O=this.context,P=(0,p.default)(O).getInstance().log,x=e.dashMetrics,R=e.metricsModel,L=(0,d.default)(O).getInstance(),k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0;return k={execute:function(e,t){var n=e.getStreamProcessor();n.getScheduleController().setTimeToLoadDelay(0);var i=(0,o.default)(O).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name}),s=e.getMediaInfo().type,l=R.getReadOnlyMetricsFor(s);if(0===l.BolaState.length){v&&P("BolaDebug "+s+"\nBolaDebug "+s+" BolaRule for state=- fragmentStart="+B.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var u=a(e);if(R.updateBolaState(s,u),S=0,u.state!==h){F.push(s);var c=M(l,u.throughputCount,s);if(0===c)return v&&P("BolaDebug "+s+" BolaRule quality unchanged for INITIALIZE"),void t(i);S=b(u,c*u.bandwidthSafetyFactor),u.lastQuality=S,i.value=S,i.priority=o.default.DEFAULT,i.reason.state=u.state,i.reason.throughput=c}return v&&P("BolaDebug "+s+" BolaRule quality "+S+" for INITIALIZE"),void t(i)}var d=l.BolaState[0]._s;if(d.state===h)return v&&P("BolaDebug "+s+" BolaRule quality 0 for ONE_BITRATE"),void t(i);var f=d.bitrates,p=d.utilities;v&&P("BolaDebug "+s+"\nBolaDebug "+s+" EXECUTE BolaRule for state="+d.state+" fragmentStart="+B.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var m=x.getCurrentBufferLevel(l)?x.getCurrentBufferLevel(l):0,A=M(l,d.throughputCount,s);m<=.1&&(d.virtualBuffer=0);var T=I(l,s);T>0&&(d.virtualBuffer+=T),d.virtualBuffer<0&&(d.virtualBuffer=0);var C=m+d.virtualBuffer,D=E(d,C);if(v&&P("BolaDebug "+s+" BolaRule bufferLevel="+m.toFixed(3)+"(+"+d.virtualBuffer.toFixed(3)+"="+C.toFixed(3)+") recentThroughput="+(1e-6*A).toFixed(3)+" tentativeQuality="+D),d.state===g){var S=b(d,A*d.bandwidthSafetyFactor);if(m>d.fragmentDuration/_){d.state=y;for(var w=0,N=0;N<S;++N){var L=d.Vp*(d.gp+(f[S]*p[N]-f[N]*p[S])/(f[S]-f[N]));L>w&&(w=L)}w>m&&(d.virtualBuffer=w-m)}return v&&P("BolaDebug "+s+" BolaRule quality "+S+" for STARTUP"),d.lastQuality=S,R.updateBolaState(s,d),i.value=S,i.priority=o.default.DEFAULT,i.reason.state=g,i.reason.throughput=A,void t(i)}if(D>d.lastQuality&&D>(S=b(d,A))&&(S<d.lastQuality&&(S=d.lastQuality),D=S),A>0)for(var k=_*A*m/d.fragmentDuration;D>0&&f[D]>k;)--D;var j=0;(j=C-d.Vp*(p[D]+d.gp))>0&&(j>d.virtualBuffer?(j-=d.virtualBuffer,d.virtualBuffer=0):(d.virtualBuffer-=j,j=0)),j>0?D===f.length-1?j=0:n.getScheduleController().setTimeToLoadDelay(1e3*j):j=0,d.lastQuality=D,R.updateBolaState(s,d),i.value=D,i.priority=o.default.DEFAULT,i.reason.state=d.state,i.reason.throughput=A,i.reason.bufferLevel=m,v&&P("BolaDebug "+s+" BolaRule quality "+D+" delay="+j.toFixed(3)+" for STEADY"),t(i)},reset:function(){L.off(f.default.BUFFER_EMPTY,C,k),L.off(f.default.PLAYBACK_SEEKING,D,k),L.off(f.default.PERIOD_SWITCH_STARTED,S,k),t()}},t(),k}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(10)),s=i(e(102)),l=i(e(69)),u=e(180),c=i(e(15)),d=i(e(9)),f=i(e(13)),p=i(e(8)),h=0,g=1,y=2,v=!1,m=10,A=30,_=.5;r.__dashjs_factory_name="BolaRule";var E=a.default.getClassFactory(r);E.BOLA_STATE_ONE_BITRATE=h,E.BOLA_STATE_STARTUP=g,E.BOLA_STATE_STEADY=y,E.BOLA_DEBUG=v,n.default=E,t.exports=n.default},{10:10,102:102,13:13,131:131,15:15,180:180,69:69,8:8,9:9}],136:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=this.context,i=(0,u.default)(n).getInstance().log,l=e.metricsModel,c=e.dashMetrics,d=void 0,f=void 0;return t={execute:function(e,t){var a=(new Date).getTime()/1e3,u=e.getMediaInfo(),p=e.getTrackInfo(),h=u.type,g=isNaN(p.fragmentDuration)?2:p.fragmentDuration/2,y=e.getCurrentValue(),v=e.getStreamProcessor().getABRController(),m=l.getReadOnlyMetricsFor(h),A=c.getCurrentBufferLevel(m),_=m.BufferState.length>0?m.BufferState[m.BufferState.length-1]:null,E=u.representationCount-1,T=(0,o.default)(n).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name});a-d<g||v.getAbandonmentStateFor(h)===s.default.ABANDON_LOAD?t(T):(null!==_&&A>_.target&&A-_.target>f.getRichBufferThreshold()&&u.representationCount>1&&(T.value=E,T.priority=o.default.STRONG,T.reason.bufferLevel=A,T.reason.bufferTarget=_.target),T.value!==o.default.NO_CHANGE&&T.value!==y&&i("BufferOccupancyRule requesting switch to index: ",T.value,"type: ",h," Priority: ",T.priority===o.default.DEFAULT?"Default":T.priority===o.default.STRONG?"Strong":"Weak"),t(T))},reset:function(){d=0}},d=0,f=(0,a.default)(n).getInstance(),t}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(102)),s=i(e(61)),l=i(e(10)),u=i(e(8));r.__dashjs_factory_name="BufferOccupancyRule",n.default=l.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,131:131,61:61,8:8}],137:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t){h[e]=h[e]||{},h[e].state=t,t!==a.default.BUFFER_LOADED||h[e].firstBufferLoadedEvent||(h[e].firstBufferLoadedEvent=!0)}function n(){h={}}var i=this.context,u=(0,c.default)(i).getInstance().log,d=(0,s.default)(i).getInstance(),f=e.metricsModel,p=void 0,h=void 0,g=void 0,y=void 0;return p={execute:function(e,n){var s=(new Date).getTime(),l=e.getMediaInfo().type,c=e.getCurrentValue(),d=f.getReadOnlyMetricsFor(l),p=d.BufferState.length>0?d.BufferState[d.BufferState.length-1]:null,v=(0,o.default)(i).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name});s-g<y||null===p?n(v):(t(l,p.state),p.state===a.default.BUFFER_EMPTY&&void 0!==h[l].firstBufferLoadedEvent&&(v.value=0,v.priority=o.default.STRONG,v.reason.bufferState=p.state,v=(0,o.default)(i).create(0,o.default.STRONG)),v.value!==o.default.NO_CHANGE&&v.value!==c&&u("InsufficientBufferRule requesting switch to index: ",v.value,"type: ",l," Priority: ",v.priority===o.default.DEFAULT?"Default":v.priority===o.default.STRONG?"Strong":"Weak"),g=s,n(v))},reset:function(){d.off(l.default.PLAYBACK_SEEKING,n,p),h={},g=0}},h={},g=0,y=1e3,d.on(l.default.PLAYBACK_SEEKING,n,p),p}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(64)),s=i(e(9)),l=i(e(13)),u=i(e(10)),c=i(e(8));r.__dashjs_factory_name="InsufficientBufferRule",n.default=u.default.getClassFactory(r),t.exports=n.default},{10:10,13:13,131:131,64:64,8:8,9:9}],138:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){M=[],b={audio:{threshold:y,value:NaN},video:{threshold:g,value:NaN}},I=(0,l.default)(A).getInstance()}function n(e,t){M[e]=M[e]||[],M[e].push(t)}function i(e,t){var n=Math.min(M[e].length,t?p:h),i=M[e].slice(-1*n,M[e].length);return i.length>1&&i.reduce(function(e,t){return(e*m<=t||e>=t*v)&&n++,t}),n=Math.min(M[e].length,n),M[e].slice(-1*n,M[e].length)}function c(e,t){var n=i(e,t),r=0;return n.length>0&&(r=n.reduce(function(e,t){return e+t},0)/n.length),M[e].length>=f&&M[e].shift(),r/1e3*I.getBandwidthSafetyFactor()}var f=20,p=3,h=4,g=50,y=5,v=1.3,m=1.3,A=this.context,_=(0,d.default)(A).getInstance().log,E=e.dashMetrics,T=e.metricsModel,M=void 0,b=void 0,I=void 0,C={execute:function(e,t){var i=e.getMediaInfo(),l=i.type,d=e.getCurrentValue(),f=T.getReadOnlyMetricsFor(l),p=e.getStreamProcessor(),h=p.getABRController(),g=p.isDynamic(),y=E.getCurrentHttpRequest(f),v=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,m=(0,o.default)(A).create(o.default.NO_CHANGE,o.default.WEAK,{name:r.__dashjs_factory_name});if(f&&y&&y.type===u.HTTPRequest.MEDIA_SEGMENT_TYPE&&v){var M=void 0;if(y.trace&&y.trace.length){M=y._tfinish.getTime()-y.tresponse.getTime()+1;var I=y.trace.reduce(function(e,t){return e+t.b[0]},0),C=Math.round(8*I/(M/1e3));M<=b[l].threshold?b[l].value=C/1e3:(b[l].value=NaN,n(l,C))}var D=Math.round(isNaN(b[l].value)?c(l,g):b[l].value);if(h.setAverageThroughput(l,D),h.getAbandonmentStateFor(l)!==s.default.ABANDON_LOAD){if(v.state===a.default.BUFFER_LOADED||g){var S=h.getQualityForBitrate(i,D);p.getScheduleController().setTimeToLoadDelay(0),m.value=S,m.priority=o.default.DEFAULT,m.reason.throughput=D}m.value!==o.default.NO_CHANGE&&m.value!==d&&_("ThroughputRule requesting switch to index: ",m.value,"type: ",l," Priority: ",m.priority===o.default.DEFAULT?"Default":m.priority===o.default.STRONG?"Strong":"Weak","Average throughput",Math.round(D),"kbps")}t(m)}else t(m)},reset:function(){t()}};return t(),C}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(64)),s=i(e(61)),l=i(e(102)),u=e(180),c=i(e(10)),d=i(e(8));r.__dashjs_factory_name="ThroughputRule",n.default=c.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,131:131,180:180,61:61,64:64,8:8}],139:[function(e,t,n){function i(e){var t=e.blacklistController;return{select:function(e){var n,i=0;return e&&e.some(function(e,n){return i=n,!t.contains(e.serviceLocation)})&&(n=e[i]),n}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="BasicSelector",n.default=r.default.getClassFactory(i),t.exports=n.default},{10:10}],140:[function(e,t,n){function i(e){function t(e){var t=[];return e.filter(function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)}).filter(function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)})}function n(e){var t,n,i=0,r=[],o=0;if((n=e.sort(function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n}).filter(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority})).length)return n.length>1&&(n.forEach(function(e){i+=e.dvb_weight,r.push(i)}),t=Math.floor(Math.random()*(i-1)),r.every(function(e,n){return o=n,!(t<e)})),n[o]}var i=e.blacklistController;return{select:function(e){return e&&n(t(e))}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="DVBSelector",n.default=r.default.getClassFactory(i),t.exports=n.default},{10:10}],141:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t,n){var o=NaN,a=e.getCurrentRepresentationInfo();if("fragmentedText"===t)o=s.getAllTracksAreDisabled()?0:a.fragmentDuration;else if("audio"===t&&n){var u=i.getCurrentBufferLevel(r.getReadOnlyMetricsFor("video"));o=Math.floor(Math.max(u,a.fragmentDuration))}else{var c=a.mediaInfo.streamInfo;o=e.getABRController().isPlayingAtTopQuality(c)?c.manifestInfo.duration>=l.getLongFormContentDurationThreshold()?l.getBufferTimeAtTopQualityLongForm():l.getBufferTimeAtTopQuality():l.getStableBufferTime()}return o}var n=this.context,i=e.dashMetrics,r=e.metricsModel,s=e.textSourceBuffer,l=void 0,u={execute:function(e,n,o){return i.getCurrentBufferLevel(r.getReadOnlyMetricsFor(n))<t(e,n,o)},getBufferTarget:t};return l=(0,o.default)(n).getInstance(),(0,a.default)(n).getInstance(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(102)),a=i(e(69)),s=i(e(10));r.__dashjs_factory_name="BufferLevelRule",n.default=s.default.getClassFactory(r),t.exports=n.default},{10:10,102:102,69:69}],142:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this.context,n=(0,o.default)(t).getInstance().log,i=e.adapter,r=e.sourceBufferController,a=e.textSourceBuffer;return{execute:function(e,t){var o=e.getCurrentRepresentationInfo(),s=o.mediaInfo.type,l=e.getScheduleController(),u=l.getSeekTarget(),c=!isNaN(u),d=e.getBuffer(),f=c?u:i.getIndexHandlerTime(e);if(isNaN(f)||"fragmentedText"===s&&a.getAllTracksAreDisabled())return null;if(c&&l.setSeekTarget(NaN),d){var p=r.getBufferRange(e.getBuffer(),f);null!==p&&(n("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",f," was changed to ",p.end),f=p.end)}var h=void 0;return t?(f=t.startTime+t.duration/2,h=i.getFragmentRequestForTime(e,o,f,{timeThreshold:0,ignoreIsFinished:!0})):((h=i.getFragmentRequestForTime(e,o,f,{keepIdx:!c}))&&e.getFragmentModel().isFragmentLoaded(h)&&(h=i.getNextFragmentRequest(e,o)),h&&(i.setIndexHandlerTime(e,h.startTime+h.duration),h.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay(),l.setTimeToLoadDelay(0))),h}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(8)),a=i(e(10));r.__dashjs_factory_name="NextFragmentRequestRule",n.default=a.default.getClassFactory(r),t.exports=n.default},{10:10,8:8}],143:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,n,i,r){var o;if(null===r)o=d.generateFragmentRequestForTime(M,v,e),t(e,n,i,o);else{c.on(s.default.CHECK_FOR_EXISTENCE_COMPLETED,function t(r){c.off(s.default.CHECK_FOR_EXISTENCE_COMPLETED,t,this),r.exists?n(r.request,e):i(r.request,e)},this),T.checkForExistence(r)}}function n(e,a){var s,u;m?r(!1,a):(s=(u=a-h)>0?h-u:h+Math.abs(u)+y)<g.start&&s>g.end?E((0,o.default)(l).create(null,_)):t(s,i,n,d.getFragmentRequestForTime(M,v,s,{ignoreIsFinished:!0}))}function i(e,n){var i,a,s=e.startTime;if(!m){if(!v.fragmentDuration)return void E((0,o.default)(l).create(s,_));if(m=!0,g.end=s+2*y,n===h)return a=n+A,i=d.getFragmentRequestForTime(M,v,a,{ignoreIsFinished:!0}),void t(a,function(){r(!0,a)},function(){E((0,o.default)(l).create(a,_))},i)}r(!0,n)}function r(e,r){var a;e?g.start=r:g.end=r,Math.floor(g.end-g.start)<=A?E((0,o.default)(l).create(e?r:r-A,_)):t(a=(g.start+g.end)/2,i,n,d.getFragmentRequestForTime(M,v,a,{ignoreIsFinished:!0}))}var l=this.context,c=(0,a.default)(l).getInstance(),d=e.adapter,f=e.timelineConverter,p=void 0,h=void 0,g=void 0,y=void 0,v=void 0,m=void 0,A=void 0,_=void 0,E=void 0,T=void 0,M=void 0;return p={execute:function(e,r){var a,s;if(E=r,M=e.getStreamProcessor(),T=M.getFragmentLoader(),v=e.getTrackInfo(),A=v.fragmentDuration,s=v.DVRWindow,h=s.end,v.useCalculatedLiveEdgeTime){var c=f.getExpectedLiveEdge();return f.setExpectedLiveEdge(h),void E((0,o.default)(l).create(c,_))}g={start:Math.max(0,h-u),end:h+u},y=Math.floor((s.end-s.start)/2),a=d.getFragmentRequestForTime(M,v,h,{ignoreIsFinished:!0}),t(h,i,n,a)},reset:function(){h=NaN,g=null,y=NaN,v=null,m=!1,A=NaN,M=null,T=null}},h=NaN,g=null,y=NaN,v=null,m=!1,A=NaN,_=o.default.DEFAULT,p}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(9)),s=i(e(13)),l=i(e(10)),u=43200;r.__dashjs_factory_name="LiveEdgeBinarySearchRule",n.default=l.default.getClassFactory(r),t.exports=n.default},{10:10,13:13,131:131,9:9}],144:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this.context,n=e.timelineConverter;return{execute:function(e,i){var r=e.getTrackInfo(),a=r.DVRWindow.end,s=o.default.DEFAULT;if(r.useCalculatedLiveEdgeTime){var l=n.getExpectedLiveEdge();n.setExpectedLiveEdge(a),i((0,o.default)(t).create(l,s))}else i((0,o.default)(t).create(a,s))}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(131)),a=i(e(10));r.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",n.default=a.default.getClassFactory(r),t.exports=n.default},{10:10,131:131}],145:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=void 0,n=void 0;return{initialize:function(){n=[],(t=[]).push((0,l.default)(e).create({timelineConverter:(0,a.default)(e).getInstance()})),n.push((0,s.default)(e).create({timelineConverter:(0,a.default)(e).getInstance(),adapter:(0,u.default)(e).getInstance()}))},getRules:function(e){switch(e){case c:return t;case d:return n;default:return null}}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(38)),s=i(e(143)),l=i(e(144)),u=i(e(15)),c="withAccurateTimeSourceRules",d="bestGuestRules";r.__dashjs_factory_name="SynchronizationRulesCollection";var f=o.default.getSingletonFactory(r);f.TIME_SYNCHRONIZED_RULES=c,f.BEST_GUESS_RULES=d,n.default=f,t.exports=n.default},{10:10,143:143,144:144,15:15,38:38}],146:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=(0,o.default)(e).getInstance(),n=(0,s.default)(e).getInstance(),i=void 0,r=void 0,d=void 0,h=void 0,g=void 0;return i={chooseSelectorFromManifest:function(e){g=n.getIsDVB(e)?h:d},select:function(e){var n=e.baseUrls,i=e.selectedIdx;if(!isNaN(i))return n[i];var r=g.select(n);if(r)return e.selectedIdx=n.indexOf(r),r;t.trigger(a.default.URL_RESOLUTION_FAILED,{error:new Error(f,p)})},reset:function(){r.reset()}},r=(0,l.default)(e).create({updateEventName:a.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:a.default.FRAGMENT_LOADING_COMPLETED}),d=(0,c.default)(e).create({blacklistController:r}),h=(0,u.default)(e).create({blacklistController:r}),g=d,i}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(22)),l=i(e(63)),u=i(e(140)),c=i(e(139)),d=i(e(10)),f=1,p="Failed to resolve a valid URL";r.__dashjs_factory_name="BaseURLSelector";var h=d.default.getClassFactory(r);h.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=f,h.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=p,n.default=h,t.exports=n.default},{10:10,13:13,139:139,140:140,22:22,63:63,9:9}],147:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context;return{parse:function(t){if(!t)return null;void 0===t.fileStart&&(t.fileStart=0);var n=s.default.parseBuffer(t),i=(0,o.default)(e).create();return i.setData(n),i}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(154)),a=i(e(10)),s=i(e(6));r.__dashjs_factory_name="BoxParser",n.default=a.default.getSingletonFactory(r),t.exports=n.default},{10:10,154:154,6:6}],148:[function(e,t,n){function i(){var e=void 0,t=void 0;return e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n},setEncryptedMediaSupported:function(e){t=e}},t=!1,e}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="Capabilities",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],149:[function(e,t,n){function i(){return{customTimeRangeArray:[],length:0,add:function(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],i=this.customTimeRangeArray[t];return n.start<=i.start&&i.start<=n.end&&n.end<=i.end?(n.end=i.end,this.customTimeRangeArray.splice(t,1),!0):i.start<=n.start&&n.start<=i.end&&i.end<=n.end?(n.start=i.start,this.customTimeRangeArray.splice(t,1),!0):i.start<=n.start&&n.start<=i.end&&n.end<=i.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=i.start&&i.start<=n.end&&i.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return this.customTimeRangeArray[e].start},end:function(e){return this.customTimeRangeArray[e].end}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="CustomTimeRanges",n.default=r.default.getClassFactory(i),t.exports=n.default},{10:10}],150:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){if(void 0!==h)return h;h=!1;var t;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return o("Warning: DOMStorage access denied: "+e.message),h}if(!t||e!==d&&e!==f)return h;try{t.setItem("1","1"),t.removeItem("1"),h=!0}catch(e){o("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return h}function t(){e(d)&&l.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){o(e.message)}}})}function n(){return 6e5*Math.round((new Date).getTime()/6e5)}function i(t,n){return e(t)&&g["get"+n+"CachingInfo"]().enabled}var r=this.context,o=(0,s.default)(r).getInstance().log,p=void 0,h=void 0,g=void 0;return p={getSavedBitrateSettings:function(e){var t=NaN;if(i(d,"LastBitrate")){var n=u.replace(/\?/,e),r=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-parseInt(r.timestamp,10)>=g.getLastBitrateCachingInfo().ttl||!1,s=parseInt(r.bitrate,10);isNaN(s)||a?a&&localStorage.removeItem(n):(t=s,o("Last saved bitrate for "+e+" was "+s))}return t},setSavedBitrateSettings:function(e,t){if(i(d,"LastBitrate")&&t){var r=u.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({bitrate:t/1e3,timestamp:n()}))}catch(e){o(e.message)}}},getSavedMediaSettings:function(e){if(!i(d,"LastMediaSettings"))return null;var t=c.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=g.getLastMediaSettingsCachingInfo().ttl||!1,o=n.settings;return r&&(localStorage.removeItem(t),o=null),o},setSavedMediaSettings:function(e,t){if(i(d,"LastMediaSettings")){var r=c.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({settings:t,timestamp:n()}))}catch(e){o(e.message)}}},isSupported:e},g=(0,a.default)(r).getInstance(),t(),p}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(102)),s=i(e(8)),l=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],u="dashjs_?_bitrate",c="dashjs_?_settings",d="localStorage",f="sessionStorage";r.__dashjs_factory_name="DOMStorage";var p=o.default.getSingletonFactory(r);n.default=p,t.exports=n.default},{10:10,102:102,8:8}],151:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t){var n=!0,i=0;if(void 0===t&&(t=!1),e.tag>16777215?(r.getUint32(o)!==e.tag&&(n=!1),i=4):e.tag>65535?(256*r.getUint16(o)+r.getUint8(o+2)!==e.tag&&(n=!1),i=3):e.tag>255?(r.getUint16(o)!==e.tag&&(n=!1),i=2):(r.getUint8(o)!==e.tag&&(n=!1),i=1),!n&&e.required&&!t)throw new a.default("required tag not found");return n&&(o+=i),n}function n(e){var t=1,n=128,i=-1,a=0,s=r.getUint8(o),l=void 0;for(l=0;l<8;l+=1){if((s&n)===n){a=void 0===e?s&~n:s,i=l;break}n>>=1}for(l=0;l<i;l+=1,t+=1)a=a<<8|255&r.getUint8(o+t);return o+=t,a}var i=void 0,r=new DataView(e.data),o=0;return i={getPos:function(){return o},setPos:function(e){o=e},consumeTag:t,consumeTagAndSize:function(e,i){var r=t(e,i);return r&&n(),r},parseTag:function(e){var r=void 0;return t(e),r=n(),i[e.parse](r)},skipOverElement:function(e,i){var r=t(e,i),a=void 0;return r&&(a=n(),o+=a),r},getMatroskaCodedNum:n,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=r.getFloat32(o),o+=4;break;case 8:t=r.getFloat64(o),o+=8}return t},getMatroskaUint:function(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&r.getUint8(o+n);return o+=e,t},moreData:function(){return o<r.byteLength}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(163));r.__dashjs_factory_name="EBMLParser",n.default=o.default.getClassFactory(r),t.exports=n.default},{10:10,163:163}],152:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this.context,t=(0,o.default)(e).getInstance();return{capabilityError:function(e){t.trigger(a.default.ERROR,{error:"capability",event:e})},downloadError:function(e,n,i){t.trigger(a.default.ERROR,{error:"download",event:{id:e,url:n,request:i}})},manifestError:function(e,n,i,r){t.trigger(a.default.ERROR,{error:"manifestError",event:{message:e,id:n,manifest:i,event:r}})},timedTextError:function(e,n,i){t.trigger(a.default.ERROR,{error:"cc",event:{message:e,id:n,cc:i}})},mediaSourceError:function(e){t.trigger(a.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function(e){t.trigger(a.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:function(e){t.trigger(a.default.ERROR,{error:"key_message",event:e})}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(9)),a=i(e(13)),s=i(e(10));r.__dashjs_factory_name="ErrorHandler";var l=s.default.getSingletonFactory(r);l.CAPABILITY_ERROR_MEDIASOURCE="mediasource",l.CAPABILITY_ERROR_MEDIAKEYS="mediakeys",l.DOWNLOAD_ERROR_ID_MANIFEST="manifest",l.DOWNLOAD_ERROR_ID_SIDX="SIDX",l.DOWNLOAD_ERROR_ID_CONTENT="content",l.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",l.DOWNLOAD_ERROR_ID_XLINK="xlink",l.MANIFEST_ERROR_ID_CODEC="codec",l.MANIFEST_ERROR_ID_PARSE="parse",l.MANIFEST_ERROR_ID_NOSTREAMS="nostreams",l.TIMED_TEXT_ERROR_ID_PARSE="parse",n.default=l,t.exports=n.default},{10:10,13:13,9:9}],153:[function(e,t,n){function i(){var e={};return{save:function(t){var n=t.streamId,i=t.mediaInfo.type,r=t.quality;e[n]=e[n]||{},e[n][i]=e[n][i]||{},e[n][i][r]=t},extract:function(t,n,i){return e[t][n][i]},reset:function(){e={}}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="InitCache",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],154:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){for(var t,i=r.fetchAll(e),o=[],a=0,s=i.length;a<s;a++)(t=n(i[a]))&&o.push(t);return o}function t(e,t,n){for(var i in n)t[i]=e[n[i]]}function n(e){if(!e)return null;var n,i,r=new o.default;switch(t(e,r,a),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(t(e,r,s),r.references)for(n=0,i=r.references.length;n<i;n++)t(e.references[n],r.references[n],l);break;case"emsg":t(e,r,u);break;case"mdhd":t(e,r,c);break;case"mfhd":t(e,r,d);break;case"tfhd":t(e,r,f);break;case"tfdt":t(e,r,p);break;case"trun":if(t(e,r,h),r.samples)for(n=0,i=r.samples.length;n<i;n++)t(e.samples[n],r.samples[n],g)}return r}var i=void 0,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0;return i={getBox:function(e){return e&&r&&r.boxes&&0!==r.boxes.length?n(r.fetch(e)):null},getBoxes:e,setData:function(e){r=e},getLastBox:function(){if(!r||!r.boxes||!r.boxes.length)return null;var t=e(r.boxes[r.boxes.length-1].type);return t[t.length-1]},getOffset:function(){return r._cursor.offset}},a={offset:"_offset",size:"size",type:"type"},s={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},l={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},u={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},c={timescale:"timescale"},d={sequence_number:"sequence_number"},f={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},p={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},h={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},g={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"},i}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(166)),a=i(e(10));r.__dashjs_factory_name="IsoFile",n.default=a.default.getClassFactory(r),t.exports=n.default},{10:10,166:166}],155:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(){h=!1,g=NaN}function t(e){var t=((new Date).getTime()-g)/1e3;v=e.value,r.trigger(l.default.LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:v,searchTime:t,error:null===v?new a.default(d,"live edge has not been found",null):null})}function n(e){!f.isDynamic()||h||e.error||(m=c.isTimeSyncCompleted()?o.default.TIME_SYNCHRONIZED_RULES:o.default.BEST_GUESS_RULES,y=(0,o.default)(i).getInstance().getRules(m),h=!0,g=(new Date).getTime(),p.applyRules(y,f,t,null,function(e,t){return t}))}var i=this.context,r=(0,s.default)(i).getInstance(),c=void 0,f=void 0,p=void 0,h=void 0,g=void 0,y=void 0,v=void 0,m=void 0;return{initialize:function(e,t){c=e,f=t,h=!1,g=NaN,v=null,p=(0,u.default)(i).getInstance(),m=o.default.BEST_GUESS_RULES,r.on(l.default.STREAM_INITIALIZED,n,this)},abortSearch:e,getLiveEdge:function(){return v},reset:function(){r.off(l.default.STREAM_INITIALIZED,n,this),e(),v=null,c=null,f=null,h=!1,g=NaN,m=null,p=null}}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(145)),a=i(e(163)),s=i(e(9)),l=i(e(13)),u=i(e(130)),c=i(e(10)),d=1;r.__dashjs_factory_name="LiveEdgeFinder";var f=c.default.getSingletonFactory(r);f.LIVE_EDGE_NOT_FOUND_ERROR_CODE=d,n.default=f,t.exports=n.default},{10:10,13:13,130:130,145:145,163:163,9:9}],156:[function(e,t,n){function i(){return{areSimpleEquivalent:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="ObjectUtils",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],157:[function(e,t,n){function i(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="RequestModifier",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],158:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){return e.hasOwnProperty("begin")&&e.hasOwnProperty("end")?[d(e.begin),d(e.end)]:null}function t(){var e="cue_TTML_"+$;return $++,e}function n(e,t,n){function i(e,t){if(e.hasOwnProperty(t)){var n=e[t];o.indexOf(n)<0&&o.push(n)}}for(var r=[],o=[],a=[],s=0;s<e.length;s++){var l=e[s];i(l,"begin"),i(l,"end")}if(0===o.length)return a;if(void 0!==t&&void 0!==n){for(s=0;s<o.length;s++){var u=d(o[s]);t<u&&u<n&&r.push(u)}r.push(t),r.push(n)}else for(s=0;s<o.length;s++)r.push(d(o[s]));r.sort(function(e,t){return e-t});for(s=0;s<r.length-1;s++)a.push([r[s],r[s+1]]);return a}function i(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function r(e,t){return void 0!==t&&e>t&&(e=t),e}function o(e,t,n){var o=d(e.begin),a=d(e.end);return o=i(o,t),a=r(a,n),void 0!==t&&void 0!==n&&(a<t||o>n)?(R("TTML: Cue "+o+"-"+a+" outside interval "+t+"-"+n),null):[o,a]}function c(t,n){var i=!0;if(t.hasOwnProperty("span")){var r=e(t.span);null!==r&&(i=r[0]<n[1]&&r[1]>n[0])}return i}function d(e){var t,n,i;if(!k.test(e))return NaN;if(t=e.split(":"),n=parseFloat(t[0])*l+parseFloat(t[1])*u+parseFloat(t[2]),t[3]){if(!(i=j.tt.frameRate)||isNaN(i))return NaN;n+=parseFloat(t[3])/i}return n}function f(e,t){var n=Object.keys(e).filter(function(n){return("xmlns"===n.split(":")[0]||"xmlns"===n.split(":")[1])&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=n.length?null:n[0]}function p(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))p(e[n],t);else if(Array.isArray(e[n]))for(var i=0;i<e[n].length;i++)p(e[n][i],t);e[n.slice(n.indexOf(t)+t.length+1)]=e[n],delete e[n]}}function h(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function g(e){var t=e.slice(1).match(/.{2}/g),n=parseFloat(parseInt(parseInt(t[3],16)/255*1e3,10)/1e3);return"rgba("+t.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+n+");"}function y(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function v(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function m(e,t){t.splice(t.indexOf(v(e,t)),1)}function A(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)e[n]&&e[n].split(":")[0].indexOf(t[i].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function _(e,t,n){var i=[];for(var r in e)if(e.hasOwnProperty(r)){var o=r.replace("ebutts:","");e[o=h(o=(o=o.replace("xml:","")).replace("tts:",""))]=e[r],delete e[r]}if("line-padding"in e){var a=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(V[e.id]=a);var s=a*t[0]+"px;";i.push("padding-left:"+s),i.push("padding-right:"+s)}if("font-size"in e){var l=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%")));"id"in e&&(U[e.id]=l);var u=l/100*t[1]+"px;";i.push("font-size:"+u)}if("line-height"in e)if("normal"===e["line-height"])i.push("line-height: normal;");else{var c=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%")));"id"in e&&(B[e.id]=c);var d=c/100*t[1]+"px;";i.push("line-height:"+d)}"font-family"in e&&(e["font-family"]in Q?i.push(Q[e["font-family"]]):i.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in G&&(i.push(G[e["text-align"]][0]),i.push(G[e["text-align"]][1])),"multi-row-align"in e&&(y("text-align",i)&&"auto"!=e["multi-row-align"]&&m("text-align",i),e["multi-row-align"]in K&&i.push(K[e["multi-row-align"]]));var f;return"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1==8?(f=g(e["background-color"]),i.push("background-color: "+f)):i.push("background-color:"+e["background-color"]+";")),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1==8?(f=g(e.color),i.push("color: "+f)):i.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in q?i.push(q[e["wrap-option"]]):i.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in W?i.push(W[e["unicode-bidi"]]):i.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&i.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&i.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&i.push("direction:"+e.direction+";"),"text-decoration"in e&&i.push("text-decoration:"+e["text-decoration"]+";"),n&&(i=i.concat(b(e,t))),j.tt.hasOwnProperty("xml:space")&&"preserve"===j.tt["xml:space"]&&i.push("white-space: pre;"),i}function E(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i["xml:id"]===t||i.id===t)return i}return null}function T(e,t,n){var i=[];return e.match(/\S+/g).forEach(function(e){var r=E(F,e);if(r){var o=_(JSON.parse(JSON.stringify(r)),t,n);i=i.concat(o)}}),i}function M(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var i=n.exec(e["tts:extent"]),r=n.exec(e["tts:origin"]);if(null===i||null===r)return R("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(i[1]),a=parseFloat(i[3]),s=parseFloat(r[1]),l=parseFloat(r[3]);if(t){var u=n.exec(t);if(null===u||"px"!==u[2]||"px"!==u[4])return R("Bad tt.extent: "+t),null;var c=parseFloat(u[1]),d=parseFloat(u[3]);"px"===i[2]&&(o=o/c*100),"px"===i[4]&&(a=a/d*100),"px"===r[2]&&(s=s/c*100),"px"===r[4]&&(l=l/d*100)}return{left:s,top:l,width:o,height:a}}return null}function b(e,t){var n=[];for(var i in e){var r=i.replace("tts:","");e[r=h(r=r.replace("xml:",""))]=e[i],r!==i&&delete e[i]}if("extent"in e){var o=e.extent.split(/\s/);n.push("width: "+o[0]+";"),n.push("height: "+o[1]+";")}if("origin"in e){var a=e.origin.split(/\s/);n.push("left: "+a[0]+";"),n.push("top: "+a[1]+";")}if("display-align"in e&&n.push(X[e["display-align"]]),"writing-mode"in e&&n.push(Z[e["writing-mode"]]),"style"in e){var s=T(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function I(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i["xml:id"]===t||i.id===t)return i}return null}function C(e,t){var n=[];return e.match(/\S+/g).forEach(function(e){var i=I(z,e);if(i){var r=b(JSON.parse(JSON.stringify(i)),t);n=n.concat(r)}}),n}function D(){var e=[32,15];return j.tt.hasOwnProperty("ttp:cellResolution")?j.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function S(e,t){for(var n=v("padding-left",t),i=v("padding-right",t),r=n.concat(" "+i+" "),o="",a="",s="",l=Array.prototype.slice.call(e.children),u=e.getElementsByClassName("lineBreak")[0],c=l.indexOf(u),d=[];-1!=c;)d.push(c),c=l.indexOf(u,c+1);var f="<br>",p='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(d.length)d.forEach(function(e,t){if(0===t){for(var n="",i=0;i<e;i++)o+=l[i].outerHTML,0===i&&(n=r.concat(l[i].style.cssText));o=p+n+'">'+o}for(var u="",c=e+1;c<l.length;c++)a+=l[c].outerHTML,c===l.length-1&&(u+=r.concat(l[c].style.cssText));a=p+u+'">'+a,o&&a&&t===d.length-1?s+=o+"</span>"+f+a+"</span>":o&&a&&t!==d.length-1?s+=o+"</span>"+f+a+"</span>"+f:o&&!a?s+=o+"</span>":!o&&a&&t===d.length-1?s+=a+"</span>":!o&&a&&t!==d.length-1&&(s+=a+"</span>"+f)});else{for(var h="",g=0;g<l.length;g++)h+=l[g].style.cssText;s=p+r+h+'">'+e.innerHTML+"</span>"}return s}function w(e,t){var n=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var i=e.span.__children,r=document.createElement("span");if(e.span.hasOwnProperty("style")){var o=T(e.span.style,t);r.className="spanPadding "+e.span.style,r.style.cssText=o.join(" ")}i.forEach(function(e){if(!i.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);r.appendChild(t)}else if("br"in e){r.hasChildNodes()&&n.appendChild(r);var o=document.createElement("br");o.className="lineBreak",n.appendChild(o);var a=document.createElement("span");a.className=r.className,a.style.cssText=r.style.cssText,r=a}}),n.appendChild(r)}else if(e.hasOwnProperty("br")){var a=document.createElement("br");a.className="lineBreak",n.appendChild(a)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"],n.appendChild(s)}}),n}function N(e,t,n){var i,r,o=[],a=e.region,s=t.region;return s&&(i=C(s,n)),a?(r=o.concat(C(a,n)),o=i?A(i,r):r):i&&(o=i),P(o,H),o}function O(e,t){var n,i,r,o=[],a=e.style,s=j.tt.body.style,l=j.tt.body.div.style,u="";return s&&(n=T(s,t),u="paragraph "+s),l&&(i=T(l,t),n?(i=A(n,i),u+=" "+l):u="paragraph "+l),a?(r=T(a,t),n&&i?(o=A(i,r),u+=" "+a):n?(o=A(n,r),u+=" "+a):i?(o=A(i,r),u+=" "+a):(o=r,u="paragraph "+a)):n&&!i?o=n:!n&&i&&(o=i),P(o,Y),[o,u]}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&(y(n,e)||e.push(n+":"+t[n]))}var x=this.context,R=(0,s.default)(x).getInstance().log,L=void 0,k=void 0,j=void 0,F=void 0,z=void 0,U=void 0,B=void 0,V=void 0,H=void 0,Y=void 0,Q=void 0,G=void 0,K=void 0,q=void 0,W=void 0,X=void 0,Z=void 0,J=void 0,$=0;return L={parse:function(i,r,s){var l=void 0,u=void 0,d=void 0,h=void 0,g="",A=new a.default([],"",!1);if(!(j=A.xml_str2json(i)))throw new Error("TTML document could not be parsed");if(J.getTTMLRenderingDiv()&&(h="html"),!(l=j.tt))throw new Error("TTML document lacks tt element");var _=f(l,"http://www.w3.org/ns/ttml");if(_&&p(l,_),d=l["tts:extent"],!(u=l.head))throw new Error("TTML document lacks head element");if(u.layout&&(z=u.layout.region_asArray),u.styling&&(F=u.styling.style_asArray),!l.body)throw new Error("TTML document lacks body element");var E=D(),T=J.getElement().clientWidth,C=J.getElement().clientHeight,P=[T/E[0],C/E[1]];Y["font-size"]=P[1]+"px;";var x=[];if(z)for(var L=0;L<z.length;L++)x.push(b(JSON.parse(JSON.stringify(z[L])),P));var k=f(j.tt,"http://www.w3.org/ns/ttml#parameter");l.hasOwnProperty(k+":frameRate")&&(l.frameRate=parseInt(l[k+":frameRate"],10));for(var H=[],Q=l.body_asArray[0].__children,G=0;G<Q.length;G++){var K=Q[G].div,q=null;if(null===(q=e(K))){var W=K.p_asArray;if(null===q&&(!W||0===W.length))return g="TTML has div that contains no timing and no paragraphs.",R(g),H;for(var X=0;X<W.length;X++){var Z=W[X],$=Z.span_asArray,ee=[];if(Z.hasOwnProperty("begin")&&Z.hasOwnProperty("end")){var te=o(Z,r,s);null!==te&&ee.push(te)}else ee=n($,r,s);if(0!==ee.length)for(var ne=Z.__children,ie=0;ie<ee.length;ie++){for(var re=ee[ie],oe=[],ae=0;ae<ne.length;ae++){var se=ne[ae];c(se,re)&&oe.push(se)}if(0!==oe.length)if("html"===h){B={},V={},U={};var le=N(Z,K,P),ue=O(Z,P),ce=ue[1];ue=ue[0];var de=document.createElement("div");de.className=ce;var fe=w(oe,P);fe.className="cueDirUniWrapper",y("unicode-bidi",ue)&&(fe.style.cssText+=v("unicode-bidi",ue),m("unicode-bidi",ue)),y("direction",ue)&&(fe.style.cssText+=v("direction",ue),m("direction",ue)),y("padding-left",ue)&&y("padding-right",ue)&&(fe.innerHTML=S(fe,ue)),y("padding-left",ue)&&y("padding-right",ue)&&(m("padding-left",ue),m("padding-right",ue));var pe="";if(y("regionID",le)){var he=v("regionID",le);pe=he.slice(he.indexOf(":")+1,he.length-1)}ue&&(de.style.cssText=ue.join(" ")+"display:flex;"),le&&(le=le.join(" ")),de.appendChild(fe);var ge=document.createElement("div");ge.appendChild(de),ge.id=t(),ge.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+le,0===Object.keys(U).length&&(U.defaultFontSize="100"),H.push({start:re[0],end:re[1],type:"html",cueHTMLElement:ge,regions:x,regionID:pe,cueID:ge.id,videoHeight:C,videoWidth:T,cellResolution:E,fontSize:U||{defaultFontSize:"100"},lineHeight:B,linePadding:V})}else{var ye="",ve=oe;ve.length&&ve.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?ye+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(ye+="\n"))})}else e.hasOwnProperty("br")?ye+="\n":ye+=e["#text"].replace(/[\r\n]+/gm," ").trim()}),H.push({start:re[0],end:re[1],data:ye,type:"text"})}}else g="TTML: Empty paragraph"}}else{var me=void 0;K.region&&(me=M(I(z,K.region),d)),me||(me=M(K,d));var Ae=l.head.metadata.image_asArray;if(void 0!==K["smpte:backgroundImage"])for(var _e=0;_e<Ae.length;_e++)"#"+Ae[_e]["xml:id"]===K["smpte:backgroundImage"]&&H.push({start:q[0],end:q[1],id:t(),data:"data:image/"+Ae[_e].imagetype.toLowerCase()+";base64, "+Ae[_e].__text,type:"image",layout:me})}}if(""!==g&&R(g),H.length>0)return H;throw new Error(g)},setConfig:function(e){e&&e.videoModel&&(J=e.videoModel)}},k=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,U={},B={},V={},H={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},Y={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},Q={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;",default:"font-family: monospace, sans-serif;"},G={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},K={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},q={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},W={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},X={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},Z={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"},L}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(4)),s=i(e(8)),l=3600,u=60;r.__dashjs_factory_name="TTMLParser",n.default=o.default.getSingletonFactory(r),t.exports=n.default},{10:10,4:4,8:8}],159:[function(e,t,n){function i(){var e=/^(?:(?:[a-z]+:)?\/)?\//i,t=/^https?:\/\//i,n=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:function(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t},parseOrigin:function(e){var t=e.match(n);return t?t[1]:""},isRelative:function(t){return!e.test(t)},isPathAbsolute:function(t){return e.test(t)&&"/"===t.charAt(0)},isHTTPURL:function(e){return t.test(e)}}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(10));i.__dashjs_factory_name="URLUtils",n.default=r.default.getSingletonFactory(i),t.exports=n.default},{10:10}],160:[function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function r(){function e(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function t(e){var t=e.split(u),i=t[1].split(d);return i.shift(),t[1]=i[0],i.shift(),{cuePoints:t,styles:n(i)}}function n(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}function i(e,t){for(var n,i=t,r="",o="";""!==e[i]&&i<e.length;)i++;if((n=i-t)>1)for(var a=0;a<n;a++){if((o=e[t+a]).match(u)){r="";break}r+=o,a!==n-1&&(r+="\n")}else(o=e[t]).match(u)||(r=o);return decodeURI(r)}var r=this.context,o=(0,a.default)(r).getInstance().log,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;return s={parse:function(n){var r,a,s=[];r=(n=n.split(l)).length,a=-1;for(var d=0;d<r;d++){var f=n[d];if(f.length>0&&"WEBVTT"!==f&&f.match(u)){var p=t(f),h=p.cuePoints,g=p.styles,y=i(n,d+1),v=e(h[0].replace(c,"")),m=e(h[1].replace(c,""));!isNaN(v)&&!isNaN(m)&&v>=a&&m>v?""!==y?(a=v,s.push({start:v,end:m,data:y,styles:g})):o("Skipping cue due to empty/malformed cue text"):o("Skipping cue due to incorrect cue timing")}}return s}},l=/(?:\r\n|\r|\n)/gm,u=/-->/,c=/(^[\s]+|[\s]+$)/g,d=/\s\b/g,s}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(10)),a=i(e(8));r.__dashjs_factory_name="VTTParser",n.default=o.default.getSingletonFactory(r),t.exports=n.default},{10:10,8:8}],161:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN},t.exports=n.default},{}],162:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN},t.exports=n.default},{}],163:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t,n,r){i(this,e),this.code=t||null,this.message=n||null,this.data=r||null},t.exports=n.default},{}],164:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(){i(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete",n.default=r,t.exports=n.default},{}],165:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){function t(e){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(164)).default);n.default=a,t.exports=n.default},{164:164}],166:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0},t.exports=n.default},{}],167:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],168:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null},t.exports=n.default},{}],169:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]},t.exports=n.default},{}],170:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0},t.exports=n.default},{}],171:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},a=function(e){function t(e,n){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return r(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e(164)).default);n.default=a,t.exports=n.default},{164:164}],172:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],173:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],174:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null},t.exports=n.default},{}],175:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this._s=void 0},t.exports=n.default},{}],176:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.t=null,this.level=null},t.exports=n.default},{}],177:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(64));n.default=function e(){i(this,e),this.target=null,this.state=r.default.BUFFER_EMPTY},t.exports=n.default},{64:64}],178:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],179:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.time=null,this.droppedFrames=null},t.exports=n.default},{}],180:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(){i(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null};r.MPD_TYPE="MPD",r.XLINK_EXPANSION_TYPE="XLinkExpansion",r.INIT_SEGMENT_TYPE="InitializationSegment",r.INDEX_SEGMENT_TYPE="IndexSegment",r.MEDIA_SEGMENT_TYPE="MediaSegment",r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",r.OTHER_TYPE="other",n.HTTPRequest=r,n.HTTPRequestTrace=function e(){i(this,e),this.s=null,this.d=null,this.b=[]}},{}],181:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.ManifestUpdate=function e(){i(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},n.ManifestUpdateStreamInfo=function e(){i(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},n.ManifestUpdateTrackInfo=function e(){i(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},{}],182:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function e(){i(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};r.INITIAL_PLAYOUT_START_REASON="initial_playout",r.SEEK_START_REASON="seek",r.RESUME_FROM_PAUSE_START_REASON="resume",r.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){i(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=r,n.PlayListTrace=o},{}],183:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],184:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],185:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}],186:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(){i(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null},t.exports=n.default},{}]},{},[5]),t("dash",function(e){return function(){return e.dashjs}}(this)),t("html5/media/HTML5VideoAPI",["event/EventDispatcher","event/EventMap","utils/DOMUtils","api/PlayerState","utils/BrowserUtils","bluebird","dash"],function(e,t,n,i,r,o,a){function s(t,n,i){e.call(this,t),this.hasPlayed=!1,this.wrapperElement=null,this.parentNode=n,this.generatedId=Math.floor(1e3*Math.random()+1),this.domId="tvp_html5_video_"+this.generatedId,this.player=null,this.preSeek=!1,this.options=t,this.model=i,this.videoObj=null,this.blankMp4Video="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}return s.prototype=new e,s.prototype.constructor=s,s.prototype.initialize=function(e){this._initWrapperElement(),this._initHTML5Listeners(),this.whenInit=e},s.prototype.getProviderId=function(){return"HTML5VideoAPI"},s.prototype._initWrapperElement=function(){if(!this.parentNode)throw new Error("DOM Container not found");this.wrapperElement=n.createElement("div",{id:this.domId,className:"tvp_video_wrapper_html5"});var e={};for(var t in e)this.wrapperElement.setAttribute(t,e[t]);var i=this.get("width"),r=this.get("height");i&&r&&!isNaN(i)&&!isNaN(r)&&(this.wrapperElement.style.width=i+"px",this.wrapperElement.style.height=r+"px",this.wrapperElement.style.display="none"),this.parentNode.appendChild(this.wrapperElement),document.getElementById("tvpHTML5Video")||this._initVideoElement()},s.prototype._initVideoElement=function(){var e=n.currentOS();this.player=n.createElement("video",{id:"tvpHTML5Video_"+this.generatedId,crossOrigin:"anonymous",classProperty:"tvpHTML5Video",preload:this.getPreloadValue()}),"iPad"!==e&&"iPhone"!==e&&"iPod"!==e||(this.player.setAttribute("controls",!0),this.player.setAttribute("playsinline",!0)),this.player.style.width="100%",this.player.style.height="100%",this.player.style.backgroundColor="black",this.wrapperElement.appendChild(this.player);var t=!1;this.options&&this.options.hasOwnProperty("controls")&&this.options.controls.hasOwnProperty("cc")&&this.options.controls.cc.hasOwnProperty("useEmulator")&&(t=this.options.controls.cc.useEmulator),r.isNativeTextTracksSupported()&&!t||(this.vtt=n.createElement("div",{id:"tvpVTTHolder",classProperty:"tvpVTTHolder"}),this.vtt.style.pointerEvents="none",this._vttSettings(this.vtt),this.wrapperElement.appendChild(this.vtt)),this.errorMessage=n.createElement("div",{id:"tvpHTML5Video_errorMessage_"+this.generatedId,classProperty:"tvpHTML5Video_errorMessage"}),this.errorMessage.innerHTML="Video not available.",this.options.errorMessage&&"string"==typeof this.options.errorMessage&&this.options.errorMessage.length>0&&(this.errorMessage.innerHTML=this.options.errorMessage),this.wrapperElement.appendChild(this.errorMessage),this.qualityLevels=!1,this.currentQuality=-1},s.prototype._vttSettings=function(e){var t=["position","bottom","left","right","top"],n=["absolute","3em","0","0","0"];if(this.options&&this.options.hasOwnProperty("controls")&&this.options.controls.hasOwnProperty("cc")&&this.options.controls.cc.hasOwnProperty("emulator"))for(i=0;i<t.length;i++)this.options.controls.cc.emulator.hasOwnProperty(t[i])&&this.options.controls.cc.emulator[t[i]]?e.style[t[i]]=this.options.controls.cc.emulator[t[i]]:e.style[t[i]]=n[i];else for(var i=0;i<t.length;i++)e.style[t[i]]=n[i]},s.prototype.verifyVideoElement=function(){return!this.player.classList.contains("tvp-media-ad")},s.prototype.dispatchEvent=function(e){if(!this.verifyVideoElement())return!1;var n;switch(n="object"==typeof e?e.data:e){case s.STATES.unstarted:break;case s.STATES.ended:this.triggerEvent(t.MEDIA_VIDEO_ENDED,{data:n});break;case s.STATES.playing:this.triggerEvent(t.MEDIA_VIDEO_PLAYING,{data:n});break;case s.STATES.paused:this.triggerEvent(t.MEDIA_VIDEO_PAUSED,{data:n});break;case s.STATES.buffering:this.triggerEvent(t.MEDIA_VIDEO_BUFFERING,{data:n});break;case s.STATES.cued:this.triggerEvent(t.MEDIA_VIDEO_CUED,{data:n})}},s.prototype.triggerEvent=function(e,t){this.trigger(e,t)},s.prototype._addSource=function(e,t){var i=n.createElement("source",{src:e.file});void 0!==e.mime&&(i.type=e.mime),t.appendChild(i),this.player.src||(this.player.src=e.file)},s.prototype._setBitRates=function(e,t,n){this.qualityLevelSources=[],this.qualityLevels=[];var i,r=e.sources.length;for(i=0;i<r;i++)void 0!==e.sources[i].quality&&(this.qualityLevelSources[e.sources[i].quality]=e.sources[i].file,this.qualityLevels.push(e.sources[i].quality))},s.prototype._setSource=function(e){for(;this.player.firstChild;)this.player.removeChild(this.player.firstChild);this.player.removeAttribute("src"),e&&this._addSource(this.currentSource,this.player)},s.prototype._getSources=function(e){var t,n=e.sources.length;for(t=0;t<n;t++)if("object"==typeof e.sources[t]&&e.sources[t].hasOwnProperty("tvpdefault")&&e.sources[t].tvpdefault)return e.sources[t];for(t=0;t<n;t++)if("object"==typeof e.sources[t])return e.sources[t];return!1},s.prototype._getQuality=function(e){return!(!e||!e.quality)&&e.quality},s.prototype._setSourceQualityAndBitrate=function(e,t){if(!e)return!1;this.videoObj=e,this.currentSource=this._getSources(this.videoObj),this.currentQuality=this._getQuality(this.currentSource),t&&this._setSource(this.currentSource),this._setBitRates(this.videoObj,this.player,!1)},s.prototype.getPreloadValue=function(){var e="none";if(this.options&&this.options.hasOwnProperty("preload")){var t=this.options.preload;t&&"none"!=t?t&&(e="auto"):e="none"}return e},s.prototype.preload=function(e){if(this.options&&this.options.hasOwnProperty("DOMContainer")){var t=this.options.DOMContainer.getElementsByClassName("tvpHTML5Video")[0];t&&(e||(e="none"),t.setAttribute("preload",e))}},s.prototype.canPlayDash=function(){return void 0!==this.videoObj.dashUrl&&!!window.MediaSource},s.prototype.canPlayHLS=function(){return void 0!==this.videoObj.hlsUrl&&""!==this.player.canPlayType("application/vnd.apple.mpegURL")},s.prototype.isForcingPreload=function(){if(this.canPlayHLS()){var e=!1;return r.isBrowser(["Safari"])?e=!0:/iPad/.test(window.navigator.userAgent)&&(e=!0),e}if(this.canPlayDash())return r.isBrowser(["IE"])},s.prototype.loadVideo=function(e,t){if(this.dashPlayer&&this.dashPlayer.reset(),this.hasPlayed=!1,this.videoObj=e,this.preload("auto"),this.errorMessage.style.display="none",this.isPlayerLoaded())return this.setVideoSource(e,!0),this.setVolume(t.get("volume")),this.player.muted=!!t.get("isMute"),this.play(!0)},s.prototype.cueVideo=function(e,t){if(this.dashPlayer&&this.dashPlayer.reset(),this.dashPlayer=null,this.hasPlayed=!1,this.errorMessage.style.display="none",this.videoObj=e,this.preload(this.getPreloadValue()),this.isPlayerLoaded())return this.setVideoSource(e,!1),this.setVolume(t.get("volume")),this.player.muted=!!t.get("isMute"),this.player.load()},s.prototype.setVideoSource=function(e,t){return this.canPlayHLS()?(this._setBitRates(e,this.player,!0),!this.loadHLS(t)||(this.currentQuality="abr",!0)):this.canPlayDash()?(this._setBitRates(e,this.player,!0),!this.loadDash(e,t)||(this.preload("auto"),this.currentQuality="abr",!0)):void(e.sources&&"object"==typeof e.sources&&e.sources.length&&this.loadMP4(e,t))},s.prototype.loadMP4=function(e,t){if(this.playVideo=!0,"none"!==this.getPreloadValue()||t?(this.player.src=e.sources[0].file,this._setSourceQualityAndBitrate(e,!0)):this._setSourceQualityAndBitrate(e,!1),t)return this.player.load(),!0},s.prototype.loadDash=function(e,t){try{return this.isForcingPreload()&&!t?(this.dashPlayer&&this.dashPlayer.reset(),!1):(this.player.src=e.dashUrl,void 0!==this.dashPlayer&&this.dashPlayer||(this.dashPlayer=a.MediaPlayer().create(),this.dashPlayer.initialize(),this.dashPlayer.getDebug().setLogToBrowserConsole(!1),this.dashPlayer.setInitialBitrateFor("video",99999999),this.dashPlayer.setAutoSwitchQualityFor("video",!0)),this.dashPlayer.attachView(this.player),this.dashPlayer.setAutoPlay(t),("none"!=this.getPreloadValue()&&!this.hasPlayed||t)&&(this.loadDashSource(e),this.playVideo=!1,t&&this.preload("auto")),!0)}catch(e){}return!1},s.prototype.loadDashSource=function(e){var t=this;return!!this.dashPlayer&&(this.player.src=e.dashUrl,this.dashPlayer.on("initialized",function(){var e=this.dashPlayer.getBitrateInfoListFor("video"),n=e[e.length-1].qualityIndex;t.dashPlayer.setQualityFor("video",n)}),new o(function(n,i){t.dashPlayer.on("initializationLoaded",function(){return t.dashPlayerInitialized=!0,n(!0)}),t.dashPlayer.attachSource(e.dashUrl),t.preload("auto")}))},s.prototype.loadHLS=function(e){return this.playVideo=!0,"none"!=this.getPreloadValue()&&(this.loadHLSSource(e),!0)},s.prototype.loadHLSSource=function(e){var t=this;this.preload("auto");var i=new o(function(e){t.player.addEventListener("loadstart",function(){return e(!0)})});this.player.src=this.videoObj.hlsUrl;var r=n.createElement("source",{src:this.videoObj.hlsUrl,type:"application/vnd.apple.mpegURL"});return this.player.firstChild?this.player.insertBefore(r,this.player.firstChild):this.player.appendChild(r),e&&this.player.load(),i},s.prototype.loadAdaptiveSources=function(){var e=!1;return this.canPlayHLS()?e=this.loadHLSSource(!0):this.canPlayDash()&&(e=this.loadDashSource(this.videoObj)),e},s.prototype.getQuality=function(){if(this.isPlayerLoaded()){var e=this.getAvailableQualityLevels();if("object"==typeof e)return e.indexOf(this.getPlaybackQuality())}return-1},s.prototype.getPlaybackQuality=function(){return this.currentQuality},s.prototype.setPlaybackQuality=function(e){if(this.isPlayerLoaded()){var t=this.getState()==i.PLAYING,n=this.player.currentTime;return this.qualityLevelSources[e]?(this.player.src=this.qualityLevelSources[e],this.player.load(),this.playVideo=!0):this.canPlayHLS()?(this.loadHLS(!0),this.playVideo=!0):this.canPlayDash()&&(this.loadDash(this.videoObj,!0),this.playVideo=!1),this.seek(n),this.currentQuality=e,t&&this.playVideo&&this.player.play(),!0}return!1},s.prototype.getQualityLevels=function(){return this.getAvailableQualityLevels()},s.prototype.getAvailableQualityLevels=function(){return this.qualityLevels},s.prototype.play=function(e){var t=this;if(this.isPlayerLoaded()){if(this.canPlayDash()&&!this.dashPlayer&&!this.canPlayHLS())return this.loadDash(this.videoObj,!0);if("none"!=this.getPreloadValue()||this.isPlayingSameVideo())!this.playVideo&&e||this.actuallyPlayVideo(e);else{var n=this.loadAdaptiveSources();n&&void 0!==n.then?n.then(function(){t.actuallyPlayVideo(e)}):this.loadMP4(this.videoObj,!0)&&t.actuallyPlayVideo(e)}}},s.prototype.actuallyPlayVideo=function(e){return this.hasPlayed=!0,void 0===e||e?this.player.play():this.player.load()},s.prototype.isPlayingSameVideo=function(){if(this.player&&!this.player.src)return!1;if(this.canPlayHLS()&&this.videoObj.hlsUrl){e=!1;return this.player.src&&this.player.src.replace(/https?:/,"")==this.videoObj.hlsUrl&&(e=!0),e}if(this.canPlayDash()){var e=!1;try{var t=this.dashPlayer.getSource();e=!(!this.videoObj||!this.videoObj.dashUrl||t!=this.videoObj.dashUrl)}catch(e){}return e}if(this.player.src&&this.videoObj&&this.videoObj.sources.length){for(var n in this.videoObj.sources)if(this.videoObj.sources[n]&&this.videoObj.sources[n].file&&this.videoObj.sources[n].file.replace(/https?:/,"")==this.player.src.replace(/https?:/,""))return!0;return!1}return!1},s.prototype.stop=function(){return!!this.isPlayerLoaded()&&(this.player.pause(),!0)},s.prototype.destroy=function(){return!!this.isPlayerLoaded()&&(this.player.pause(),!0)},s.prototype.isPlayerLoaded=function(){return null!=this.player&&"object"==typeof this.player},s.prototype.shouldAutoPlay=function(){return!/iPhone/.test(window.navigator.userAgent)&&!/iPod/.test(window.navigator.userAgent)},s.prototype.pause=function(){if(this.isPlayerLoaded())return this.player.pause()},s.prototype.mute=function(){return!!this.isPlayerLoaded()&&(this.player.muted=!0,!0)},s.prototype.unmute=function(){return!!this.isPlayerLoaded()&&(this.player.muted=!1,!0)},s.prototype.isMuted=function(){return!!this.isPlayerLoaded()&&this.player.muted},s.prototype.seek=function(e){this.trigger(t.MEDIA_VIDEO_SEEK,{data:e});if(this.isPlayerLoaded()){var n=this.getVideoState();this.setPreSeek(n);try{this.player.currentTime=e}catch(e){}return e}return!1},s.prototype.volume=function(e){return this.setVolume(e)},s.prototype.setVolume=function(e){return e=e<0?0:e>100?100:e,!!this.isPlayerLoaded()&&(this.player.volume=e/100,e)},s.prototype.getVolume=function(){return!!this.isPlayerLoaded()&&100*this.player.volume},s.prototype.getCurrentTime=function(){return!!this.isPlayerLoaded()&&this.player.currentTime},s.prototype.getDuration=function(){return!!this.isPlayerLoaded()&&this.player.duration},s.prototype.resize=function(e,t){if(this.isPlayerLoaded()&&e&&t){var n=isNaN(e)?"string"==typeof e&&"px"==e.substr(-2)?e:"300px":e+"px",i=isNaN(t)?"string"==typeof t&&"px"==t.substr(-2)?t:"200px":t+"px";return this.wrapperElement.style.width=n,this.wrapperElement.style.height=i,!0}return!1},s.prototype.getHeight=function(){return this.wrapperElement.style.height},s.prototype.getWidth=function(){return this.wrapperElement.style.width},s.prototype.show=function(){this.errorMessage.style.display="none",this.wrapperElement.style.display="block"},s.prototype.hide=function(){this.errorMessage.style.display="none",this.wrapperElement.style.display="none"},s.prototype.getState=function(){var e=-1;if(this.isPlayerLoaded())switch(this.getVideoState()){case s.STATES.unstarted:e=i.READY;break;case s.STATES.ended:e=i.ENDED;break;case s.STATES.playing:e=i.PLAYING;break;case s.STATES.paused:e=i.PAUSED;break;case s.STATES.buffering:e=i.BUFFERING;break;case s.STATES.cued:e=i.READY}return e},s.prototype.handleOnReady=function(e){this.wrapperElement=document.getElementById(this.domId),this.trigger(t.MEDIA_READY,{data:e,type:"mp4"})},s.prototype.handleOnError=function(e){void 0!==e.isTrusted&&e.isTrusted||(this.errorMessage.style.display="block",this.trigger(t.MEDIA_ERROR,{data:e}))},s.prototype._handleFSIn=function(e,t){"iPhone"===n.currentOS()&&(t.play(),t.handleVideoState(s.STATES.playing))},s.prototype._initHTML5Listeners=function(){var e=this,t=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange","emptied"];for(var i in t)t.hasOwnProperty(i)&&this.player.addEventListener(t[i],function(t){e._handleVideoEvent(t,e)});"iPhone"===n.currentOS()&&this.player.addEventListener("webkitbeginfullscreen",function(t){e._handleFSIn(t,e)}),setTimeout(function(){e.whenInit(),e.handleOnReady({ready:!0})},0)},s.prototype._handleVideoEvent=function(e,n){if(""!=e.type){var i=n.getVideoState();switch(e.type){case"canplaythrough":i!=s.STATES.playing&&i!=s.STATES.paused&&i!=s.STATES.buffering&&i!=s.STATES.cued&&n.handleVideoState(s.STATES.cued);break;case"ended":n.handleVideoState(s.STATES.ended);break;case"error":n.handleVideoError(e);break;case"loadstart":n.handleVideoState(s.STATES.buffering);break;case"pause":n.handleVideoState(s.STATES.paused);break;case"play":i!=s.STATES.playing&&n.handleVideoState(s.STATES.playing);break;case"playing":this.trigger(t.MEDIA_LOADCAPTIONMP4,this.player),this.dashPlayer&&this.trigger(t.MEDIA_DASHPLAYER,this.dashPlayer),i!=s.STATES.playing&&n.handleVideoState(s.STATES.playing);break;case"seeked":this.getPreSeek()==s.STATES.paused?n.handleVideoState(s.STATES.paused):i!=s.STATES.playing&&i!=s.STATES.paused&&n.handleVideoState(s.STATES.playing);break;case"seeking":i!=s.STATES.buffering&&n.handleVideoState(s.STATES.buffering);break;case"suspend":i==s.STATES.buffering&&i!=s.STATES.cued&&n.handleVideoState(s.STATES.cued);break;case"waiting":i!=s.STATES.buffering&&n.handleVideoState(s.STATES.buffering)}}},s.prototype.setPreSeek=function(e){this.preSeek=e},s.prototype.getPreSeek=function(){return this.preSeek},s.prototype.handleVideoError=function(e){this.handleOnError(e),this.dispatchEvent(e.type,e.data)},s.prototype.handleVideoState=function(e){this.state=e||-1;try{this.dispatchEvent(e)}catch(e){}},s.prototype.getVideoState=function(){return this.state||-1},s.STATES={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5},s}),t("utils/TVPLocalStorage",[],function(){function e(){}return e.setItem=function(e,t){"object"!=typeof t&&(t=[t]);var n=!1;return"undefined"!=typeof Storage&&(n=localStorage.setItem(e,JSON.stringify(t))),n},e.getItem=function(e){var t=!1;if("undefined"!=typeof Storage){var n=localStorage.getItem(e);t=JSON.parse(n)}return t instanceof Array&&(t=t.pop()),t},e}),t("html5/model/Model",["core/TvpObject","event/EventDispatcher","html5/media/YouTubeIframeAPI","html5/media/HTML5VideoAPI","event/EventMap","utils/DOMUtils","utils/TVPLocalStorage"],function(e,t,n,i,r,o,a){function s(){t.apply(this,arguments),this.activeProvider=null,this.domId="tvp_player_view_"+Math.floor(1e3*Math.random()+1),this.domElement=null,this.providers={},this.activeProviders={},this.providersReady={},this.callbackVideo=null,this.model=new e,this.mediaReady={};var n=this.options.mediaProviders.split(",");for(var i in n)if("string"==typeof n[i]){var r=n[i];"tvpage"==r&&(r="mp4"),this.mediaReady[r]=!1}this.loadLocalStorage(),this._createDOMElement()}return s.prototype=new t,s.prototype.constructor=s,s.prototype.loadLocalStorage=function(){this.model.fromJson(a.getItem("tvplayer_model"))},s.prototype.toLocalStorage=function(){a.setItem("tvplayer_model",this.model.toJson())},s.prototype.setLocalStorage=function(e,t){this.model.set(e,t),this.toLocalStorage()},s.prototype._createDOMElement=function(){var e=this.get("DOMContainer");if(!e)throw new Error("DOM Container not found");this.domElement=o.createElement("div",{}),this.domElement.id=this.domId,this.domElement.style.position="relative",this.domElement.style.overflow="hidden",this.domElement.tabIndex="-1",e.appendChild(this.domElement)},s.prototype.getDOMElement=function(){return this.domElement},s.prototype.dispatchEvent=function(e,t){return this.trigger(e,t)},s.prototype.initializeHTML5VideoAPI=function(e){this.options.mediaProviders.search("tvpage")>=0&&(this.providers.mp4=new i(this.getOptions(),this.domElement,this),this.defaultProvider="mp4",this.providers.mp4.initialize(e),this.providers.mp4.on("all",this.dispatchEvent,this))},s.prototype.initializeYouTubeIframeAPI=function(e,t){this.options.mediaProviders.search("youtube")>=0&&(this.providers.youtube=new n(this.getOptions(),this.domElement,this,e),this.defaultProvider="youtube",this.providers.youtube.initialize(t),this.providers.youtube.on("all",this.dispatchEvent,this))},s.prototype.mediaLoaded=function(e){return("youtube"!==e.type||0!=this.domElement.getElementsByClassName("tvp_video_wrapper_youtube").length)&&("mp4"!==e.type||0!=this.domElement.getElementsByClassName("tvp_video_wrapper_html5").length)},s.prototype.loadMediaAndProvider=function(e,t){var n=this,i=e.type;"youtube"===i?this.initializeYouTubeIframeAPI(e,function(){n.loadProvider(e,t)}):"mp4"===i&&this.initializeHTML5VideoAPI(function(){n.loadProvider(e,t)})},s.prototype.loadProvider=function(e,t){this.setActiveProvider(e.type),"cueVideo"===t?this.activeProvider.cueVideo(e,this.model):this.activeProvider.loadVideo(e,this.model)},s.prototype.loadVideo=function(e){return!!this.validateObject(e)&&(this.mediaLoaded(e)?this.loadProvider(e,"loadVideo"):this.loadMediaAndProvider(e,"loadVideo"),!0)},s.prototype.cueVideo=function(e){return!!this.validateObject(e)&&(this.mediaLoaded(e)?this.loadProvider(e,"cueVideo"):this.loadMediaAndProvider(e,"cueVideo"),!0)},s.prototype.validateObject=function(e){return"object"==typeof e&&void 0!==e.type&&(void 0!==e.id||void 0!==e.sources)},s.prototype.getMediaProviders=function(){return this.activeProviders},s.prototype.getActiveProvider=function(){return this.activeProvider},s.prototype.sanitizeDimension=function(e){return"string"==typeof e&&"px"==e.substr(-2)&&(e=Number(e.substr(0,e.length-2))),e},s.prototype.setActiveProvider=function(e){if(!this.providers.hasOwnProperty(e))throw new Error("Type: "+e+" is not yet supported");var t,n,i;this.activeProvider&&(t=this.sanitizeDimension(this.activeProvider.getWidth()),n=this.sanitizeDimension(this.activeProvider.getHeight()),i=this.activeProvider.getVolume()||100,this.activeProvider.stop()),this.activeProvider=this.providers[e];for(var r in this.providers)"function"==typeof this.providers[r].hide&&(this.providers[r].hide(),this.providers[r].off());return this.activeProvider&&t&&n&&i&&(this.activeProvider.resize(t,n),this.activeProvider.setVolume(i)),this.activeProvider.show(),this.activeProvider.on("all",this.dispatchEvent,this),this.activeProvider},s.prototype._processVideo=function(e){if("object"!=typeof e)throw new Error("Invalid data passed");if(void 0===e.type)throw new Error("Invalid data passed");if(void 0===e.id)throw new Error("Invalid data passed");return e},s.prototype._isReady=function(){return null!==this.activeProvider},s.prototype.destroy=function(){for(var e in this.activeProviders)try{this.activeProviders[e].destroy()}catch(e){}},s.prototype.play=function(){if(this._isReady())return this.activeProvider.play()},s.prototype.pause=function(){if(this._isReady())return this.activeProvider.pause()},s.prototype.stop=function(){if(this._isReady())return this.activeProvider.stop()},s.prototype.volume=function(e){if(this._isReady())return this.setLocalStorage("volume",e),this.activeProvider.volume(e)},s.prototype.mute=function(){if(this._isReady())return this.setLocalStorage("isMute",!0),this.activeProvider.mute()},s.prototype.unmute=function(){if(this._isReady())return this.setLocalStorage("isMute",!1),this.activeProvider.unmute()},s.prototype.isMuted=function(){if(this._isReady())return this.activeProvider.isMuted()},s.prototype.seek=function(e){if(this._isReady())return this.activeProvider.seek(e)},s.prototype.resize=function(e,t){if(this._isReady())return this.activeProvider.resize(e,t)},s.prototype.getVolume=function(){if(this._isReady())return this.activeProvider.getVolume()},s.prototype.getState=function(){if(this._isReady())return this.activeProvider.getState()},s.prototype.getCurrentTime=function(){if(this._isReady())return this.activeProvider.getCurrentTime()},s.prototype.getDuration=function(){if(this._isReady())return this.activeProvider.getDuration()},s.prototype.getQuality=function(){if(this._isReady())return this.activeProvider.getQuality()},s.prototype.setQuality=function(e){if(this._isReady()){var t=this.getQualityLevels()[e];return this.activeProvider.setPlaybackQuality(t)}},s.prototype.getQualityLevels=function(){if(this._isReady())return this.activeProvider.getQualityLevels()},s.prototype.getHeight=function(){if(this._isReady())return this.activeProvider.getHeight()},s.prototype.getWidth=function(){if(this._isReady())return this.activeProvider.getWidth()},s}),t("html5/view/View",["event/EventDispatcher","event/EventMap"],function(e){function t(t,n,i){if(e.call(this,t),this.model=n,this.controller=i,this.container=this.get("DOMContainer"),this._setMediaContainer(),"object"!=typeof this.container)throw new Error("View - no domelement found");this.model.on("all",this.handleMediaEvents,this)}return t.prototype=new e,t.prototype.constructor=t,t.prototype._setMediaContainer=function(){this.mediaContainer=this.model.getDOMElement();var e=this.get("width"),t=this.get("height");e&&t&&!isNaN(e)&&!isNaN(t)&&(this.mediaContainer.style.width=e+"px",this.mediaContainer.style.height=t+"px")},t.prototype.resizeMedia=function(e,t){if(e&&t&&!isNaN(e)&&!isNaN(t))return this.mediaContainer.style.width=e+"px",this.mediaContainer.style.height=t+"px",this.model.resize(e,t)},t.prototype.handleMediaEvents=function(e,t){},t.prototype.destroy=function(){this.mediaContainer&&this.mediaContainer.parentNode.removeChild(this.mediaContainer)},t}),t("html5/controller/Controller",["event/EventDispatcher"],function(e){function t(t,n,i){e.call(this,t),this.model=n,this.view=i,this.model.on("all",this.dispatchEvent,this)}return t.prototype=new e,t.prototype.constructor=t,t.prototype.play=function(){return this.model.play()},t.prototype.pause=function(){return this.model.pause()},t.prototype.stop=function(){return this.model.stop()},t.prototype.volume=function(e){return this.model.volume(e)},t.prototype.mute=function(){return this.model.mute()},t.prototype.unmute=function(){return this.model.unmute()},t.prototype.isMuted=function(){return this.model.isMuted()},t.prototype.seek=function(e){return this.model.seek(e)},t.prototype.loadVideo=function(e){return this.model.loadVideo(e)},t.prototype.cueVideo=function(e){return this.model.cueVideo(e)},t.prototype.resize=function(e,t){return this.view.resizeMedia(e,t)},t.prototype.getVolume=function(){return this.model.getVolume()},t.prototype.getState=function(){return this.model.getState()},t.prototype.getCurrentTime=function(){return this.model.getCurrentTime()},t.prototype.getDuration=function(){return this.model.getDuration()},t.prototype.getQuality=function(){return this.model.getQuality()},t.prototype.setQuality=function(e){return this.model.setQuality(e)},t.prototype.getQualityLevels=function(){return this.model.getQualityLevels()},t.prototype.getHeight=function(){return this.model.getHeight()},t.prototype.getWidth=function(){return this.model.getWidth()},t}),t("html5/Html5Player",["event/EventDispatcher","html5/model/Model","html5/view/View","html5/controller/Controller"],function(e,t,n,i){function r(){e.apply(this,arguments),this.model=null,this.view=null,this.controller=null}return r.prototype=new e,r.prototype.constructor=r,r.prototype.initialize=function(){this.model=new t(this.getOptions()),this.view=new n(this.getOptions(),this.model),this.controller=new i(this.getOptions(),this.model,this.view),this.model.on("all",this.dispatchEvent,this)},r.prototype.getModel=function(){return this.model},r.prototype.getController=function(){return this.controller},r.prototype.getView=function(){return this.view},r.prototype.getDOMElement=function(){return this.model.getDOMElement()},r.prototype.destroy=function(){this.model.destroy(),this.view.destroy(),delete this.controller,delete this.view,delete this.model},r.prototype.play=function(){return this.controller.play()},r.prototype.pause=function(){return this.controller.pause()},r.prototype.stop=function(){return this.controller.stop()},r.prototype.volume=function(e){return this.controller.volume(e)},r.prototype.mute=function(){return this.controller.mute()},r.prototype.unmute=function(){return this.controller.unmute()},r.prototype.isMuted=function(){return this.controller.isMuted()},r.prototype.seek=function(e){return this.controller.seek(e)},r.prototype.loadVideo=function(e){return this.controller.loadVideo(e)},r.prototype.cueVideo=function(e){return this.controller.cueVideo(e)},r.prototype.resize=function(e,t){return this.controller.resize(e,t)},r.prototype.getVolume=function(){return this.controller.getVolume()},r.prototype.getState=function(){return this.controller.getState()},r.prototype.getCurrentTime=function(){return this.controller.getCurrentTime()},r.prototype.getDuration=function(){return this.controller.getDuration()},r.prototype.getQuality=function(){return this.controller.getQuality()},r.prototype.setQuality=function(e){return this.controller.setQuality(e)},r.prototype.getQualityLevels=function(){return this.controller.getQualityLevels()},r.prototype.getHeight=function(){return this.controller.getHeight()},r.prototype.getWidth=function(){return this.controller.getWidth()},r}),t("api/Html5",["api/Player","html5/Html5Player"],function(e,t){function n(){e.apply(this,arguments)}return n.prototype=new e,n.prototype.constructor=n,n.prototype.initialize=function(){this.player=new t(this.getOptions()),this.player.on("all",this.handleEvent,this),this.player.initialize()},n.prototype.getPlayer=function(){return this.player},n.prototype.handleEvent=function(e,t,n){this.dispatchEvent(e,t,n)},n.prototype.cueVideo=function(e){return this.player.cueVideo(e)},n.prototype.getDOMElement=function(){return this.player.getDOMElement()},n}),t("utils/Debug",["etc/config"],function(e){function t(){}(t.prototype={}).constructor=t,t.prototype.Log=function(){"undefined"!=typeof console&&e.debug&&console.log(arguments)},t.prototype.Warn=function(){"undefined"!=typeof console&&e.debug&&console.warn(arguments)},t.prototype.Error=function(){"undefined"!=typeof console&&e.debug&&console.error(arguments)};var n=null;return t.getInstance=function(){return null===n&&(n=new t),n},t.getInstance()}),t("api/TechSupport",["utils/DOMUtils","utils/Debug"],function(e,t){function n(){this.html5_testElement=e.createElement("video")}return n.prototype={},n.prototype.constructor=n,n.prototype._isSupported_Html5=function(){return"function"==typeof this.html5_testElement.canPlayType},n.prototype.isSupported=function(e){return"html5"===e&&this._isSupported_Html5()},n}),t("api/Loader",["api/Html5","api/TechSupport"],function(e,t){function n(){this.techOrder="html5"}return n.prototype={},n.prototype.constructor=n,n.prototype.getTechOrder=function(){return this.techOrder},n.prototype.loadPlayer=function(n){if((new t).isSupported(this.techOrder))return new e(n);throw new Error("Failed to load Player")},n}),t("utils/ErrorHandler",[],function(){function e(){}(e.prototype={}).constructor=e,e.prototype.log=function(){"undefined"!=typeof console&&console.log(arguments)},e.prototype.warn=function(){"undefined"!=typeof console&&console.warn(arguments)},e.prototype.error=function(e){"undefined"!=typeof console&&console.error(arguments)};var t=null;return e.getInstance=function(){return null===t&&(t=new e),t},e.getInstance()}),t("api/Interface",["event/EventDispatcher","api/Loader","utils/ErrorHandler","utils/Debug","event/EventMap"],function(e,t,n,i,r){function o(){e.apply(this,arguments),this.player=null}return o.prototype=new e,o.prototype.constructor=o,o.prototype.initialize=function(){var e=new t;this.player=e.loadPlayer(this.getOptions()),this.player.on("all",this.dispatchEvent,this),this.player.initialize()},o.prototype.getPlayer=function(){return this.player},o.prototype.destroy=function(){this.player.destroy(),delete this.player},o.prototype.play=function(){return this.player.play()},o.prototype.pause=function(){return this.player.pause()},o.prototype.stop=function(){return this.player.stop()},o.prototype.volume=function(e){return this.player.volume(e)},o.prototype.mute=function(){return this.player.mute()},o.prototype.unmute=function(){return this.player.unmute()},o.prototype.isMuted=function(){return this.player.isMuted()},o.prototype.seek=function(e){return this.player.seek(e)},o.prototype.loadVideo=function(e){return this.player.loadVideo(e)},o.prototype.cueVideo=function(e){return this.player.cueVideo(e)},o.prototype.resize=function(e,t,n){return this.player.resize(e,t,n)},o.prototype.getVolume=function(){return this.player.getVolume()},o.prototype.getState=function(){return this.player.getState()},o.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},o.prototype.getDuration=function(){return this.player.getDuration()},o.prototype.getQuality=function(){return this.player.getQuality()},o.prototype.setQuality=function(e){return this.player.setQuality(e)},o.prototype.getQualityLevels=function(){return this.player.getQualityLevels()},o.prototype.getHeight=function(){return this.player.getHeight()},o.prototype.getWidth=function(){return this.player.getWidth()},o.prototype.getDOMElement=function(){return this.player.getDOMElement()},o}),t("utils/ControlbarUtils",["etc/config","utils/DOMUtils"],function(e,t){function n(){this.moveTimer=null,this.moveCountdown=0,this.controlbar=null}(n.prototype={}).constructor=n,n.prototype.applyBaseIconStyle=function(e){if(!e)throw new Error("No valid element provided");this.applyStyle(e,{display:"inline-block",verticalAlign:"top",margin:"0 2px",width:"30px",height:"30px",cursor:"pointer",textAlign:"center",lineHeight:"30px",color:"#FFF"})},n.prototype.applyStyle=function(e,t){if(!e)throw new Error("No valid element provided");if(e){var n=window.navigator.userAgent.indexOf("MSIE 8.0")>=0;for(var i in t)"backgroundColor"==i&&n&&t[i].indexOf("rgba(0,0,0,")>=0?e.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#66000000,endColorstr=#66000000)":("height"==i||"width"==i)&&n&&t[i].indexOf("-")>=0?e.style[i]=t[i].substr(1):e.style[i]=t[i]}return t},n.prototype.applyOverlayImg=function(t,n){if(!t||!n)throw new Error("No valid DOM element or icon name supplied");this.applyStyle(t,{backgroundImage:"url("+e.cdnUrl+e[n]+")"})},n.prototype.applyIconImg=function(e,t,n){if(!e||!t)throw new Error("No valid DOM element or icon name supplied");var i=null;switch(t){case"playpause":i={svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8 5v14l11-7z" fill='+n+" /></svg>",pause:{svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" fill='+n+" /></svg>"}};break;case"volume":i={svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" fill='+n+" /></svg>",muted:{svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" fill='+n+" /></svg>"},mid:{svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path class="st0" d="M3,9v6h4l5,5V4L7,9H3z M16.5,12c0-1.8-1-3.3-2.5-4V16C15.5,15.3,16.5,13.8,16.5,12z" fill='+n+" /></svg>"}};break;case"cc":i={svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z" fill='+n+" /></svg>"};break;case"settings":i={svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" fill='+n+" /></svg>"};break;case"fullscreen":i={svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="transparent" /><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" fill='+n+" /></svg>",isFullscreen:{svg:'<svg xmlns="http://www.w3.org/2000/svg" class="tvp-controlbar-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="transparent" /><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" fill='+n+" /></svg>"}}}return i},n.prototype.setControlbarColors=function(e){var t="rgba(26,26,26,.7)",n="#FFFFFF";return e&&e.hasOwnProperty("controls")&&e.controls.hasOwnProperty("floater")&&(e.controls.floater.hasOwnProperty("controlbarColor")&&e.controls.floater.controlbarColor&&(t=e.controls.floater.controlbarColor),e.controls.floater.hasOwnProperty("iconColor")&&e.controls.floater.iconColor&&(n=e.controls.floater.iconColor)),{controlbarColor:t,iconColor:n}},n.prototype.applyVolumeSelectorStyle=function(e){if(!e)throw new Error("no element provided");this.applyStyle(e,{position:"relative",margin:"4px auto",width:"24px",height:"9px",borderRadius:"2px",cursor:"pointer",border:"solid 1px #EEE",borderBottom:"solid 1px #AAA",borderRight:"solid 1px #AAA",backgroundColor:"#FFF"})},n.prototype.formatControlTime=function(e){if(void 0===e||isNaN(e)||parseFloat(e)!=e)return"00:00";var t=parseInt(e/60/60),n=parseInt(e/60)%60,i=Math.floor(e%60),r=(n<10?"0"+n:n)+":"+(i<10?"0"+i:i);return t>0&&(r=t+":"+r),r},n.prototype.handleMoveInterval=function(){--this.moveCountdown<=0&&this.clearIntervals()},n.prototype.clearIntervals=function(){window.clearInterval(this.moveTimer),this.moveTimer=null,this.controlbar&&this.controlbar.setStateVisuals("out")},n.prototype.handleControlHover=function(e,t){switch(t.domElement.style.display="",this.controlbar=t,e.type){case"mousemove":"out"==t.getVisualState()&&t.setStateVisuals("in"),this.resetMoveInterval()}},n.prototype.resetMoveInterval=function(){this.moveCountdown=5,this.moveTimer||(this.moveTimer=window.setInterval(this.handleMoveInterval.bind(this),1e3))},n.prototype.fadeOut=function(e,t,n,i){if(!e)throw new Error("no element");t||(t=.5),this.applyStyle(e,{display:"block"}),window.setTimeout(function(){e.style.opacity=0},20),window.setTimeout(function(){e.style.opacity=1,e.style.display="none"},1e3*t)};var i=null;return n.getInstance=function(){return null===i&&(i=new n),i},n.getInstance()}),t("controlbar/ControlbarComponent",["event/EventDispatcher","event/EventMap","utils/DOMUtils","utils/ErrorHandler","utils/ControlbarUtils","utils/Debug"],function(e,t,n,i,r,o){function a(t,n,i,r){this.parentNode=i,this.player=r,this.iconStates=null,this.iconPositions=null,e.apply(this,arguments),this.initialize()}return a.prototype=new e,a.prototype.constructor=a,a.prototype.initialize=function(){this._attachToDom()},a.prototype._attachToDom=function(){},a.prototype.addListeners=function(){n.addEventListener(this.domElement,"click",this.handleClick.bind(this),!1),n.addEventListener(this.player.getDOMElement(),"keydown",this.handleKeyDown.bind(this),!1)},a.prototype.handleClick=function(e){},a.prototype.handleHover=function(e){},a.prototype.handleKeyDown=function(){var e=this.player.getDOMElement().getElementsByClassName("tvp-ad-container");e.length>0?"none"===e[0].style.display&&(this.parentNode.style.display="block"):this.parentNode.style.display="block"},a.prototype.switchIcon=function(e,t){this.iconPositions&&(t||(t=this.domElement),this.iconStates=this.iconPositions[e]||this.iconPositions,t.innerHTML=this.iconStates.svg)},a.prototype.toggleIcon=function(e,t){(t||this.domElement)&&e&&this.iconStates&&this.iconStates[e]&&(t||(t=this.domElement),t.style.backgroundPosition=this.iconStates[e])},a.prototype.handlePlayerEvent=function(e){var n=null,i=e;switch("string"==typeof e.type&&(i=e.type),i){case t.MEDIA_VIDEO_ENDED:n=this.handleMediaVideoEnded;break;case t.MEDIA_VIDEO_PAUSED:n=this.handleMediaVideoPaused;break;case t.MEDIA_VIDEO_PLAYING:n=this.handleMediaVideoPlaying}n&&"function"==typeof n&&n.call(this,e)},a.prototype.destroy=function(){},a}),t("controlbar/SeekBarExtended",["utils/ControlbarUtils"],function(e){function t(){}return t.prototype.initialize=function(t,n,i){this.player=n,this.seekbar=t,this.keyBoardEvent=i,this.duration=Math.floor(n.getDuration()),this.formatedDuration=e.formatControlTime(n.getDuration()),this.keyCodes=[37,39,74,76,35,36,48,49,50,51,52,53,54,55,56,57];var r=Math.floor(n.getCurrentTime());this.keyTimeMap={37:(r-5)/this.duration*100<0?0:(r-5)/this.duration*100,39:(r+5)/this.duration*100>100?100:(r+5)/this.duration*100,74:(r-10)/this.duration*100<0?0:(r-10)/this.duration*100,76:(r+10)/this.duration*100>100?100:(r+10)/this.duration*100,35:100,36:0,48:0,49:10,50:20,51:30,52:40,53:50,54:60,55:70,56:80,57:90},this.handleKeyboardShortcuts()},t.prototype.handleKeyboardShortcuts=function(){for(var t=0;t<this.keyCodes.length;t++)if(this.keyBoardEvent.keyCode===this.keyCodes[t]){this.keyBoardEvent.preventDefault();var n=this.keyTimeMap[this.keyCodes[t]];if(this.player.seek(n/100*this.duration),this.seekbar.updateProgress(this.seekbar,!1,n.toString()),this.seekbar.parentNode.getElementsByClassName("tvp-control-time").length>0){var i=e.formatControlTime(n/100*this.duration);this.seekbar.parentNode.getElementsByClassName("tvp-control-time")[0].innerHTML=i+" / "+this.formatedDuration}}},t}),t("controlbar/SeekBar",["controlbar/ControlbarComponent","controlbar/SeekBarExtended","event/EventMap","utils/DOMUtils","utils/ErrorHandler","utils/Debug","utils/ControlbarUtils"],function(e,t,n,i,r,o,a){function s(t,n,i,r,o){this.iconColor=t,this.option=n,this.parentNode=i,this.player=r,this.tvplayer=o,this.progressElement=null,this.seekElement=null,this.hideHeight=4,this.showHeight=8,e.apply(this,arguments)}return s.prototype=new e,s.prototype.constructor=s,s.prototype.initialize=function(){this.player&&this.parentNode&&(this._attachToDom(),this.handlePlayerResize(this.player.getDOMElement().clientWidth,this.player.getDOMElement().clientHeight))},s.prototype._attachToDom=function(){this.playerElementsWidth=390,this.attachParentSeekbar(this.parentNode),this.addListeners()},s.prototype.attachParentSeekbar=function(e){this.domElement=i.createElement("div",{classProperty:"tvp-parent-seekbar"}),e.appendChild(this.domElement),this.attachChildElements(this.domElement)},s.prototype.attachChildElements=function(e){this.option&&this.option.hasOwnProperty("controls")&&this.option.controls.hasOwnProperty("seekBar")&&this.option.controls.seekBar.hasOwnProperty("progressColor")&&this.option.controls.seekBar.progressColor&&(this.progressColor=this.option.controls.seekBar.progressColor),this.attachBGElement(e,this.progressColor),this.attachProgressElement(e,this.progressColor),this.attachSeekElement(e),this.attachEventListener()},s.prototype.attachEventListener=function(){i.isMobile(navigator.userAgent)?(i.addEventListener(this.domElement,"touchstart",this.handleSeekDown.bind(this),!0),i.addEventListener(this.domElement,"touchend",this.handleSeekUp.bind(this),!0),i.addEventListener(this.domElement,"touchmove",this.handleSeekMove.bind(this),!0),i.addEventListener(this.domElement,"touchstart",this.handleClick.bind(this),!0)):(i.addEventListener(this.domElement,"mousedown",this.handleSeekDown.bind(this),!0),i.addEventListener(this.domElement,"mouseup",this.handleSeekUp.bind(this),!0),i.addEventListener(this.domElement,"mousemove",this.handleSeekMove.bind(this),!0),i.addEventListener(this.domElement,"click",this.handleClick.bind(this),!0)),this.handleHoverEvents()},s.prototype.handleHoverEvents=function(){i.addEventListener(this.domElement,"mouseover",this.handleHover.bind(this),!0),i.addEventListener(this.domElement,"mouseout",this.handleHover.bind(this),!0)},s.prototype.attachBGElement=function(e,t){this.bgElement=i.createElement("div",{classProperty:"tvp-progress-background"}),this.bgElement.style.backgroundColor=t,e.appendChild(this.bgElement)},s.prototype.attachSeekElement=function(e){this.seekElement=i.createElement("div",{classProperty:"tvp-seek-bar"}),e.appendChild(this.seekElement),this.seekDrag=!1},s.prototype.attachProgressElement=function(e,t){this.progressElement=i.createElement("div",{classProperty:"tvp-progress-bar"}),this.progressElement.style.backgroundColor=t,e.appendChild(this.progressElement)},s.prototype.handleSeekDown=function(){this.seekDrag=!0},s.prototype.handleSeekUp=function(){this.seekDrag&&(this.seekDrag=!1)},s.prototype.handleSeekMove=function(e){this.seekDrag&&this.handleClick(e)},s.prototype.updateProgress=function(e,t,n){if(!e.player)throw new Error("No player found");var i=e.player.getCurrentTime()/e.player.getDuration()*100;t&&(i=100),"string"==typeof n&&(i=n),e.progressElement.style.width=i+"%"},s.prototype.handleMediaVideoPlaying=function(e){this.startPolling(e)},s.prototype.handleMediaVideoPaused=function(e){this.stopPolling(e)},s.prototype.handleMediaVideoEnded=function(e){this.stopPolling(e)},s.prototype.startPolling=function(e){var t=this;this.pollInterval||(this.pollInterval=window.setInterval(function(){t.updateProgress(t)},1e3))},s.prototype.handlePlayerResize=function(e){e<600?(this.domElement.style.width="100%",this.domElement.classList.remove("tvp-seekbar-desktop"),this.domElement.classList.add("tvp-seekbar-mobile"),this.progressElement.classList.add("tvp-progress-bar-hover-mobile")):(this.domElement.style.width=e-this.playerElementsWidth+"px",this.domElement.classList.remove("tvp-seekbar-mobile"),this.domElement.classList.add("tvp-seekbar-desktop"),this.progressElement.classList.remove("tvp-progress-bar-hover-mobile"))},s.prototype.stopPolling=function(e){var t=this;window.clearInterval(this.pollInterval),this.pollInterval=null,(e.type||e)==n.MEDIA_VIDEO_ENDED&&t.updateProgress(t,!0)},s.prototype.handleClick=function(e){var t=0;i.isMobile(navigator.userAgent)?e.targetTouches?t=e.targetTouches[0].pageX-this.domElement.offsetLeft:(e.offsetX||e.layerX)&&(t=e.offsetX||e.layerX):t=e.offsetX||e.layerX||0;var n=this,r=t/this.seekElement.clientWidth,o=Math.round(this.player.getDuration()*r),a=this.player.getDOMElement();this.player.seek(o),this.updateProgress(this,!1,(100*r).toString()),window.setTimeout(function(){var e=window.navigator.userAgent.indexOf("MSIE")>=0||window.navigator.appVersion.indexOf("MSIE")>=0?window.screen.deviceXDPI/window.screen.logicalXDPI:window.devicePixelRatio;n.player.resize(a.clientWidth,a.clientHeight,e||1)},250)},s.prototype.handleHover=function(e){if(!e||!this.domElement)throw new Error("No event or Seekbar found");if(this.player.getDOMElement().clientWidth>=600)switch(e.type){case"mouseover":this.bgElement.style.height=this.showHeight+"px",this.seekElement.style.height=this.showHeight+"px",this.progressElement.style.height=this.showHeight+"px",this.progressElement.classList.add("tvp-progress-bar-hover");break;case"mouseout":this.bgElement.style.height=this.hideHeight+"px",this.seekElement.style.height=this.hideHeight+"px",this.progressElement.style.height=this.hideHeight+"px",this.progressElement.classList.remove("tvp-progress-bar-hover"),this.seekDrag&&(this.seekDrag=!1)}},s.prototype.handleKeyDown=function(e){var n=this.player.getDOMElement().getElementsByClassName("tvp-ad-container");n.length>0?"none"===n[0].style.display&&(this.seekBarExtended=t.prototype.initialize(this,this.player,e)):this.seekBarExtended=t.prototype.initialize(this,this.player,e)},s}),t("utils/PlayerStateUtils",["api/PlayerState"],function(e){function t(){}(t.prototype={}).constructor=t,t.prototype.isPlaying=function(t){return t.getState()==e.PLAYING},t.prototype.isPaused=function(t){return t.getState()==e.PAUSED},t.prototype.isEnded=function(t){return t.getState()==e.ENDED||t.getState()==e.READY},t.prototype.isHD=function(e){var t=e.getQualityLevels();return t.length>1&&t[e.getQuality()].indexOf("hd")>=0},t.prototype.generateSessionId=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return("function"==typeof Date.now?Date.now():+new Date)+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};var n=null;return t.getInstance=function(){return null===n&&(n=new t),n},t.getInstance()}),t("controlbar/CtrlPlayPause",["controlbar/ControlbarComponent","utils/DOMUtils","utils/ErrorHandler","utils/ControlbarUtils","utils/PlayerStateUtils","utils/Debug"],function(e,t,n,i,r,o){function a(t,n,i,r){this.iconColor=t,this.parentNode=i,this.player=r,this.iconPositions=null,this.iconStates=null,e.apply(this,arguments)}return a.prototype=new e,a.prototype.constructor=a,a.prototype.initialize=function(){this.player&&this.parentNode&&this._attachToDom()},a.prototype._attachToDom=function(){this.domElement=t.createElement("div",{classProperty:"tvp-control-playpause tvp-controlbar-icon"}),this.iconPositions=i.applyIconImg(this.domElement,"playpause",this.iconColor),this.iconStates=this.iconPositions,this.switchIcon(),this.parentNode.appendChild(this.domElement),this.addListeners(),this.addAdListeners()},a.prototype.addAdListeners=function(){},a.prototype.handleClick=function(){this.handleVideoPlayPause(),this.handleAdPlayPause()},a.prototype.setState=function(e){if(!this.iconPositions)throw new Error("No valid iconPositions object found");switch(e){case"playing":this.switchIcon("pause");break;case"paused":this.switchIcon()}},a.prototype.handleMediaVideoPlaying=function(e){this.setState("playing")},a.prototype.handleMediaVideoPaused=function(e){this.setState("paused")},a.prototype.handleMediaVideoEnded=function(e){this.setState("paused")},a.prototype.handleAdPlayPause=function(){},a.prototype.handleVideoPlayPause=function(){var e=this.player;if(r.isPlaying(e))e.pause();else{if(r.isEnded(e)){e.seek(0);var t=e.getDOMElement();window.setTimeout(function(){e.resize(t.clientWidth,t.clientHeight)},250)}e.play()}},a.prototype.handleKeyDown=function(e){if(32===e.keyCode){e.preventDefault();var t=this.player.getDOMElement().getElementsByClassName("tvp-ad-container");t.length>0&&"block"===t[0].style.display?this.handleAdPlayPause():this.handleVideoPlayPause()}},a}),t("controlbar/CtrlTime",["controlbar/ControlbarComponent","event/EventMap","utils/DOMUtils","utils/ErrorHandler","utils/ControlbarUtils","utils/Debug","utils/DOMUtils"],function(e,t,n,i,r,o,n){function a(t,n,i,r,o){this.iconColor=t,this.parentNode=i,this.player=r,this.tvplayer=o,e.apply(this,arguments)}return a.prototype=new e,a.prototype.constructor=a,a.prototype.initialize=function(){this.player&&this.parentNode&&(this._attachToDom(),this.tvplayer.on(t.TVP_RESIZE,this.resizeTime,this))},a.prototype._attachToDom=function(){if(!this.parentNode)throw new Error("No parentNode found");this.domElement=n.createElement("div",{id:"CtrlTime",classProperty:"tvp-control-time tvp-controlbar-icon",innerText:"00:00 / 00:00"}),this.parentNode.appendChild(this.domElement),this.domElement.textContent="00:00 / 00:00",this.domElement.style.color=this.iconColor,this.resizeTime(this.player.getDOMElement().clientWidth,this.player.getDOMElement().clientHeight)},a.prototype.updateText=function(e,t,n){if(!e.player)throw new Error("No player found");var i=r.formatControlTime(e.player.getDuration()),o=r.formatControlTime(e.player.getCurrentTime());t&&(o=i),"object"==typeof n&&(o=n.currentTime,i=n.duration),e.domElement.textContent=o+" / "+i,e.domElement.innerText=o+" / "+i},a.prototype.handleMediaVideoPlaying=function(e){this.startPolling(e)},a.prototype.handleMediaVideoPaused=function(e){this.stopPolling(e)},a.prototype.handleMediaVideoEnded=function(e){this.stopPolling(e)},a.prototype.startPolling=function(e){var t=this;this.pollInterval||(this.pollInterval=window.setInterval(function(){t.updateText(t)},1e3))},a.prototype.stopPolling=function(e){var n=this;window.clearInterval(this.pollInterval),this.pollInterval=null,(e.type||e)==t.MEDIA_VIDEO_ENDED&&n.updateText(n,!0)},a.prototype.destroy=function(){this.pollInterval&&window.clearInterval(this.pollInterval)},a.prototype.setTime=function(e,t){this.updateText(this,!1,{currentTime:e,duration:t})},a.prototype.resizeTime=function(e){this.domElement&&(this.domElement.style.width=e<600?"40px":"100px")},a}),t("controlbar/CtrlVolume",["controlbar/ControlbarComponent","utils/DOMUtils","event/EventMap","utils/ControlbarUtils"],function(e,t,n,i){function r(t,n,i,r,o){this.iconColor=t,this.parentNode=i,this.player=r,this.tvplayer=o,this.btnElement=null,this.volumeContainer=null,this.currentVol=null,this.isMute=null,e.apply(this,arguments)}return r.prototype=new e,r.prototype.constructor=r,r.prototype.initialize=function(){this.player&&this.parentNode&&(this.tvplayer_model=this.player.getModel(),this.tvplayer.on(n.ADMEDIA_PAUSE_REQUESTED,this.checkLocalStorage,this),this.tvplayer.on(n.ADMEDIA_RESUME_REQUESTED,this.checkLocalStorage,this),this._attachToDom(),this.addListeners(),this.checkLocalStorage())},r.prototype.checkLocalStorage=function(){this.currentVol=this.tvplayer_model.model.get("volume")||100,"number"==typeof this.currentVol&&(this.setVolume(this.currentVol),this.setVolumeSelectorVisuals(this.currentVol),this.isMute=this.tvplayer_model.model.get("isMute"),this.isMute?this.mute():this.unmute())},r.prototype.setVolume=function(e){this.player.volume(e)},r.prototype._attachToDom=function(){this.attachContainer(),this.attachVolumeButton(),this.attachVolumeSelectorContainer()},r.prototype.attachContainer=function(){this.domElement=t.createElement("div",{classProperty:"tvp-control-volume-container"}),this.parentNode.appendChild(this.domElement)},r.prototype.attachVolumeButton=function(){this.btnElement=t.createElement("div",{classProperty:"tvp-control-volume tvp-controlbar-icon"}),this.domElement.appendChild(this.btnElement),this.iconPositions=i.applyIconImg(this.btnElement,"volume",this.iconColor),this.iconStates=this.iconPositions,this.switchIcon("",this.btnElement),t.addEventListener(this.btnElement,"click",this.handleMuteClick.bind(this),!0)},r.prototype.attachVolumeSelectorContainer=function(){this.volumeContainer=t.createElement("div",{classProperty:"tvp-control-volume-selector-container"}),this.domElement.appendChild(this.volumeContainer),this.attachVolumeHitbox(),this.attachEventListener()},r.prototype.attachVolumeHitbox=function(){this.volumeHitbox=t.createElement("div",{classProperty:"tvp-control-volume-hitbox"}),this.volumeHitbox.style.backgroundColor=this.iconColor,this.volumeContainer.appendChild(this.volumeHitbox),this.volumeHitboxSpan=t.createElement("span",{classProperty:"tvp-control-volume-hitbox-span"}),this.volumeHitboxSpan.style.backgroundColor=this.iconColor,this.volumeContainer.appendChild(this.volumeHitboxSpan),this.volumeDrag=!1},r.prototype.attachEventListener=function(){t.isMobile(navigator.userAgent)?(t.addEventListener(this.volumeContainer,"touchstart",this.handleVolumeDown.bind(this),!0),t.addEventListener(this.volumeContainer,"touchend",this.handleVolumeUp.bind(this),!0),t.addEventListener(this.volumeContainer,"touchmove",this.handleVolumeMove.bind(this),!0),t.addEventListener(this.volumeContainer,"touchstart",this.handleVolumeClick.bind(this),!0)):(t.addEventListener(this.volumeContainer,"mousedown",this.handleVolumeDown.bind(this),!0),t.addEventListener(this.volumeContainer,"mouseup",this.handleVolumeUp.bind(this),!0),t.addEventListener(this.volumeContainer,"mousemove",this.handleVolumeMove.bind(this),!0),t.addEventListener(this.volumeContainer,"mouseout",this.handleVolumeUp.bind(this),!0),t.addEventListener(this.volumeContainer,"click",this.handleVolumeClick.bind(this),!0))},r.prototype.handleVolumeDown=function(){this.volumeDrag=!0},r.prototype.handleVolumeUp=function(){this.volumeDrag&&(this.volumeDrag=!1)},r.prototype.handleVolumeMove=function(e){this.volumeDrag&&this.handleVolumeClick(e)},r.prototype.handleMuteClick=function(){this.player.isMuted()||0===this.player.getVolume()?this.unmute():this.mute()},r.prototype.unmute=function(){0===this.player.getVolume()&&(this.currentVol=100),this.setVolume(this.currentVol),this.setVolumeSelectorVisuals(this.currentVol),this.player.unmute()},r.prototype.mute=function(){this.setVolumeSelectorVisuals(0),this.player.mute()},r.prototype.handleVolumeClick=function(e){var n;n=t.isMobile(navigator.userAgent)?e.targetTouches[0].pageX-this.volumeContainer.offsetLeft||0:void 0===e.offsetX?e.layerX:e.offsetX;var i=this.volumeHitbox.clientWidth,r=Math.floor(n/i*100);r<0&&(r=0),r>100&&(r=100),r>0?this.unmute():this.mute(),this.setVolume(r),this.setVolumeSelectorVisuals(r),this.currentVol=r},r.prototype.setVolumeSelectorVisuals=function(e){this.volumeHitboxSpan.style.width=e+"%",this.handleVolIcon(e)},r.prototype.handleVolIcon=function(e){0===e?this.switchIcon("muted",this.btnElement):e<50?this.switchIcon("mid",this.btnElement):this.switchIcon("",this.btnElement)},r.prototype.updateVolume=function(e){e<0&&(e=0),e>100&&(e=100),e>0?this.unmute():this.mute(),this.setVolume(e),this.setVolumeSelectorVisuals(e),this.currentVol=e},r.prototype.handleKeyDown=function(e){if(38===e.keyCode){e.preventDefault();var t=this.currentVol+5;t>100&&(t=100),this.updateVolume(t)}if(40===e.keyCode){e.preventDefault();var n=this.currentVol-5;n<0&&(n=0),this.updateVolume(n)}77===e.keyCode&&(e.preventDefault(),this.handleMuteClick())},r}),function(e,t,n){"use strict";function i(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var n=e.getElementsByTagName("video");n[0]&&(t=n[0])}return t}function r(e){var t=i(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),f=!!t.getAttribute("controls")},!1),t.load()):(t.webkitEnterFullscreen(),f=!!t.getAttribute("controls")),d=t}catch(t){return m("not_supported",e)}return!0}return m(void 0===c.request?"not_supported":"not_enabled",e)}function o(){A.element||(v(),s())}function a(){n&&"webkitfullscreenchange"===c.change&&e.addEventListener("resize",o,!1)}function s(){n&&"webkitfullscreenchange"===c.change&&e.removeEventListener("resize",o,!1)}var l="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,u=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,c=function(){var e=t.createElement("video"),n={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},i={};for(var r in n)for(var o=0,a=n[r].length;o<a;o++)if(n[r][o]in e||n[r][o]in t||"on"+n[r][o].toLowerCase()in t){i[r]=n[r][o];break}return i}(),d=null,f=null,p=function(){},h=[],g=!1;navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(g=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var y=function(e){var t=h[h.length-1];t&&(e!==t.element&&e!==d||!t.hasEntered)&&("VIDEO"===e.tagName&&(d=e),1===h.length&&A.onenter(A.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},v=function(){!d||f||u||(d.setAttribute("controls","controls"),d.removeAttribute("controls")),d=null,f=null;var e=h.pop();e&&(e.exit.call(e.element),A.element||(h.forEach(function(e){e.exit.call(e.element)}),h=[],A.onexit()))},m=function(e,t){if(h.length>0){var n=h.pop();t=t||n.element,n.error.call(t,e),A.onerror(t,e)}},A={request:function(e,i,o,a){if(e=e||t.body,h.push({element:e,enter:i||p,exit:o||p,error:a||p}),void 0===c.request)return r(e);if(n&&!1===t[c.enabled])return r(e);if(!1!==g&&g<32)return r(e);if(n&&void 0===c.enabled)return c.enabled="webkitFullscreenEnabled",e[c.request](),void setTimeout(function(){t[c.element]?t[c.enabled]=!0:(t[c.enabled]=!1,r(e))},250);try{/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[c.request]():e[c.request](l&&Element.ALLOW_KEYBOARD_INPUT),setTimeout(function(){t[c.element]||m(n?"not_enabled":"not_allowed",e)},100)}catch(t){m("not_enabled",e)}},exit:function(){s(),t[c.exit]()},toggle:function(e,t,n,i){A.element?A.exit():A.request(e,t,n,i)},videoEnabled:function(e){if(A.enabled)return!0;var n=i(e=e||t.body);return!(!n||void 0===n.webkitSupportsFullscreen)&&(n.readyState<n.HAVE_METADATA?"maybe":n.webkitSupportsFullscreen)},onenter:p,onexit:p,onchange:p,onerror:p};try{Object.defineProperties(A,{element:{enumerable:!0,get:function(){return d&&d.webkitDisplayingFullscreen?d:t[c.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===c.exit&&!n||!(!1!==g&&g<32)&&(t[c.enabled]||!1)}}})}catch(e){A.element=null,A.enabled=!1}t.addEventListener&&(c.change&&t.addEventListener(c.change,function(e){if(A.onchange(A.element),A.element){var t=h[h.length-2];t&&t.element===A.element?v():(y(A.element),a())}else v()},!1),t.addEventListener("webkitbeginfullscreen",function(e){h.push({element:e.srcElement,enter:p,exit:p,error:p}),A.onchange(e.srcElement),y(e.srcElement)},!0),t.addEventListener("webkitendfullscreen",function(e){A.onchange(e.srcElement),v(e.srcElement)},!0),c.error&&t.addEventListener(c.error,function(e){m("not_allowed")},!1)),e.BigScreen=A}(window,document,self!==top),t("lib/bigscreen",function(){}),t("controlbar/CtrlFullscreen",["controlbar/ControlbarComponent","event/EventMap","utils/DOMUtils","utils/ErrorHandler","utils/ControlbarUtils","utils/Debug","lib/bigscreen"],function(e,t,n,i,r,o,a){function s(t,n,i,r,o){this.iconColor=t,this.parentNode=i,this.player=r,this.tvplayer=o,this.minDimensions={},e.apply(this,arguments)}return s.prototype=new e,s.prototype.constructor=s,s.prototype.initialize=function(){if(this.player&&this.parentNode&&this.tvplayer&&(this.tvplayer_model=this.player.getModel(),this._attachToDom(),"Firefox"==n.currentBrowser().browserType)){var e=this;window.addEventListener("mozfullscreenchange",function(){document.mozFullScreen?e.onFullscreenEnter():e.onFullscreenExit()},!1)}},s.prototype.onFullscreenEnter=function(){for(var e=0;e<this.tvpFullscreen.length;e++)this.switchIcon("isFullscreen",this.tvpFullscreen[e]);this.disableMinUpdate=!0,this.tvplayer.resize(window.screen.width,window.screen.height);var t=this;this.resizeOnFullscreen=function(e){t.tvplayer.resize(window.screen.width,window.screen.height)},window.addEventListener("orientationchange",this.resizeOnFullscreen)},s.prototype.onFullscreenExit=function(){for(var e=0;e<this.tvpFullscreen.length;e++)this.switchIcon("",this.tvpFullscreen[e]);this.disableMinUpdate=!0;var t=this.player.getDOMElement().parentNode;this.tvplayer.resize(t.clientWidth||300,t.clientHeight||200),this.resizeOnFullscreen&&window.removeEventListener("orientationchange",this.resizeOnFullscreen)},s.prototype.setBigScreenListeners=function(){var e=this,t=this.player.getDOMElement();this.minDimensions.width&&this.minDimensions.height||(this.minDimensions={width:t.clientWidth||300,height:t.clientHeight||200}),BigScreen.onenter=function(){e.onFullscreenEnter()},BigScreen.onexit=function(){e.onFullscreenExit()}},s.prototype._attachToDom=function(){if(BigScreen.enabled&&this.player&&this.tvplayer&&this.setBigScreenListeners(),this.domElement=n.createElement("div",{classProperty:"tvp-control-fullscreen tvp-controlbar-icon"}),this.parentNode.appendChild(this.domElement),this.iconPositions=r.applyIconImg(this.domElement,"fullscreen",this.iconColor),this.iconStates=this.iconPositions,this.playerElement=this.player.getDOMElement(),this.tvpFullscreen=this.playerElement.getElementsByClassName("tvp-control-fullscreen"),window.innerHeight==screen.height)for(e=0;e<this.tvpFullscreen.length;e++)this.switchIcon("isFullscreen",this.tvpFullscreen[e]);else for(var e=0;e<this.tvpFullscreen.length;e++)this.switchIcon("",this.tvpFullscreen[e]);this.addListeners()},s.prototype.handleClick=function(e){BigScreen.enabled&&BigScreen.toggle(this.player.getDOMElement())},s.prototype.handlePlayerResize=function(e,t){this.disableMinUpdate||(this.minDimensions={width:e,height:t}),this.disableMinUpdate=!1},s.prototype.handleKeyDown=function(e){70===e.keyCode&&(e.preventDefault(),this.handleClick())},s}),t("controlbar/ClosedCaptions/AbstractClosedCaption",["event/EventDispatcher","utils/DOMUtils"],function(e,t){function n(t,n,i,r,o,a,s){this.tvplayer=t,this.playerInterface=n,this.parentNode=i,this.video=r,this.domElement=o,this.domImage=a,this.defaultCaption=null,e.apply(this,arguments),this.initialize(),this.holderMargin=10,this.listEleHeight=40}return n.prototype=new e,n.prototype.constructor=n,n.prototype.initialize=function(){},n.prototype.handlePlayerResize=function(){void 0!==this.numberOfTracks&&this.positionSubtitlesMenu(this.numberOfTracks)},n.prototype.initializeSettingsAttr=function(){this.settingsHolder=this.parentNode.getElementsByClassName("tvp-settings-holder")[0],this.settingsHolder.style.display="none",this.ccSettingsBlock=this.parentNode.getElementsByClassName("tvp-settings-block-cc")[0],this.ccHolder=this.parentNode.getElementsByClassName("tvp-settings-cc-holder")[0],this.activeCCText=this.parentNode.getElementsByClassName("tvp-settings-cc-active")[0]},n.prototype.createMenuItem=function(e,t,n){var i=document.createElement("li"),r=i.appendChild(document.createElement("button")),o=this;r.setAttribute("id",e),r.className="subtitles-button-"+t;var a;return a="Closed Captions"==n?n:n.split(" ")[0],r.value=a,t.length>0?(r.setAttribute("lang",t),r.setAttribute("data-state","inactive")):(r.className="subtitles-button-off",r.setAttribute("data-state","active"),o.activeCCText.innerHTML=r.value),r.appendChild(document.createTextNode(a)),this.bindButtonClick(r),o.subtitleMenuButtons.push(r),i},n.prototype.positionSubtitlesMenu=function(e){this.numberOfTracks=e;var n=(this.numberOfTracks+2)*this.listEleHeight;t.positionMenu(n,this.listEleHeight,this.holderMargin,this.ccHolder,this.playerInterface)},n.prototype.addNoCaptionTooltip=function(){this.noCaptionTooltip=t.createElement("div",{classProperty:"tvp-no-caption"}),this.noCaptionTooltip.innerHTML="Closed Captions Not Available",this.domElement.appendChild(this.noCaptionTooltip),this.ccSettingsBlock.style.display="none",this.domImage.classList.contains("tvp-caption-active")&&this.domImage.classList.remove("tvp-caption-active")},n.prototype.handleClick=function(){if(this.settingsHolder.style.display="none",this.ccHolder.style.display="none",this.domImage.classList.contains("tvp-caption-active"))this.ccHolder.getElementsByClassName("subtitles-button-off")[0].click(),this.showCaption=!0;else if(this.showCaption){var e="subtitles-button-"+this.tvplayer_model.model.get("cclangprev");this.ccHolder.getElementsByClassName(e)[0].click(),this.showCaption=!1}else{var t="subtitles-button-"+this.defaultCaption;t&&this.ccHolder.getElementsByClassName(t).length>0&&this.ccHolder.getElementsByClassName(t)[0].click()}this.noCaptionTooltip&&(this.noCaptionTooltip.style.display="block"===this.noCaptionTooltip.style.display?"none":"block")},n.prototype.handleHeaderClick=function(){this.ccHolder.style.display="none",this.settingsHolder.style.display="block"},n.prototype.handleOffClick=function(e,t){"subtitles-off"===e.id&&(void 0!==t&&t.unloadModule("captions"),e.setAttribute("data-state","active"),this.activeCCText.innerHTML=e.value,this.domImage.classList.contains("tvp-caption-active")&&this.domImage.classList.remove("tvp-caption-active"))},n}),function(e){function t(e){return"string"==typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function n(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function r(e,r,a){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=e,p=r,h=a,g=null,y="",v=!0,m="auto",A="start",_=50,E="middle",T=50,M="middle";return Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return y},set:function(e){var n=t(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");y=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return A},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return _},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return E},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return T},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return M},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");M=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var o="auto",a={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=r||e.VTTCue}(this),function(e){function t(e){return"string"==typeof e&&(!!i[e.toLowerCase()]&&e.toLowerCase())}function n(e){return"number"==typeof e&&e>=0&&100>=e}var i={"":!0,up:!0};e.VTTRegion=e.VTTRegion||function(){var e=100,i=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=t(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");l=n}}})}}(this),function(e){function t(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}function n(e,n,i){switch(i){case"webvtt.font.color":case"webvtt.font.opacity":var r=Services.prefs.getCharPref("webvtt.font.color"),o=Services.prefs.getIntPref("webvtt.font.opacity")/100;m.fontSet=t(r,o);break;case"webvtt.font.scale":v=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var a=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100;m.backgroundSet=t(a,s);break;case"webvtt.edge.color":case"webvtt.edge.type":var l=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "],u=Services.prefs.getIntPref("webvtt.edge.type"),c=Services.prefs.getCharPref("webvtt.edge.color");m.edgeSet=l[u]+t(c)}}function i(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=A(null)}function a(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&t(a[0],a[1])}}function s(e,t,n){function s(){var t=r(e);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}var u=e;if(l(),t.startTime=s(),l(),"--\x3e"!==e.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);e=e.substr(3),l(),t.endTime=s(),l(),function(e,t){var i=new o;a(e,function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical",""),t.line=i.get("line","auto"),t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align","middle"),t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}function l(e,t){function n(e){return _[e]}for(var i,o=e.document.createElement("div"),a=o,s=[];null!==(i=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]+>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==i[0])a.appendChild(e.document.createTextNode(function(e){for(;c=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(c[0],n);return e}(i)));else{if("/"===i[1]){s.length&&s[s.length-1]===i.substr(2).replace(">","")&&(s.pop(),a=a.parentNode);continue}var l,u=r(i.substr(1,i.length-2));if(u){l=e.document.createProcessingInstruction("timestamp",u),a.appendChild(l);continue}var c=i.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(l=function(t,n){var i=E[t];if(!i)return null;var r=e.document.createElement(i);r.localName=i;var o=T[t];return o&&n&&(r[o]=n.trim()),r}(c[1],c[3])))continue;if(!function(e,t){return!M[t.localName]||M[t.localName]===e.localName}(a,l))continue;c[2]&&(l.className=c[2].substr(1).replace("."," ")),s.push(c[1]),a.appendChild(l),a=l}return o}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var i=e.pop(),r=i.textContent||i.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):r}return"ruby"===i.tagName?n(e):i.childNodes?(t(e,i),n(e)):void 0}var i,r=[],o="";if(!e||!e.childNodes)return"ltr";for(t(r,e);o=n(r);)for(var a=0;a<o.length;a++){i=o.charCodeAt(a);for(var s=0;s<b.length;s++)if(b[s]===i)return"rtl"}return"ltr"}function c(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}function d(){}function f(e,t,n){var i="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)",a="";void 0!==m&&(r=m.fontSet,o=m.backgroundSet,a=m.edgeSet),i&&(r="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),d.call(this),this.cue=t,this.cueDiv=l(e,t.text);var s={color:r,backgroundColor:o,textShadow:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(s.direction=u(this.cueDiv),s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function p(e){var t,n,i,r,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function h(e,t,n,i){var r=new p(t),o=t.cue,a=c(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=r.lineHeight,d=u*Math.round(a),f=n[l]+u,h=s[0];Math.abs(d)>f&&(d=0>d?-1:1,d*=Math.ceil(f/u)*u),0>a&&(d+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,d)}else{var g=r.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=g/2;break;case"end":a-=g}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new p(t)}var y=function(e,t){for(var r,o=new p(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(r=new p(e),a=l),e=new p(o)}return r||o}(r,s);t.move(y.toCSSCompatValues(n))}function g(){}var y=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"],v=1;if("undefined"!=typeof Services){var m={};y.forEach(function(e){n(void 0,void 0,e),Services.prefs.addObserver(e,n,!1)})}var A=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();i.prototype=A(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&100>=t)&&(this.set(e,t),!0)}};var _={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},E={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},T={v:"title",lang:"lang"},M={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];d.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},d.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(f.prototype=A(d.prototype)).constructor=f,p.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},p.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},p.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},p.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},p.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},p.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},p.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},p.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},g.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},g.convertCueToDOMTree=function(e,t){return e&&t?l(e,t):null};g.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=p.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100*v+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new f(e,s,a),i.appendChild(n.div),h(e,n,o,r),s.displayState=n.div,r.push(p.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},(g.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof i))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=r.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}function n(e){var t=new o;if(a(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new o;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new r.window.VTTRegion;n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),r.onregion&&r.onregion(n),r.regionList.push({id:t.get("id"),region:n})}}var r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var u=(l=t()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new i(i.Errors.BadSignature);r.state="HEADER"}for(var c=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(c?c=!1:l=t(),r.state){case"HEADER":/:/.test(l)?a(l,function(e,t){switch(e){case"Region":n(t)}},/:/):l||(r.state="ID");continue;case"NOTE":l||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){r.state="NOTE";break}if(!l)continue;if(r.cue=new r.window.VTTCue(0,0,""),r.state="CUE",-1===l.indexOf("--\x3e")){r.cue.id=l;continue}case"CUE":try{s(l,r.cue,r.regionList)}catch(e){r.reportOrThrowError(e),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var d=-1!==l.indexOf("--\x3e");if(!l||d&&(c=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=l;continue;case"BADCUE":l||(r.state="ID");continue}}}catch(e){r.reportOrThrowError(e),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new i(i.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.WebVTT=g}(this),"undefined"!=typeof module&&module.exports&&(this["encoding-indexes"]=i("./encoding-indexes.js")["encoding-indexes"]),function(e){"use strict";function t(e,t,n){return e>=t&&n>=e}function n(e,t){return Math.floor(e/t)}function i(e){var t=0;this.get=function(){return t>=e.length?U:Number(e[t])},this.offset=function(n){if(0>(t+=n))throw new Error("Seeking past start of the buffer");if(t>e.length)throw new Error("Seeking past EOF")},this.match=function(n){if(n.length>t+e.length)return!1;var i;for(i=0;i<n.length;i+=1)if(Number(e[t+i])!==n[i])return!1;return!0}}function r(e){var t=0;this.emit=function(n){var i,r=U;for(i=0;i<arguments.length;++i)r=Number(arguments[i]),e[t++]=r;return r}}function o(e){var n=0,i=function(e){for(var n=[],i=0,r=e.length;i<e.length;){var o=e.charCodeAt(i);if(t(o,55296,57343))if(t(o,56320,57343))n.push(65533);else if(i===r-1)n.push(65533);else{var a=e.charCodeAt(i+1);if(t(a,56320,57343)){var s=1023&o,l=1023&a;i+=1,n.push(65536+(s<<10)+l)}else n.push(65533)}else n.push(o);i+=1}return n}(e);this.offset=function(e){if(0>(n+=e))throw new Error("Seeking past start of the buffer");if(n>i.length)throw new Error("Seeking past EOF")},this.get=function(){return n>=i.length?B:i[n]}}function a(){var e="";this.string=function(){return e},this.emit=function(t){65535>=t?e+=String.fromCharCode(t):(t-=65536,e+=String.fromCharCode(55296+(t>>10&1023)),e+=String.fromCharCode(56320+(1023&t)))}}function s(e){this.name="EncodingError",this.message=e,this.code=0}function l(e,t){if(e)throw new s("Decoder error");return t||65533}function u(e){throw new s("The code point "+e+" could not be encoded.")}function c(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(Y,e)?Y[e]:null}function d(e,t){return t?t[e]||null:null}function f(e,t){var n=t.indexOf(e);return-1===n?null:n}function p(t){if(!("encoding-indexes"in e))throw new Error("Indexes missing. Did you forget to include encoding-indexes.js?");return e["encoding-indexes"][t]}function h(e){if(e>39419&&189e3>e||e>1237575)return null;var t,n=0,i=0,r=p("gb18030");for(t=0;t<r.length;++t){var o=r[t];if(!(o[0]<=e))break;n=o[0],i=o[1]}return i+e-n}function g(e){var t,n=0,i=0,r=p("gb18030");for(t=0;t<r.length;++t){var o=r[t];if(!(o[1]<=e))break;n=o[1],i=o[0]}return i+e-n}function y(e,t){if(!(this instanceof y))return new y(e,t);if(e=e?String(e):Q,t=Object(t),this._encoding=c(e),null===this._encoding||"replacement"===this._encoding.name)throw new TypeError("Unknown encoding: "+e);if(!this._encoding.getDecoder)throw new Error("Decoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this}function v(e,t){if(!(this instanceof v))return new v(e,t);e=e?String(e):Q,t=Object(t),this._encoding=c(e);var n=t.NONSTANDARD_allowLegacyEncoding,i="utf-8"!==this._encoding.name&&"utf-16le"!==this._encoding.name&&"utf-16be"!==this._encoding.name;if(null===this._encoding||i&&!n)throw new TypeError("Unknown encoding: "+e);if(!this._encoding.getEncoder)throw new Error("Encoder not present. Did you forget to include encoding-indexes.js?");return this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this}function m(e){var n=e.fatal,i=0,r=0,o=0,a=0;this.decode=function(e){var s=e.get();if(s===U)return 0!==r?l(n):B;if(e.offset(1),0===r){if(t(s,0,127))return s;if(t(s,194,223))r=1,a=128,i=s-192;else if(t(s,224,239))r=2,a=2048,i=s-224;else{if(!t(s,240,244))return l(n);r=3,a=65536,i=s-240}return i*=Math.pow(64,r),null}if(!t(s,128,191))return i=0,r=0,o=0,a=0,e.offset(-1),l(n);if(o+=1,i+=(s-128)*Math.pow(64,r-o),o!==r)return null;var u=i,c=a;return i=0,r=0,o=0,a=0,t(u,c,1114111)&&!t(u,55296,57343)?u:l(n)}}function A(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,55296,57343))return u(r);if(t(r,0,127))return e.emit(r);var o,a;t(r,128,2047)?(o=1,a=192):t(r,2048,65535)?(o=2,a=224):t(r,65536,1114111)&&(o=3,a=240);for(var s=e.emit(n(r,Math.pow(64,o))+a);o>0;){var l=n(r,Math.pow(64,o-1));s=e.emit(128+l%64),o-=1}return s}}function _(e,n){var i=n.fatal;this.decode=function(n){var r=n.get();if(r===U)return B;if(n.offset(1),t(r,0,127))return r;var o=e[r-128];return null===o?l(i):o}}function E(e,n){n.fatal,this.encode=function(n,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,127))return n.emit(r);var o=f(r,e);return null===o&&u(r),n.emit(o+128)}}function T(e){var n=e.fatal,i=0,r=0,o=0;this.decode=function(e){var a=e.get();if(a===U&&0===i&&0===r&&0===o)return B;a!==U||0===i&&0===r&&0===o||(i=0,r=0,o=0,l(n)),e.offset(1);var s;if(0!==o)return s=null,t(a,48,57)&&(s=h(10*(126*(10*(i-129)+(r-48))+(o-129))+a-48)),i=0,r=0,o=0,null===s?(e.offset(-3),l(n)):s;if(0!==r)return t(a,129,254)?(o=a,null):(e.offset(-2),i=0,r=0,l(n));if(0!==i){if(t(a,48,57))return r=a,null;var u=i,c=null;i=0;var f=127>a?64:65;return(t(a,64,126)||t(a,128,254))&&(c=190*(u-129)+(a-f)),s=null===c?null:d(c,p("gb18030")),null===c&&e.offset(-1),null===s?l(n):s}return t(a,0,127)?a:128===a?8364:t(a,129,254)?(i=a,null):l(n)}}function M(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,127))return e.emit(r);var o=f(r,p("gb18030"));if(null!==o){var a=n(o,190)+129,s=o%190,l=63>s?64:65;return e.emit(a,s+l)}var u=n(n(n(o=g(r),10),126),10),c=n(n(o-=10*u*126*10,10),126),d=n(o-=10*c*126,10),h=o-10*d;return e.emit(u+129,c+48,d+129,h+48)}}function b(e){var n=e.fatal,i=!1,r=0;this.decode=function(e){var o=e.get();if(o===U&&0===r)return B;if(o===U&&0!==r)return r=0,l(n);if(e.offset(1),126===r)return r=0,123===o?(i=!0,null):125===o?(i=!1,null):126===o?126:10===o?null:(e.offset(-1),l(n));if(0!==r){var a=r;r=0;var s=null;return t(o,33,126)&&(s=d(190*(a-1)+(o+63),p("gb18030"))),10===o&&(i=!1),null===s?l(n):s}return 126===o?(r=126,null):i?t(o,32,127)?(r=o,null):(10===o&&(i=!1),l(n)):t(o,0,127)?o:l(n)}}function I(e){var i=(e.fatal,!1);this.encode=function(e,r){var o=r.get();if(o===B)return U;if(r.offset(1),t(o,0,127)&&i)return r.offset(-1),i=!1,e.emit(126,125);if(126===o)return e.emit(126,126);if(t(o,0,127))return e.emit(o);if(!i)return r.offset(-1),i=!0,e.emit(126,123);var a=f(o,p("gb18030"));if(null===a)return u(o);var s=n(a,190)+1,l=a%190-63;return t(s,33,126)&&t(l,33,126)?e.emit(s,l):u(o)}}function C(e){var n=e.fatal,i=0,r=null;this.decode=function(e){if(null!==r){var o=r;return r=null,o}var a=e.get();if(a===U&&0===i)return B;if(a===U&&0!==i)return i=0,l(n);if(e.offset(1),0!==i){var s=i,u=null;i=0;var c=127>a?64:98;if((t(a,64,126)||t(a,161,254))&&(u=157*(s-129)+(a-c)),1133===u)return r=772,202;if(1135===u)return r=780,202;if(1164===u)return r=772,234;if(1166===u)return r=780,234;var f=null===u?null:d(u,p("big5"));return null===u&&e.offset(-1),null===f?l(n):f}return t(a,0,127)?a:t(a,129,254)?(i=a,null):l(n)}}function D(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,127))return e.emit(r);var o=f(r,p("big5"));if(null===o)return u(r);var a=n(o,157)+129,s=o%157,l=63>s?64:98;return e.emit(a,s+l)}}function S(e){var n=e.fatal,i=0,r=0;this.decode=function(e){var o=e.get();if(o===U)return 0===i&&0===r?B:(i=0,r=0,l(n));e.offset(1);var a,s;return 0!==r?(a=r,r=0,s=null,t(a,161,254)&&t(o,161,254)&&(s=d(94*(a-161)+o-161,p("jis0212"))),t(o,161,254)||e.offset(-1),null===s?l(n):s):142===i&&t(o,161,223)?(i=0,65377+o-161):143===i&&t(o,161,254)?(i=0,r=o,null):0!==i?(a=i,i=0,s=null,t(a,161,254)&&t(o,161,254)&&(s=d(94*(a-161)+o-161,p("jis0208"))),t(o,161,254)||e.offset(-1),null===s?l(n):s):t(o,0,127)?o:142===o||143===o||t(o,161,254)?(i=o,null):l(n)}}function w(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,127))return e.emit(r);if(165===r)return e.emit(92);if(8254===r)return e.emit(126);if(t(r,65377,65439))return e.emit(142,r-65377+161);var o=f(r,p("jis0208"));if(null===o)return u(r);var a=n(o,94)+161,s=o%94+161;return e.emit(a,s)}}function N(e){var n=e.fatal,i={ASCII:0,escape_start:1,escape_middle:2,escape_final:3,lead:4,trail:5,Katakana:6},r=i.ASCII,o=!1,a=0;this.decode=function(e){var s=e.get();switch(s!==U&&e.offset(1),r){default:case i.ASCII:return 27===s?(r=i.escape_start,null):t(s,0,127)?s:s===U?B:l(n);case i.escape_start:return 36===s||40===s?(a=s,r=i.escape_middle,null):(s!==U&&e.offset(-1),r=i.ASCII,l(n));case i.escape_middle:var u=a;return a=0,36!==u||64!==s&&66!==s?36===u&&40===s?(r=i.escape_final,null):40!==u||66!==s&&74!==s?40===u&&73===s?(r=i.Katakana,null):(s===U?e.offset(-1):e.offset(-2),r=i.ASCII,l(n)):(r=i.ASCII,null):(o=!1,r=i.lead,null);case i.escape_final:return 68===s?(o=!0,r=i.lead,null):(s===U?e.offset(-2):e.offset(-3),r=i.ASCII,l(n));case i.lead:return 10===s?(r=i.ASCII,l(n,10)):27===s?(r=i.escape_start,null):s===U?B:(a=s,r=i.trail,null);case i.trail:if(r=i.lead,s===U)return l(n);var c=null,f=94*(a-33)+s-33;return t(a,33,126)&&t(s,33,126)&&(c=!1===o?d(f,p("jis0208")):d(f,p("jis0212"))),null===c?l(n):c;case i.Katakana:return 27===s?(r=i.escape_start,null):t(s,33,95)?65377+s-33:s===U?B:l(n)}}}function O(e){var i=(e.fatal,{ASCII:0,lead:1,Katakana:2}),r=i.ASCII;this.encode=function(e,o){var a=o.get();if(a===B)return U;if(o.offset(1),(t(a,0,127)||165===a||8254===a)&&r!==i.ASCII)return o.offset(-1),r=i.ASCII,e.emit(27,40,66);if(t(a,0,127))return e.emit(a);if(165===a)return e.emit(92);if(8254===a)return e.emit(126);if(t(a,65377,65439)&&r!==i.Katakana)return o.offset(-1),r=i.Katakana,e.emit(27,40,73);if(t(a,65377,65439))return e.emit(a-65377-33);if(r!==i.lead)return o.offset(-1),r=i.lead,e.emit(27,36,66);var s=f(a,p("jis0208"));if(null===s)return u(a);var l=n(s,94)+33,c=s%94+33;return e.emit(l,c)}}function P(e){var n=e.fatal,i=0;this.decode=function(e){var r=e.get();if(r===U&&0===i)return B;if(r===U&&0!==i)return i=0,l(n);if(e.offset(1),0!==i){var o=i;if(i=0,t(r,64,126)||t(r,128,252)){var a=127>r?64:65,s=d(188*(o-(160>o?129:193))+r-a,p("jis0208"));return null===s?l(n):s}return e.offset(-1),l(n)}return t(r,0,128)?r:t(r,161,223)?65377+r-161:t(r,129,159)||t(r,224,252)?(i=r,null):l(n)}}function x(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,128))return e.emit(r);if(165===r)return e.emit(92);if(8254===r)return e.emit(126);if(t(r,65377,65439))return e.emit(r-65377+161);var o=f(r,p("jis0208"));if(null===o)return u(r);var a=n(o,188),s=31>a?129:193,l=o%188,c=63>l?64:65;return e.emit(a+s,l+c)}}function R(e){var n=e.fatal,i=0;this.decode=function(e){var r=e.get();if(r===U&&0===i)return B;if(r===U&&0!==i)return i=0,l(n);if(e.offset(1),0!==i){var o=i,a=null;if(i=0,t(o,129,198)){var s=178*(o-129);t(r,65,90)?a=s+r-65:t(r,97,122)?a=s+26+r-97:t(r,129,254)&&(a=s+26+26+r-129)}t(o,199,253)&&t(r,161,254)&&(a=12460+94*(o-199)+(r-161));var u=null===a?null:d(a,p("euc-kr"));return null===a&&e.offset(-1),null===u?l(n):u}return t(r,0,127)?r:t(r,129,253)?(i=r,null):l(n)}}function L(e){e.fatal,this.encode=function(e,i){var r=i.get();if(r===B)return U;if(i.offset(1),t(r,0,127))return e.emit(r);var o=f(r,p("euc-kr"));if(null===o)return u(r);var a,s;if(12460>o){a=n(o,178)+129;var l=26>(s=o%178)?65:52>s?71:77;return e.emit(a,s+l)}return o-=12460,a=n(o,94)+199,s=o%94+161,e.emit(a,s)}}function k(e,n){var i=n.fatal,r=null,o=null;this.decode=function(n){var a=n.get();if(a===U&&null===r&&null===o)return B;if(a===U&&(null!==r||null!==o))return l(i);if(n.offset(1),null===r)return r=a,null;var s;if(s=e?(r<<8)+a:(a<<8)+r,r=null,null!==o){var u=o;return o=null,t(s,56320,57343)?65536+1024*(u-55296)+(s-56320):(n.offset(-2),l(i))}return t(s,55296,56319)?(o=s,null):t(s,56320,57343)?l(i):s}}function j(e,i){i.fatal,this.encode=function(i,r){function o(t){var n=t>>8,r=255&t;return e?i.emit(n,r):i.emit(r,n)}var a=r.get();if(a===B)return U;if(r.offset(1),t(a,55296,57343)&&u(a),65535>=a)return o(a);var s=(a-65536)%1024+56320;return o(n(a-65536,1024)+55296),o(s)}}function F(e){e.fatal,this.decode=function(e){var n=e.get();return n===U?B:(e.offset(1),t(n,0,127)?n:63360+n-128)}}function z(e,n){n.fatal,this.encode=function(e,n){var i=n.get();return i===B?U:(n.offset(1),t(i,0,127)?e.emit(i):t(i,63360,63487)?e.emit(i-63360+128):void u(i))}}var U=-1,B=-1;s.prototype=Error.prototype;var V=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"iso-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"iso-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"iso-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"iso-8859-8-i"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"iso-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb18030","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"utf-16be"},{labels:["utf-16","utf-16le"],name:"utf-16le"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],H={},Y={};V.forEach(function(e){e.encodings.forEach(function(e){H[e.name]=e,e.labels.forEach(function(t){Y[t]=e})})});var Q="utf-8";y.prototype={decode:function(e,t){if(e&&!("buffer"in e&&"byteOffset"in e&&"byteLength"in e))throw new TypeError("Expected ArrayBufferView");e||(e=new Uint8Array(0)),t=Object(t),this._streaming||(this._decoder=this._encoding.getDecoder(this._options),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,r=new i(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),o=new a;r.get()!==U;)null!==(n=this._decoder.decode(r))&&n!==B&&o.emit(n);if(!this._streaming){do{null!==(n=this._decoder.decode(r))&&n!==B&&o.emit(n)}while(n!==B&&r.get()!=U);this._decoder=null}var s=o.string();return!this._BOMseen&&s.length&&(this._BOMseen=!0,-1!==["utf-8","utf-16le","utf-16be"].indexOf(this.encoding)&&65279===s.charCodeAt(0)&&(s=s.substring(1))),s}},v.prototype={encode:function(e,t){e=e?String(e):"",t=Object(t),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(t.stream);for(var n=[],i=new r(n),a=new o(e);a.get()!==B;)this._encoder.encode(i,a);if(!this._streaming){var s;do{s=this._encoder.encode(i,a)}while(s!==U);this._encoder=null}return new Uint8Array(n)}},H["utf-8"].getEncoder=function(e){return new A(e)},H["utf-8"].getDecoder=function(e){return new m(e)},"encoding-indexes"in e&&V.forEach(function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach(function(e){var t=p(e.name);e.getDecoder=function(e){return new _(t,e)},e.getEncoder=function(e){return new E(t,e)}})}),H.gb18030.getEncoder=function(e){return new M(e)},H.gb18030.getDecoder=function(e){return new T(e)},H["hz-gb-2312"].getEncoder=function(e){return new I(e)},H["hz-gb-2312"].getDecoder=function(e){return new b(e)},H.big5.getEncoder=function(e){return new D(e)},H.big5.getDecoder=function(e){return new C(e)},H["euc-jp"].getEncoder=function(e){return new w(e)},H["euc-jp"].getDecoder=function(e){return new S(e)},H["iso-2022-jp"].getEncoder=function(e){return new O(e)},H["iso-2022-jp"].getDecoder=function(e){return new N(e)},H.shift_jis.getEncoder=function(e){return new x(e)},H.shift_jis.getDecoder=function(e){return new P(e)},H["euc-kr"].getEncoder=function(e){return new L(e)},H["euc-kr"].getDecoder=function(e){return new R(e)},H["utf-16be"].getEncoder=function(e){return new j(!0,e)},H["utf-16be"].getDecoder=function(e){return new k(!0,e)},H["utf-16le"].getEncoder=function(e){return new j(!1,e)},H["utf-16le"].getDecoder=function(e){return new k(!1,e)},H["x-user-defined"].getEncoder=function(e){return new z(!1,e)},H["x-user-defined"].getDecoder=function(e){return new F(!1,e)},"TextEncoder"in e||(e.TextEncoder=v),"TextDecoder"in e||(e.TextDecoder=y)}(this),t("vtt",function(){}),t("controlbar/ClosedCaptions/ClosedCaptionMP4Emulator",["controlbar/ClosedCaptions/AbstractClosedCaption","event/EventMap","vtt"],function(e,t){function n(e,n,i,r){this.tvplayer=e,this.player=n,this.video=i,this.domImage=r,this.cues=[],this.tvplayer.on(t.MEDIA_VIDEO_PLAYING,this.handleMediaVideoPlaying,this),this.tvplayer.on(t.MEDIA_VIDEO_PAUSED,this.handleMediaVideoPaused,this),this.tvplayer.on(t.MEDIA_VIDEO_ENDED,this.handleMediaVideoEnded,this),this.domElement=this.player.getDOMElement(),this.tvpVttHolder=this.domElement.getElementsByClassName("tvpVTTHolder")[0]}return n.prototype=new e,n.prototype.constructor=n,n.prototype.showEmulatorTracks=function(e,t,n){for(var i=this.video.cc,r=0;r<i.length;r++)i[r].srclang===t.getAttribute("lang")?(this.setVtt(i[r].src),t.setAttribute("data-state","active"),this.domImage.classList.add("tvp-caption-active"),e.innerHTML=n.value):this.setVtt(null)},n.prototype.setVtt=function(e){var t=new WebVTT.Parser(window,WebVTT.StringDecoder()),n=[],i=[];t.oncue=function(e){n.push(e)},t.onregion=function(e){i.push(e)};var r=new XMLHttpRequest,o=this;e?(r.open("GET",e),r.onreadystatechange=function(){r.responseText&&(t.parse(r.responseText),t.flush(),o.cues=n)},r.send()):o.cues=null},n.prototype.handleMediaVideoPlaying=function(e){this.startPolling(e)},n.prototype.handleMediaVideoPaused=function(e){this.stopPolling(!1)},n.prototype.handleMediaVideoEnded=function(e){this.stopPolling(!0)},n.prototype.startPolling=function(e){var t=this;this.pollInterval||(this.pollInterval=window.setInterval(function(){t.showCaptions(!0)},500))},n.prototype.stopPolling=function(e){var t=this;window.clearInterval(this.pollInterval),this.pollInterval=null,e&&t.showCaptions(!1)},n.prototype.showCaptions=function(e){var t=[];if(WebVTT.processCues(window,t,this.tvpVttHolder),e&&this.cues&&this.cues.length>0){for(var n=this.player.getCurrentTime(),i=[],r=0,o=this.cues.length;r<o;r++){var a=this.cues[r];a.startTime<=n&&a.endTime>=n?i.push(a):a.startTime===a.endTime&&a.startTime<=n&&a.startTime+.5>=n&&i.push(a)}var s=[],l=[];i.length>0&&(l=i.pop(),s.push(l)),WebVTT.processCues(window,s,this.tvpVttHolder)}},n}),t("controlbar/ClosedCaptions/ClosedCaptionMP4",["controlbar/ClosedCaptions/AbstractClosedCaption","controlbar/ClosedCaptions/ClosedCaptionMP4Emulator","event/EventMap","utils/DOMUtils","utils/BrowserUtils"],function(e,t,n,i,r){function o(t,n,i,r,o,a,s){this.tvplayer=t,this.html5player=n,this.parentNode=i,this.video=r,this.domElement=o,this.domImage=a,this.playerOptions=s,this.tvplayer_model=n.getModel(),this.defaultCaption=null,e.apply(this,arguments)}return o.prototype=new e,o.prototype.constructor=o,o.prototype.initialize=function(){this.initializeSettingsAttr(),this.html5player.off(n.MEDIA_CCCLICK).on(n.MEDIA_CCCLICK,this.handleClick,this),void 0!==this.video.sources[0]&&(this.triggered=!1,this.html5player.off(n.MEDIA_LOADCAPTIONMP4).on(n.MEDIA_LOADCAPTIONMP4,this.handleCloseCaption,this)),this.tvplayer.on(n.TVP_RESIZE,this.handlePlayerResize,this),this.useEmulator=!1,this.playerOptions&&this.playerOptions.hasOwnProperty("controls")&&this.playerOptions.controls.hasOwnProperty("cc")&&this.playerOptions.controls.cc.hasOwnProperty("useEmulator")&&(this.useEmulator=this.playerOptions.controls.cc.useEmulator),r.isNativeTextTracksSupported()&&!this.useEmulator||(this.emulator=new t(this.tvplayer,this.html5player,this.video,this.domImage))},o.prototype.hideTracks=function(){for(var e=0;e<this.videoElm.textTracks.length;e++)this.videoElm.textTracks[e].mode="hidden"},o.prototype.bindButtonClick=function(e){var t=this;e.addEventListener("click",function(){if("tvp-cc-text"!==this.id){t.subtitleMenuButtons.map(function(e,n){t.subtitleMenuButtons[n].setAttribute("data-state","inactive")});var n=this.getAttribute("lang");null!==n&&t.tvplayer_model.setLocalStorage("cclangprev",n),t.tvplayer_model.setLocalStorage("cclang",n),!r.isNativeTextTracksSupported()||t.useEmulator?t.emulator.showEmulatorTracks(t.activeCCText,this,e):t.showNativeTracks(n,this,e),t.handleOffClick(e),t.ccHolder.style.display="none"}else t.handleHeaderClick()})},o.prototype.showNativeTracks=function(e,t,n){for(var i=0;i<this.videoElm.textTracks.length;i++)this.videoElm.textTracks[i].language===e?(this.videoElm.textTracks[i].mode="showing",t.setAttribute("data-state","active"),this.domImage.classList.add("tvp-caption-active"),this.activeCCText.innerHTML=n.value):this.videoElm.textTracks[i].mode="hidden"},o.prototype.handleCloseCaption=function(e){if(this.tvplayer_model.model.get("cclang")||(this.triggered=!1),!this.triggered){if(i.removeChild(e),i.removeChild(this.ccHolder),i.removeChild(this.domElement),this.videoElm=e,void 0!==this.video.cc&&this.video.cc&&this.video.cc.length>0){var t=this.video.cc;this.currentSource=this.video.sources[0];var n=i.createElement("source",{src:this.currentSource.file});this.videoElm.appendChild(n);for(var r=0;r<t.length;r++)this.track=i.createElement("track",{kind:"subtitles",label:t[r].label,srclang:t[r].srclang,src:t[r].src}),1==t[r].default&&(this.track.default=!0,this.defaultCaption=t[r].srclang),this.videoElm.appendChild(this.track);this.hideTracks(),this.ccSettingsBlock.style.display="block"}else this.addNoCaptionTooltip();this.handleSubtitlesMenu(),this.triggered=!0}},o.prototype.handleSubtitlesMenu=function(){if(this.subtitleMenuButtons=[],this.ccHolder.appendChild(this.createMenuItem("tvp-cc-text","closedcaption","Closed Captions")),this.ccHolder.appendChild(this.createMenuItem("subtitles-off","","Off")),this.trackLength=this.videoElm.textTracks.length||0,this.trackLength>0){for(var e=0;e<this.trackLength;e++)this.videoElm.textTracks[e].language.length>0&&this.ccHolder.appendChild(this.createMenuItem("subtitles-"+this.videoElm.textTracks[e].language,this.videoElm.textTracks[e].language,this.videoElm.textTracks[e].label));if(null!==this.tvplayer_model.model.get("cclang"))for(var t=this.tvplayer_model.model.get("cclang"),n=0;n<this.trackLength;n++)if(this.videoElm.textTracks[n].language===t){var i="subtitles-button-"+t;this.ccHolder.getElementsByClassName(i)[0].click()}this.defaultCaption||(this.defaultCaption=this.videoElm.textTracks[0].language)}this.positionSubtitlesMenu(this.trackLength)},o}),t("controlbar/ClosedCaptions/ClosedCaptionYT",["controlbar/ClosedCaptions/AbstractClosedCaption","event/EventMap","utils/DOMUtils"],function(e,t,n){function i(t,n,i,r,o,a,s){this.tvplayer=t,this.html5player=n,this.parentNode=i,this.video=r,this.domElement=o,this.domImage=a,this.tvplayer_model=n.getModel(),this.defaultCaption=null,e.apply(this,arguments)}return i.prototype=new e,i.prototype.constructor=i,i.prototype.initialize=function(){this.initializeSettingsAttr(),this.subtitleMenuButtons=[],this.trackLength=0,this.addDefaultCC(),this.addNoCaptionTooltip(),this.positionSubtitlesMenu(this.trackLength),this.html5player.off(t.MEDIA_CCCLICK).on(t.MEDIA_CCCLICK,this.handleClick,this),this.html5player.off(t.MEDIA_LOADCAPTIONYT).on(t.MEDIA_LOADCAPTIONYT,this.handleCloseCaption,this),this.tvplayer.on(t.TVP_RESIZE,this.handlePlayerResize,this)},i.prototype.addDefaultCC=function(){n.removeChild(this.ccHolder),n.removeChild(this.domElement),this.ccHolder.appendChild(this.createMenuItem("tvp-cc-text","closedcaption","Closed Captions")),this.ccHolder.appendChild(this.createMenuItem("subtitles-off","","Off"))},i.prototype.bindButtonClick=function(e){var t=this;e.addEventListener("click",function(){if("tvp-cc-text"!==e.id){t.subtitleMenuButtons.map(function(e,n){t.subtitleMenuButtons[n].setAttribute("data-state","inactive")});var n=this.getAttribute("lang");null!==n&&t.tvplayer_model.setLocalStorage("cclangprev",n),t.tvplayer_model.setLocalStorage("cclang",n);for(var i=0;i<t.trackLength;i++)t.player.getOption("captions","tracklist")[i].languageCode===n&&(t.player.setOption("captions","track",{languageCode:n}),t.player.loadModule("captions"),this.setAttribute("data-state","active"),t.domImage.classList.add("tvp-caption-active"),t.activeCCText.innerHTML=e.value);t.handleOffClick(e,t.player),t.ccHolder.style.display="none"}else t.handleHeaderClick()})},i.prototype.handleLocalStorage=function(){if(null!==this.tvplayer_model.model.get("cclang"))for(var e=this.tvplayer_model.model.get("cclang"),t=0;t<this.trackLength;t++)if(this.player.getOption("captions","tracklist")[t].languageCode===e){var n="subtitles-button-"+e;this.ccHolder.getElementsByClassName(n)[0].click()}},i.prototype.handleCloseCaption=function(e){if(this.addDefaultCC(),this.player=e,this.player.getOptions().indexOf("captions")>=0)if(this.trackLength=this.player.getOption("captions","tracklist").length||0,this.trackLength>0){this.player.unloadModule("captions");for(var t=0;t<this.trackLength;t++)this.ccHolder.appendChild(this.createMenuItem("subtitles-"+this.player.getOption("captions","tracklist")[t].languageCode,this.player.getOption("captions","tracklist")[t].languageCode,this.player.getOption("captions","tracklist")[t].displayName)),"en"===this.player.getOption("captions","tracklist")[t].languageCode&&(this.defaultCaption=this.player.getOption("captions","tracklist")[t].languageCode);this.handleLocalStorage(),this.defaultCaption||(this.defaultCaption=this.player.getOption("captions","tracklist")[0].languageCode),this.ccSettingsBlock.style.display="block"}else this.addNoCaptionTooltip();else this.addNoCaptionTooltip();this.positionSubtitlesMenu(this.trackLength)},i}),t("controlbar/ClosedCaptions/ClosedCaptionFactory",["controlbar/ClosedCaptions/AbstractClosedCaption","controlbar/ClosedCaptions/ClosedCaptionMP4","controlbar/ClosedCaptions/ClosedCaptionYT"],function(e,t,n){function i(){}return i.prototype.create=function(i,r,o,a,s,l,u,c){var d;switch(d=new e(i,o,a,s,l,u,c),r.type){case"mp4":d=new t(i,o,a,s,l,u,c);break;case"youtube":d=new n(i,o,a,s,l,u,c);break;default:throw new Error("Unsupported Type: "+JSON.stringify(r))}return d},i}),t("controlbar/CtrlClosedCaption",["controlbar/ControlbarComponent","controlbar/ClosedCaptions/ClosedCaptionFactory","event/EventMap","utils/ControlbarUtils","utils/DOMUtils"],function(e,t,n,i,r){function o(t,i,r,o,a){if(!o||!r)throw new Error("No player or parentNode found");this.iconColor=t,this.parentNode=r,this.video=null,this.player=o,this.tvplayer=a,this.playerOptions=i,this.tvplayer.on(n.TVPLAYER_VIDEO_LOAD,this.handleVideoLoad,this),this.tvplayer.on(n.TVPLAYER_VIDEO_CUED,this.handleVideoLoad,this),this.tvplayer.on(n.TVP_RESIZE,this.handlePlayerResize,this),e.apply(this,arguments)}return o.prototype=new e,o.prototype.constructor=o,o.prototype.initialize=function(){this._attachToDom()},o.prototype._attachToDom=function(){if(!this.parentNode)throw new Error("No parentNode found");this.domElement=r.createElement("div",{id:"CtrlClosedCaption"}),this.parentNode.appendChild(this.domElement),this.domCaptions=r.createElement("div",{id:"CtrlClosedCaptionSettings"}),this.domElement.appendChild(this.domCaptions),this.domImage=r.createElement("div",{id:"CtrlClosedCaptionImage",classProperty:"tvp-controlbar-icon"}),this.domElement.appendChild(this.domImage),this.iconPositions=i.applyIconImg(this.domImage,"cc",this.iconColor),this.iconStates=this.iconPositions,this.switchIcon("",this.domImage),this.addListeners(),this.handlePlayerResize(this.player.getDOMElement().clientWidth,this.player.getDOMElement().clientHeight)},o.prototype.handleVideoLoad=function(e){this.domCaptions.classList.contains("tvp-caption-active")&&this.domCaptions.classList.remove("tvp-caption-active"),this.domCaptions.getElementsByClassName("tvp-subtitles-menu").length>0&&this.domCaptions.removeChild(this.parentNode.parentNode.getElementsByClassName("tvp-subtitles-menu")[0]),this.video=e,this.cc=t.prototype.create(this.tvplayer,e,this.player,this.parentNode,this.video,this.domCaptions,this.domImage,this.playerOptions)},o.prototype.handleClick=function(){this.player.trigger(n.MEDIA_CCCLICK,this)},o.prototype.handlePlayerResize=function(e){this.domElement.style.display=e<600?"none":"block"},o.prototype.handleKeyDown=function(e){67===e.keyCode&&(e.preventDefault(),this.handleClick())},o}),t("controlbar/CtrlSettings",["etc/config","controlbar/ControlbarComponent","event/EventMap","utils/DOMUtils","utils/ErrorHandler","utils/ControlbarUtils","utils/Debug"],function(e,t,n,i,r,o,a){function s(e,r,o,a,s){if(!a||!o)throw new Error("No player or parentNode found");this.iconColor=e,this.parentNode=o,this.player=a,this.tvplayer=s,this.qMap=i.getQualityMap(),t.apply(this,arguments),this.tvplayer.on(n.TVPLAYER_VIDEO_LOAD,this.handleVideoLoad,this),this.tvplayer.on(n.TVPLAYER_VIDEO_CUED,this.handleVideoLoad,this),this.tvplayer.on(n.MEDIA_DASHPLAYER,this.dashPlayer,this)}return s.prototype=new t,s.prototype.constructor=s,s.prototype.handleVideoLoad=function(e){this.videoType=e.type,this.settingHolder.style.display="none",this.ccHolder.style.display="none",this.defaultQuality=!1},s.prototype.dashPlayer=function(e){var t=e.getBitrateInfoListFor("video")[e.getQualityFor("video")].height;this.activeDashQuality=this.setResolution(t)[0]+"p"},s.prototype.setResolution=function(e){var t=null,n=[];if(e){t=["4320","2160","1440","1080","720","480","360","240","144"];for(var i=0;i<t.length;i++)e<=t[i+1]&&n.push(t[i]);t.splice(0,n.length)}return t},s.prototype._attachToDom=function(){if(!this.parentNode)throw new Error("No parentNode found");this.domElement=i.createElement("div",{id:"CtrlSettings"}),this.parentNode.appendChild(this.domElement),this.domImage=i.createElement("div",{id:"CtrlSettingsImage",classProperty:"tvp-controlbar-icon"}),this.domElement.appendChild(this.domImage),this.iconPositions=o.applyIconImg(this.domImage,"settings",this.iconColor),this.iconStates=this.iconPositions,this.switchIcon("",this.domImage),this.settingHolder=i.createElement("div",{id:"SettingsHolder",classProperty:"tvp-settings-holder"}),this.domElement.appendChild(this.settingHolder),this.ccHolder=i.createElement("ul",{id:"SettingsCCHolder",classProperty:"tvp-settings-cc-holder tvp-subtitles-menu"}),this.domElement.appendChild(this.ccHolder),this.addListeners(),this.attachClosedCaptionSettings(),this.attachChangeQualitySettings()},s.prototype.attachClosedCaptionSettings=function(){this.settingsCC=i.createElement("div",{id:"SettingsClosedCaption",classProperty:"tvp-settings-block-cc clearfix"}),this.settingHolder.appendChild(this.settingsCC),this.ccText=i.createElement("div",{id:"SettingsClosedCaptionText",classProperty:"tvp-settings-text"}),this.ccText.innerHTML="Closed Captions",this.settingsCC.appendChild(this.ccText),this.ccActive=i.createElement("div",{id:"SettingsClosedCaptionActive",classProperty:"tvp-settings-cc-active"}),this.settingsCC.appendChild(this.ccActive);var e=this;this.settingsCC.addEventListener("click",function(){e.ccHolder.style.display="block",e.settingHolder.style.display="none"})},s.prototype.attachChangeQualitySettings=function(){this.settingsQuality=i.createElement("div",{id:"SettingsQuality",classProperty:"tvp-settings-block-quality clearfix"}),this.settingHolder.appendChild(this.settingsQuality),this.qualityText=i.createElement("div",{id:"SettingsQualityText",classProperty:"tvp-settings-text"}),this.qualityText.innerHTML="Quality",this.settingsQuality.appendChild(this.qualityText),this.qualityActive=i.createElement("div",{id:"SettingsQualityActive",classProperty:"tvp-settings-quality-active"}),this.settingsQuality.appendChild(this.qualityActive),this.qualityActiveHdIcon=i.createElement("div",{classProperty:"tvp-active-hd-icon"}),this.settingsQuality.appendChild(this.qualityActiveHdIcon),this.qualityActiveHdIcon.style.display="none"},s.prototype.initializeQuality=function(){this.qualityLevels=this.player.getQualityLevels(),this.defaultQualityIndex=this.player.getQuality(),this.loadQuality=this.qualityLevels[this.defaultQualityIndex],"youtube"===this.videoType?this.defaultQuality=this.qMap[this.loadQuality]:void 0!==this.loadQuality?this.defaultQuality=this.loadQuality:void 0!==this.activeDashQuality&&(this.defaultQuality=this.activeDashQuality),this.handleActiveText(this.defaultQuality)},s.prototype.handleClick=function(e){e.target===this.domImage&&(this.initializeQuality(),this.selectCaptionPopup=this.parentNode.getElementsByClassName("tvp-select-caption")[0],this.selectCaptionPopup&&(this.selectCaptionPopup.style.display="none"),"block"===this.settingHolder.style.display?this.settingHolder.style.display="none":(this.ccHolder.style.display="none",this.parentNode.getElementsByClassName("tvp-no-caption").length>0&&(this.parentNode.getElementsByClassName("tvp-no-caption")[0].style.display="none"),this.settingHolder.style.display="block"))},s.prototype.handleActiveText=function(e){if(e){var t;t="Auto "+e,this.qualityActive.innerHTML=t,this.handleBadge(i.isHD(e))}else this.qualityActive.innerHTML="Auto",this.qualityActiveHdIcon.style.display="none"},s.prototype.handleBadge=function(e){e?(this.qualityActiveHdIcon.style.display="block",this.qualityActiveHdIcon.innerHTML=e):this.qualityActiveHdIcon.style.display="none"},s}),t("controlbar/FloatingControls",["event/EventDispatcher","controlbar/CtrlPlayPause","controlbar/CtrlTime","controlbar/CtrlVolume","controlbar/CtrlFullscreen","controlbar/SeekBar","controlbar/CtrlClosedCaption","controlbar/CtrlSettings","utils/ControlbarUtils","utils/DOMUtils","utils/ErrorHandler","utils/Debug","lib/bigscreen"],function(e,t,n,i,r,o,a,s,l,u,c,d,f){function p(t,n,i,r){if(!i||!n||!r)throw new Error("No player or parentNode found");this.options=t,this.parentNode=n,this.player=i,this.tvplayer=r,this.domId="ControlBarFloater",this.controlComponents=["playpause","volume","seekbar","fullscreen","settings","cc","time"],e.apply(this,arguments),this.initialize()}return p.prototype=new e,p.prototype.constructor=p,p.prototype.initialize=function(){this._attachToDom()},p.prototype._attachToDom=function(){var e=this.parentNode;if(!e)throw new Error("ControlBarDOMContainer not found");this.domElement=u.createElement("div",{id:this.domId,classProperty:"tvp-controlbar-floater"}),e.appendChild(this.domElement),this.tvpControlColors=l.setControlbarColors(this.options),this.domElement.style.backgroundColor=this.tvpControlColors.controlbarColor,this.populateControlElements()},p.prototype.populateControlElements=function(){var e=this.getOptions();if(e.controls.hasOwnProperty("floater")){if(e.controls.hasOwnProperty("floater")){var t=e.controls.floater.removeControls||[];0==BigScreen.enabled&&t.push("fullscreen"),t&&t.length>0&&this.modifyControlComponents(t)}this.attachControlElements()}},p.prototype.attachControlElements=function(){for(var e in this.controlComponents)this.attachControl(this.controlComponents[e])},p.prototype.attachControl=function(e){var l=null;switch(e){case"playpause":l=t;break;case"volume":l=i;break;case"seekbar":l=o;break;case"time":l=n;break;case"cc":l=a;break;case"settings":l=s;break;case"fullscreen":l=r}l&&(this[e]=new l(this.tvpControlColors.iconColor,this.getOptions(),this.domElement,this.player,this.tvplayer))},p.prototype.modifyControlComponents=function(e){for(var t in e){var n=e[t],i=this.controlComponents.indexOf(n);i>=0&&this.controlComponents.splice(i,1)}},p.prototype.handlePlayerResize=function(e,t){this.seekbar.handlePlayerResize(e,t),this.fullscreen&&this.fullscreen.handlePlayerResize(e,t)},p.prototype.handlePlayerEvent=function(e){for(var t in this.controlComponents){var n=this[this.controlComponents[t]];n&&n.handlePlayerEvent(e)}},p.prototype.setStateVisuals=function(e){switch(e){case"in":this.domElement.style.display="block";break;case"out":this.domElement.style.display="none"}},p.prototype.destroy=function(){this.time&&this.time.destroy()},p.prototype.resetTime=function(){this.time&&this.time.setTime("00:00","00:00")},p}),t("controlbar/ControlOverlay",["event/EventDispatcher","event/EventMap","utils/ControlbarUtils","utils/PlayerStateUtils","utils/DOMUtils"],function(e,t,n,i,r){function o(t,n,i){if(!n||!i)throw new Error("No valid player or controlbar");this.controlbar=i,this.options=t,this.player=n,this.domElement=null,e.apply(this,arguments),this.initialize()}return o.prototype=new e,o.prototype.constructor=o,o.prototype.initialize=function(){var e=this.getOptions();e.hasOwnProperty("controls")&&e.controls.active&&this._attachToDom()},o.prototype._attachToDom=function(){var e=this.player.getDOMElement();if(!e)throw new Error("Player DOM Element not found");this.domElement=r.createElement("div",{classProperty:"tvp-control-overlay"});var t=this.player.getDOMElement().clientHeight,i=0;"iPad"!==r.currentOS()&&"iPhone"!==r.currentOS()&&"iPod"!==r.currentOS()||(t-=90,i=45),n.applyStyle(this.domElement,{height:t+"px",top:i+"px"}),e.appendChild(this.domElement),this.addListeners(),this._attachRightClick(e),this.domElement.oncontextmenu=function(){return!1}},o.prototype._attachRightClick=function(e){this.domRightClick=r.createElement("div",{classProperty:"tvp-right-click-menu"}),e.appendChild(this.domRightClick),this.domRightClick.style.display="none",this.domRightClickLogo=r.createElement("a",{classProperty:"tvp-right-click-menu-logo",href:"//www.tvpage.com",target:"_blank"}),this.domRightClick.appendChild(this.domRightClickLogo),this.options&&this.options.hasOwnProperty("version")&&this.options.version&&(this.domRightClickVersion=r.createElement("div",{classProperty:"tvp-right-click-menu-player-version"}),this.domRightClick.appendChild(this.domRightClickVersion),this.domRightClickVersion.innerHTML="player v"+this.options.version),this.domRightClick.oncontextmenu=function(){return!1}},o.prototype.addListeners=function(){r.addEventListener(this.domElement,"click",this.handleClick.bind(this),!1),r.addEventListener(this.domElement,"mousemove",this.handleHover.bind(this),!1),r.addEventListener(this.domElement,"mousedown",this.handleMouseDown.bind(this),!1)},o.prototype.handlePlayerEvent=function(e){var n=e;"string"==typeof e.type&&(n=e.type);var i=null;switch(n){case t.MEDIA_READY:case t.MEDIA_VIDEO_CUED:i=!1;break;case t.MEDIA_VIDEO_PAUSED:i=!0;break;case t.MEDIA_VIDEO_ENDED:i=!1,this.domRightClick.style.display="none";break;case t.MEDIA_VIDEO_PLAYING:i=!0}null!=i&&this.toggleDisplay(i)},o.prototype.toggleDisplay=function(e){e=Boolean(e),n.applyStyle(this.domElement,{pointerEvents:e?"auto":"none"})},o.prototype.handleHover=function(e){n.handleControlHover(e,this.controlbar)},o.prototype.handleMouseDown=function(e){if(3===e.which){var t=e.offsetX||e.layerX||0,n=e.offsetY||e.layerY||0;this.domRightClick.style.left=t+"px",this.domRightClick.style.top=n+"px",this.domRightClick.style.display="none"===this.domRightClick.style.display?"block":"none"}},o.prototype.handleClick=function(e){this.hidePopups();var t=this.player;if(i.isPlaying(t))t.pause();else{if(i.isEnded(t)){t.seek(0);var n=t.getDOMElement();window.setTimeout(function(){t.resize(n.clientWidth,n.clientHeight)},250)}t.play()}},o.prototype.hidePopups=function(){var e=this.domElement.parentNode.getElementsByClassName("tvp-settings-holder")[0];if(void 0!==e){"block"===e.style.display&&(e.style.display="none");var t=this.domElement.parentNode.getElementsByClassName("tvp-settings-cc-holder")[0];"block"===t.style.display&&(t.style.display="none")}"block"===this.domRightClick.style.display&&(this.domRightClick.style.display="none")},o.prototype.handlePlayerResize=function(e,t){"iPad"!==r.currentOS()&&"iPhone"!==r.currentOS()&&"iPod"!==r.currentOS()||(t-=90),this.domElement.style.height=(t||0)+"px"},o}),t("controlbar/Controlbar",["event/EventDispatcher","utils/ControlbarUtils","utils/DOMUtils","utils/ErrorHandler","controlbar/SeekBar","controlbar/FloatingControls","controlbar/ControlOverlay"],function(e,t,n,i,r,o,a){function s(t,n,i){if(!n)throw new Error("No valid player!");this.player=n,this.player.on("all",this.handlePlayerEvent,this),this.video=null,this.tvplayer=i,this.seekBar=null,this.floatingControls=null,this.domElement=null,this.options=t,e.apply(this,arguments),this.initialize()}return s.prototype=new e,s.prototype.constructor=s,s.prototype.initialize=function(){var e=this.getOptions();e.hasOwnProperty("controls")&&e.controls.active&&(this._attachToDom(),this.controlsEnabled=!0)},s.prototype._attachToDom=function(){var e=this.player.getDOMElement();if(!e)throw new Error("Player DOM Element not found");this.domElement=n.createElement("div",{});var i=this.player.get("width"),r=this.player.get("height"),o={position:"absolute",bottom:0};i&&r&&!isNaN(i)&&!isNaN(r)&&(o.width=i+"px"),t.applyStyle(this.domElement,o),e.appendChild(this.domElement),this.createControls(),this.createControlOverlay(),this.addListeners(),this.setStateVisuals("out"),this.domElement.style.display="none",this.settingsHolder=this.domElement.getElementsByClassName("tvp-settings-holder")[0],this.ccHolder=this.domElement.getElementsByClassName("tvp-settings-cc-holder")[0],this.qualityHolder=this.domElement.getElementsByClassName("tvp-settings-quality-list")[0],this.lockControls()},s.prototype.lockControls=function(){this.options&&this.options.hasOwnProperty("lockControls")&&Number(this.options.lockControls)&&(this.domElement.style.display="block")},s.prototype.addListeners=function(){n.addEventListener(this.domElement,"mousemove",this.handleHover.bind(this),!0)},s.prototype.handleHover=function(e){t.handleControlHover(e,this)},s.prototype.createControlOverlay=function(){this.controloverlay||(this.controloverlay=new a(this.getOptions(),this.player,this))},s.prototype.createControls=function(){var e=n.currentOS();this.floatingControls||"iPad"===e||"iPhone"===e||"iPod"===e||(this.floatingControls=new o(this.getOptions(),this.domElement,this.player,this.tvplayer))},s.prototype.resize=function(e,t){this.domElement.style.width=e+"px",this.floatingControls&&this.floatingControls.handlePlayerResize(e,t),this.controloverlay&&this.controloverlay.handlePlayerResize(e,t)},s.prototype.handlePlayerEvent=function(e){this.floatingControls&&this.floatingControls.handlePlayerEvent(e),this.controloverlay&&this.controloverlay.handlePlayerEvent(e)},s.prototype.getVisualState=function(){return this.visualState},s.prototype.disableControls=function(){this.setStateVisuals("out"),this.controlsEnabled=!1},s.prototype.enableControls=function(){this.setStateVisuals("in"),this.controlsEnabled=!0},s.prototype.setStateVisuals=function(e){if(!(this.options&&this.options.hasOwnProperty("lockControls")&&Number(this.options.lockControls))&&(this.domElement.style.display="",this.controlsEnabled)){switch(e){case"in":this.floatingControls&&this.floatingControls.setStateVisuals("in");break;case"out":this.settingsHolder&&this.ccHolder&&this.floatingControls&&"none"===this.settingsHolder.style.display&&"none"===this.ccHolder.style.display&&(this.hidePopups(),this.floatingControls.setStateVisuals("out"))}this.visualState=e}},s.prototype.hidePopups=function(){this.domElement.getElementsByClassName("tvp-no-caption").length>0&&(this.domElement.getElementsByClassName("tvp-no-caption")[0].style.display="none"),this.domElement.getElementsByClassName("tvp-select-caption").length>0&&(this.domElement.getElementsByClassName("tvp-select-caption")[0].style.display="none")},s.prototype.destroy=function(){this.floatingControls&&this.floatingControls.destroy()},s.prototype.resetTime=function(){this.floatingControls&&this.floatingControls.resetTime()},s}),t("Version",[],function(){return{version:"3.1.4"}}),t("analytics/Analytics",["event/EventDispatcher","event/EventMap","utils/PlayerStateUtils","Version"],function(e,t,n,i){function r(e,t){this.player=e,this.options=t,this.timeInterval=1e3,this.viewTimePingFrequency=3e3,this.resetViewTimeQuartile(),this.initialize()}return r.prototype=new e,r.prototype.constructor=r,r.prototype.initialize=function(){this.wasBuffering=!1,this.bufferInterval=!1,this.videoViewRegistered=!1,this.playAttempted=0,this.timeElapsed=0,this.timeSpentBuffering=0,this.prevTime=0,this.interval=null,this.sessionId=n.generateSessionId(),this.player.on("all",this.handleMediaEvents,this),this.options&&this.options.hasOwnProperty("debug")&&Number(this.options.debug)&&(this.analyticsHolder=this.player.options.DOMContainer.getElementsByClassName("tvplayer-analytics-holder")[0],this.analyticsHolder2=this.player.options.DOMContainer.getElementsByClassName("tvplayer-analytics-holder-2")[0]);var e=this;window.onunload=function(){e.registerViewTime(),e.registerBufferTime()}},r.prototype.resetVideo=function(e){this.endTimer(),this.videoObj=e,this.analyticsObj&&delete this.analyticsObj,e.analyticsObj&&(this.analyticsObj=e.analyticsObj),this.videoViewRegistered=!1},r.prototype.resetViewTime=function(){this.timeElapsed=0},r.prototype.updateTimer=function(){var e=Math.floor(this.player.getCurrentTime());Math.abs(this.prevTime-e)>=1&&(this.timeElapsed+=this.timeInterval,this.timeElapsed%this.viewTimePingFrequency==0&&(this.registerViewTime(),this.registerViewTimeQuartile())),this.prevTime=e},r.prototype.startTimer=function(){this.clearInterval();var e=this;this.interval=setInterval(function(){e.updateTimer()},this.timeInterval)},r.prototype.endTimer=function(){return this.registerViewTime(),this.endBufferTimer(),this.sessionId=n.generateSessionId(),this.playAttempted=0,this.resetViewTime(),this.resetBufferTime(),this.prevTime=0,this.clearInterval(),this.resetViewTimeQuartile(),!1},r.prototype.clearInterval=function(){if(this.interval)return window.clearInterval(this.interval)},r.prototype.startBufferTimer=function(){this.clearBufferInterval();var e=this;this.bufferInterval=setInterval(function(){e.timeSpentBuffering+=e.timeInterval/2},this.timeInterval/2)},r.prototype.endBufferTimer=function(){return this.registerBufferTime(),this.clearBufferInterval(),this.resetBufferTime(),!1},r.prototype.clearBufferInterval=function(){if(this.bufferInterval)return window.clearInterval(this.bufferInterval)},r.prototype.resetBufferTime=function(){this.timeSpentBuffering=0},r.prototype.handleMediaEvents=function(e,n){if(e)switch(e){case t.MEDIA_VIDEO_PAUSED:this.endBufferTimer(),this.registerViewTime(),this.prevTime=Math.floor(this.player.getCurrentTime());break;case t.MEDIA_VIDEO_PLAYING:this.endBufferTimer(),this.playAttempted=1,this.startTimer();break;case t.MEDIA_VIDEO_SEEK:this.registerViewTime();var i=n.position?n.position:this.player.getCurrentTime();this.prevTime=Math.floor(i);break;case t.MEDIA_VIDEO_BUFFERING:this.startBufferTimer();break;case t.MEDIA_VIDEO_ENDED:this.endBufferTimer(),this.registerViewTime(),this.videoViewRegistered=!1,this.registerViewTimeQuartile(),this.endTimer();break;case t.MEDIA_VIDEO_CUED:this.endBufferTimer()}},r.prototype.sendAnalytics=function(e){return"undefined"!=typeof _tvpa&&"function"==typeof _tvpa.push?(this.analyticsHolder2&&this.analyticsHolder&&("vv"===e[1]?(this.analyticsHolder2.innerHTML=JSON.stringify(e),this.analyticsHolder2.style.display="block"):"vt"===e[1]&&(this.analyticsHolder.innerHTML=JSON.stringify(e),this.analyticsHolder.style.display="block")),_tvpa.push(e)):e},r.prototype.cloneAnalyticsObject=function(){var e=!1;if(this.analyticsObj){e={};for(var t in this.analyticsObj)this.analyticsObj.hasOwnProperty(t)&&(e[t]=this.analyticsObj[t]);this.videoObj&&this.videoObj.type&&(e.vtype=this.videoObj.type),e.tpv=i.version}return e},r.prototype.registerVideoView=function(){var e=this.cloneAnalyticsObject();return!(this.videoViewRegistered||!e)&&(e.vvs=this.sessionId,this.videoViewRegistered=!0,this.dispatchEvent(t.TVP_VIDEO_VIEW,e),this.sendAnalytics(["track","vv",e]))},r.prototype.getVideoCurrentTime=function(){return Math.floor(this.player.getCurrentTime())},r.prototype.getVideoDuration=function(){return Math.floor(this.player.getDuration())},r.prototype.registerViewTime=function(){var e=this.getVideoCurrentTime(),n=this.getVideoDuration(),i=this.cloneAnalyticsObject();return!!(this.timeElapsed&&i&&e<=n)&&(this.registerVideoView(),i.vt=this.timeElapsed/1e3,i.vvs=this.sessionId,i.vct=e,i.vdr=n,this.resetViewTime(),this.dispatchEvent(t.TVP_VIDEO_VIEWTIME,i),this.sendAnalytics(["track","vt",i]))},r.prototype.registerViewTimeQuartile=function(){var e=this.getVideoCurrentTime(),t=this.getVideoDuration(),n=!1;if(parseInt(e)>0&&parseInt(t)>0){var i=(parseInt(e)/parseInt(t)*100).toFixed(2);if(i>=100&&!this.quartz[100].sent?n="100":i>=75&&i<=80&&!this.quartz[75].sent?n="75":i>=50&&i<=55&&!this.quartz[50].sent?n="50":i>=25&&i<=30&&!this.quartz[25].sent&&(n="25"),n){var r=this.cloneAnalyticsObject();return r.vt=this.timeElapsed/1e3,r.vvs=this.sessionId,r.vct=e,r.vdr=t,r.vtp=i,this.quartz[n].sent=!0,this.setPreviousQuartilesAsSent(n),this.dispatchEvent(this.quartz[n].event,r),this.sendAnalytics(["track","vtp",r])}}},r.prototype.resetViewTimeQuartile=function(){this.quartz={25:{sent:!1,event:t.TVP_VIDEO_VIEW_25P},50:{sent:!1,event:t.TVP_VIDEO_VIEW_50P},75:{sent:!1,event:t.TVP_VIDEO_VIEW_75P},100:{sent:!1,event:t.TVP_VIDEO_VIEW_100P}}},r.prototype.setPreviousQuartilesAsSent=function(e){for(var t in this.quartz)parseInt(t)<parseInt(e)&&(this.quartz[t].sent=!0)},r.prototype.registerBufferTime=function(){var e=this.getVideoCurrentTime(),n=this.getVideoDuration(),i=this.cloneAnalyticsObject();return!!(this.timeSpentBuffering&&i&&this.playAttempted)&&(i.bt=this.timeSpentBuffering/1e3,i.vvs=this.sessionId,i.vct=e,i.vdr=n,i.patt=this.playAttempted,this.resetBufferTime(),this.dispatchEvent(t.TVP_VIDEO_BUFFER,i),this.sendAnalytics(["track","bt",i]))},r}),t("spinner/Spinner",["utils/DOMUtils","event/EventMap","etc/config"],function(e,t,n){function i(e){if(!e)throw new Error("No player or found");this.player=e,this.player.on("all",this.handlePlayerEvent,this),this.domElement=null,this.spinnerElement=null,this.bufferingStartTime=null,this.hasPlayed=!1,this.initialize()}return i.prototype.constructor=i,i.prototype.initialize=function(){this._attachToDom(),document.getElementById("tvp-spinner").innerHTML='<svg version="1.1"  class="svg-loader"  xmlns="http://www.w3.org/2000/svg"  xmlns:xlink="http://www.w3.org/1999/xlink"  x="0px" y="0px"  viewBox="0 0 80 80" xml:space="preserve"><path id="tvp-spinner-path" d="M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1 c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1 c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1 l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5 c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1 c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9 c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9 c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2 c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9 c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1 c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7 c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1 c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z"></path></svg>'},i.prototype.handlePlayerEvent=function(e){var n=e;switch("string"==typeof e.type&&(n=e.type),n){case t.MEDIA_VIDEO_BUFFERING:this.handleBuffering();break;case t.MEDIA_VIDEO_PLAYING:this.hasPlayed=!0,this.hide();break;case t.MEDIA_VIDEO_PAUSED:case t.MEDIA_VIDEO_CUED:case t.PLAYER_ERROR:case t.MEDIA_ERROR:case t.MEDIA_ERROR_FORBIDDEN:case t.MEDIA_ERROR_HTML5FORBIDDEN:this.hide()}},i.prototype.show=function(){this.domElement.style.display="block"},i.prototype.hide=function(){this.domElement.style.display="none"},i.prototype.handleBuffering=function(){this._canShow()&&(this.bufferingStartTime=this.player.getCurrentTime(),this._watchTimeUpdate(),this.show())},i.prototype._attachToDom=function(){if(!this.player.options.DOMContainer)throw new Error("No player container found");this.domElement=e.createElement("div",{}),this.domElement.id="tvp-spinner",this.domElement.className="tvp-spinner",this.player.options.DOMContainer.appendChild(this.domElement)},i.prototype._watchTimeUpdate=function(){var e=this,t=setInterval(function(){e.bufferingStartTime!==e.player.getCurrentTime()&&(e.hide(),e.bufferingStartTime=null,clearInterval(t))},500)},i.prototype._canShow=function(){var t=e.currentOS(),n="iPhone"==t||"iPod"==t;return!(this.player.player&&"model"in this.player.player)||!("youtube"==this._getActiveProvider()||n||!this.hasPlayed)},i.prototype._getActiveProvider=function(){var e=this.player.player.model;for(var t in e.providers)if(e.providers.hasOwnProperty(t))return e.providers[t]===e.activeProvider&&t},i.prototype.resetSpinnerStatus=function(){this.hide(),this.hasPlayed=!1},i}),t("ad/AdStrategy",["event/EventDispatcher","event/EventMap"],function(e,t){function n(t,n,i,r){this.tvplayer=n,this.options=t,this.adLoader=i,this.adOptions=r,this.initialPlay=!1,this.adServerUrl=null,this.adCount=0,this.playedAdCount=0,e.apply(this,arguments)}return n.prototype=new e,n.prototype.constructor=n,n.prototype.addEvent=function(e){e===t.TVPLAYER_VIDEO_LOAD&&(this.initialPlay=!1),e===t.TVPLAYER_VIDEO_CUED&&(this.loadAd(!1),this.initialPlay=!0),e===t.MEDIA_VIDEO_PLAYING&&(this.initialPlay||(this.loadAd(!0),this.initialPlay=!0))},n.prototype.loadAd=function(e){this.playedAdCount<Number(this.adOptions.maxAds)?this.adCount%(Number(this.adOptions.adInterval)+1)==0&&(this.adLoader.loadAd(e),this.playedAdCount++):this.adLoader.hideAd(e),this.adCount++},n}),t("ad/AdControlbar/AdVolume",["controlbar/CtrlVolume"],function(e){function t(t,n,i,r,o,a){this.adsManager=a,e.apply(this,arguments)}return t.prototype=new e,t.prototype.constructor=t,t.prototype.setVolume=function(e){this.adsManager.setVolume(e/100),this.tvplayer_model.setLocalStorage("volume",e)},t.prototype.handleMuteClick=function(){0===this.adsManager.getVolume()?this.unmute():this.mute()},t.prototype.unmute=function(){0===this.currentVol&&(this.currentVol=100),this.setVolumeSelectorVisuals(this.currentVol),this.adsManager.setVolume(this.currentVol/100),this.tvplayer_model.setLocalStorage("isMute",!1)},t.prototype.mute=function(){this.setVolumeSelectorVisuals(0),this.adsManager.setVolume(0),this.tvplayer_model.setLocalStorage("isMute",!0)},t}),t("ad/AdControlbar/AdPlayPause",["controlbar/CtrlPlayPause","utils/DOMUtils","utils/ControlbarUtils"],function(e,t,n){function i(t,n,i,r,o,a){this.adsManager=a,e.apply(this,arguments)}return i.prototype=new e,i.prototype.constructor=i,i.prototype.addAdListeners=function(){t.addEventListener(this.adsManager,google.ima.AdEvent.Type.STARTED,this.handleMediaVideoPlaying.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.RESUMED,this.handleMediaVideoPlaying.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.COMPLETE,this.handleMediaVideoEnded.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.PAUSED,this.handleMediaVideoPaused.bind(this),!1)},i.prototype.handleMediaVideoPlaying=function(e){this.adPlaying=!0,this.setState("playing")},i.prototype.handleMediaVideoPaused=function(e){this.adPlaying=!1,this.setState("paused")},i.prototype.handleMediaVideoEnded=function(e){this.adPlaying=!1,this.setState("paused")},i.prototype.handleAdPlayPause=function(){this.adPlaying?this.adsManager.pause():this.adsManager.resume()},i.prototype.handleVideoPlayPause=function(){},i}),t("ad/AdControlbar/AdSeekbar",["controlbar/SeekBar","utils/DOMUtils","event/EventMap"],function(e,t,n){function i(t,i,r,o,a,s){this.adsManager=s,this.adDuration=0,this.tvplayer=a,this.tvplayer.on(n.TVP_RESIZE,this.handlePlayerResize,this),this.tvplayer.on(n.ADMEDIA_DURATION,this.setAdDuration,this),e.apply(this,arguments)}return i.prototype=new e,i.prototype.constructor=i,i.prototype._attachToDom=function(){this.playerElementsWidth=230,this.attachParentSeekbar(this.parentNode)},i.prototype.attachEventListener=function(){t.addEventListener(this.adsManager,google.ima.AdEvent.Type.STARTED,this.handleMediaVideoStarted.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.RESUMED,this.handleMediaVideoPlaying.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.COMPLETE,this.handleMediaVideoEnded.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.PAUSED,this.handleMediaVideoPaused.bind(this),!1)},i.prototype.attachParentSeekbar=function(e){this.parentSeekbar=t.createElement("div",{classProperty:"tvp-ad-parent-seekbar"}),e.appendChild(this.parentSeekbar),this.attachChildElements(this.parentSeekbar),t.isMobile()&&(this.parentSeekbar.style.height="4px",this.parentSeekbar.style.width="100%",this.parentSeekbar.style.margin="0px")},i.prototype.attachProgressElement=function(e){this.progressElement=t.createElement("div",{classProperty:"tvp-ad-progress-bar"}),e.appendChild(this.progressElement)},i.prototype.attachBGElement=function(e){this.bgElement=t.createElement("div",{classProperty:"tvp-ad-progress-background"}),e.appendChild(this.bgElement)},i.prototype.attachSeekElement=function(){},i.prototype.handleMediaVideoStarted=function(e){this.startPolling(e)},i.prototype.updateProgress=function(e,t){var n=(this.adDuration-Math.round(this.adsManager.getRemainingTime()))/this.adDuration*100;t&&(n=100),e.progressElement.style.width=n+"%"},i.prototype.handlePlayerResize=function(e,n){t.isMobile()?this.parentSeekbar.style.width="100%":this.parentSeekbar.style.width=e-this.playerElementsWidth+"px"},i.prototype.setAdDuration=function(e){this.adDuration=e},i}),t("ad/AdControlbar/AdFullscreen",["controlbar/CtrlFullscreen"],function(e){function t(t,n,i,r,o,a){e.apply(this,arguments),this.adsManager=a,this.minDimensions={}}return t.prototype=new e,t.prototype.constructor=t,t.prototype.handleKeyDown=function(){},t}),t("ad/AdControlbar/AdTime",["controlbar/CtrlTime","utils/DOMUtils","event/EventMap"],function(e,t,n){function i(t,i,r,o,a,s){this.adsManager=s,this.tvplayer=a,this.adDuration=0,this.tvplayer.on(n.ADMEDIA_DURATION,this.setAdDuration,this),e.apply(this,arguments)}return i.prototype=new e,i.prototype.constructor=i,i.prototype.attachEventListners=function(){t.addEventListener(this.adsManager,google.ima.AdEvent.Type.STARTED,this.handleMediaVideoPlaying.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.RESUMED,this.handleMediaVideoPlaying.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.COMPLETE,this.handleMediaVideoEnded.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.PAUSED,this.handleMediaVideoPaused.bind(this),!1)},i.prototype._attachToDom=function(){this.attachEventListners(),this.adTime=t.createElement("div",{id:"tvp-ad-controls-time",classProperty:"tvp-ad-controls-time"}),this.parentNode.appendChild(this.adTime),this.adTimeText=t.createElement("p",{classProperty:"tvp-ad-controls-time-text"}),this.adTime.appendChild(this.adTimeText),this.adTimeText.innerHTML="Ad:  ",this.adTimeValue=t.createElement("p",{classProperty:"tvp-ad-controls-time-value"}),this.adTime.appendChild(this.adTimeValue),this.adTimeValue.innerHTML=this.formatTime(this.adDuration)},i.prototype.formatTime=function(e){var t=Math.floor(e/60),n=e-60*t;return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)},i.prototype.updateText=function(){var e=this.adsManager.getRemainingTime(),t=Math.round(e);t=t<0?0:t,this.adTimeValue.innerHTML=this.formatTime(t)},i.prototype.setAdDuration=function(e){this.adDuration=e,this.adTimeValue.innerHTML=this.formatTime(this.adDuration)},i}),t("ad/AdControlbar/AdControlbar",["event/EventDispatcher","ad/AdControlbar/AdVolume","ad/AdControlbar/AdPlayPause","ad/AdControlbar/AdSeekbar","ad/AdControlbar/AdFullscreen","ad/AdControlbar/AdTime","utils/DOMUtils","utils/ControlbarUtils"],function(e,t,n,i,r,o,a,s){function l(t,n,i,r,o){this.tvplayer=n,this.player=i,this.options=t,this.adsManager=r,this.adElement=o,this.initialize(),e.apply(this,arguments)}return l.prototype=new e,l.prototype.constructor=l,l.prototype.initialize=function(){this._attachAdControlbar()},l.prototype._attachAdControlbar=function(){this.adControls=a.createElement("div",{classProperty:"tvp-ad-controls-wrapper"}),this.adElement.appendChild(this.adControls),this.adContainer=a.createElement("div",{classProperty:"tvp-ad-controls-container"}),this.adControls.appendChild(this.adContainer),this.tvpControlColors=s.setControlbarColors(this.options),this.adContainer.style.backgroundColor=this.tvpControlColors.controlbarColor,a.isMobile()?(this.adControlComponents=["seekbar"],this.adContainer.style.height="4px",this.adContainer.style.padding="0px"):this.adControlComponents=["playpause","volume","seekbar","fullscreen","time"];for(var e in this.adControlComponents)this.attachControl(this.adControlComponents[e])},l.prototype.attachControl=function(e){var a=null;switch(e){case"playpause":a=n;break;case"volume":a=t;break;case"seekbar":a=i;break;case"fullscreen":a=r;break;case"time":a=o}a&&(this[e]=new a(this.tvpControlColors.iconColor,this.options,this.adContainer,this.player,this.tvplayer,this.adsManager))},l}),t("ad/AdLoader",["event/EventDispatcher","utils/DOMUtils","event/EventMap","ad/AdStrategy","ad/AdControlbar/AdControlbar"],function(e,t,n,i,r){function o(r,o,a,s,l){if(!o||!a)throw new Error("No player or tvplayer found");this.tvplayer=a,this.interface=s,this.player=o,this.options=r,this.adOptions=l,this.domElement=this.player.getDOMElement(),this.currentOS=t.currentOS(),this.initialize(),this.tvpControlbar=this.domElement.getElementsByClassName("tvp-controlbar-floater")[0],this.tvplayer.on("all",this.handlePlayerEvents,this),this.tvplayer.on(n.TVPLAYER_VIDEO_LOAD,this.setVideoType,this),this.tvplayer.on(n.TVPLAYER_VIDEO_CUED,this.setVideoType,this),this.adStrategy=new i(r,a,this,l),e.apply(this,arguments)}return o.prototype=new e,o.prototype.constructor=o,o.prototype.initialize=function(){this._attachAdContainer(),this._attachAdOverlay()},o.prototype.setVideoType=function(e){this.videoType=e.type},o.prototype.handlePlayerEvents=function(e){switch(e){case n.MEDIA_VIDEO_PLAYING:case n.TVPLAYER_VIDEO_LOAD:case n.TVPLAYER_VIDEO_CUED:this.adStrategy.addEvent(e)}},o.prototype.resize=function(e,t){this.adPlayed&&this.adsManager&&this.adsManager.init(e,t,google.ima.ViewMode.NORMAL)},o.prototype._attachAdContainer=function(){this.adElement=t.createElement("div",{id:"tvp-ad-container",classProperty:"tvp-ad-container"}),this.domElement.appendChild(this.adElement)},o.prototype._attachAdOverlay=function(){this.adOverlay=t.createElement("div",{id:"tvp-ad-overlay",classProperty:"tvp-ad-overlay"}),this.domElement.appendChild(this.adOverlay),this.adSpinner=t.createElement("div",{id:"tvp-ad-spinner",classProperty:"tvp-ad-spinner"}),this.adSpinner.innerHTML='<svg version="1.1" class="svg-loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 80 80" xml:space="preserve"><path id="tvp-spinner-path" d="M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1 c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1 c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1 l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5 c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1 c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9 c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9 c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2 c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9 c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1 c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7 c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1 c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z"></path></svg>',this.adOverlay.appendChild(this.adSpinner)},o.prototype.hideAd=function(e){e||(this.readyToPlayAd=!1,this.adOverlay&&(this.adOverlay.style.display="block"))},o.prototype.loadAd=function(e){"iPhone"===this.currentOS||"iPod"===this.currentOS||"iPad"===this.currentOS?"mp4"===this.videoType&&this.loadAdContent(e):this.loadAdContent(e)},o.prototype.loadAdContent=function(e){this.adPlayed=!1,this.readyToPlayAd=!1,this.adOverlay&&(this.adOverlay.style.display="block"),this.tvplayer.pause(),this.adElement&&t.removeChild(this.adElement),this.destroy(),this.setUpIMA(),e&&this.adPlayerTimeout()},o.prototype.adPlayerTimeout=function(){var e=this,t=0,n=Number(this.adOptions.adTimeout);this.pollInterval=window.setInterval(function(){100*t<=n?e.readyToPlayAd&&(e.playAds(),window.clearInterval(e.pollInterval)):(e.interface.play(),e.hideAdOverlay(),window.clearInterval(e.pollInterval)),t++},100)},o.prototype.destroy=function(){this.adsLoader&&this.adsLoader.destroy(),this.adsManager&&this.adsManager.destroy(),this.adDisplayContainer&&this.adDisplayContainer.destroy()},o.prototype.setUpIMA=function(){this.videoContent=this.domElement.getElementsByClassName("tvpHTML5Video")[0],this.videoContent||(this.videoContent=t.createElement("video",{id:"tvpHTML5VideoAd",crossOrigin:"anonymous",classProperty:"tvpHTML5VideoAd"})),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adElement,this.videoContent),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),t.addEventListener(this.adsLoader,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),t.addEventListener(this.adsLoader,google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1);var e=new google.ima.AdsRequest;e.adTagUrl=this.adOptions.adServerUrl,e.linearAdSlotWidth=this.domElement.clientWidth,e.linearAdSlotHeight=this.domElement.clientHeight,e.nonLinearAdSlotWidth=this.domElement.clientWidth,e.nonLinearAdSlotHeight=.33*this.domElement.clientHeight,this.adsLoader.requestAds(e)},o.prototype.hideAdOverlay=function(){this.adOverlay&&(this.adOverlay.style.display="none")},o.prototype.playAds=function(){this.hideAdOverlay(),this.adDisplayContainer&&this.adDisplayContainer.initialize(),this.adPlayed=!0;try{this.adsManager?(this.adsManager.init(this.domElement.clientWidth,this.domElement.clientHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()):this.interface.play()}catch(e){this.interface.play()}},o.prototype.onAdsManagerLoaded=function(e){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.videoContent,n),this.readyToPlayAd=!0,this.adControlbar=new r(this.options,this.tvplayer,this.player,this.adsManager,this.adElement),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this),!1),t.addEventListener(this.adsManager,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this),!1)},o.prototype.onAdLoaded=function(e){var t=e.getAd();this.tvplayer.trigger(n.ADMEDIA_DURATION,t.getDuration()),t.isLinear()||this.interface.play()},o.prototype.onAdError=function(){this.interface.play()},o.prototype.onContentPauseRequested=function(){this.videoContent.classList.add("tvp-media-ad"),this.adsManager.resume(),this.tvplayer.pause(),this.tvpControlbar&&(this.tvpControlbar.style.display="none"),this.adElement&&(this.adElement.style.display="block"),this.tvplayer.trigger(n.ADMEDIA_PAUSE_REQUESTED)},o.prototype.onContentResumeRequested=function(){this.videoContent.classList.remove("tvp-media-ad"),this.interface.play(),this.tvpControlbar&&(this.tvpControlbar.style.display="block"),this.adElement&&(this.adElement.style.display="none"),this.tvplayer.trigger(n.ADMEDIA_RESUME_REQUESTED)},o}),t("css",{load:function(e,t,i,r){!function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",t.appendChild(n)}(n.toUrl(e)),i(!0)},pluginBuilder:"./css-build"}),t("css-embed",function(){return function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),i=document.createTextNode(e);n.type="text/css",n.styleSheet?n.styleSheet.cssText=i.nodeValue:n.appendChild(i),t.appendChild(n)}}),t("css!assets/css/main.min.css",["css-embed"],function(e){return e(".clearfix:after{clear:both}.clearfix:before,.clearfix:after{display:table;content:\" \"}.tvp-ad-container{display:none;position:absolute;top:0;left:0;right:0;bottom:0;z-index:99}.tvp-ad-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:none}.tvp-ad-controls-wrapper{position:absolute;bottom:0;width:100%;z-index:9999}.tvp-ad-controls-container{position:relative;padding:0 8px;height:36px;bottom:0;display:block;background-color:rgba(26,26,26,.7)}.tvp-ad-controls-time{display:block;position:absolute;bottom:37px;left:0;color:#FFF;padding:9px;font-size:13px;font-family:'Open Sans',sans-serif;background-color:rgba(0,0,0,.8)}.tvp-ad-controls-time-text{font-weight:700;float:left;margin:0 5px 0 0}.tvp-ad-controls-time-value{float:left;margin:0}.tvp-controlbar-floater{position:relative;padding:0 8px;height:36px;bottom:0;display:block;background-color:rgba(26,26,26,.7);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#66000000, endColorstr=#66000000);z-index:999}.tvp-controlbar-icon{position:relative;opacity:.7;display:inline-block;vertical-align:top;margin:0;width:40px;height:36px;cursor:pointer;text-align:center;line-height:30px;color:#FFF;background-repeat:no-repeat;background-position:8px}.tvp-controlbar-icon:hover{opacity:1}.tvp-control-volume-container{width:114px}.tvp-control-playpause,.tvp-control-volume-container{float:left}.tvp-control-fullscreen,#CtrlSettings,#CtrlClosedCaption,.tvp-control-time{float:right;font-family:'Open Sans',sans-serif}#CtrlSettings{position:relative}#CtrlClosedCaptionSettings{position:absolute}.tvplayer-overlay{cursor:pointer;width:100%;height:100%;top:0;left:0;position:absolute;z-index:2147483647}.tvplayer-overlay-thumbnail{background-color:#000;background-size:cover;background-position:center center;background-repeat:no-repeat;cursor:pointer;width:100%;height:100%;top:0;left:0;position:absolute;z-index:2147483647}.tvplayer-video-overlay{width:100%;height:100%;background-color:transparent;opacity:0}.tvplayer-playbutton,.tvp-ad-play-button{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;opacity:.9;width:65px;height:65px;background-color:#1A1A1A;border-style:none;border-radius:0;border-width:0;border-color:#1A1A1A}.tvplayer-playbutton:hover,.tvp-ad-play-button:hover{opacity:1}.tvplayer-playbutton-icon,.tvp-ad-play-button-icon{border-top:15px solid transparent;border-bottom:15px solid transparent;border-left:23px solid #FFF;position:absolute;top:0;left:0;right:-7px;margin:auto;display:inline-block;height:0;bottom:0;width:0}.tvp-control-volume-selector-container{display:block;width:60px;height:36px;float:left;margin:0;padding:0;position:relative;cursor:pointer}.tvp-volume-selector-element{float:right;width:12px;height:4px;background-color:#FFF}.tvp-control-volume-hitbox,.tvp-ad-controls-volume-hitbox{position:absolute;pointer-events:none;width:100%;height:4px;background-color:#FFF;opacity:.25;bottom:0;left:0;right:0;top:0;margin:auto 0}.tvp-control-volume-hitbox-span,.tvp-ad-controls-volume-hitbox-span{position:absolute;display:block;pointer-events:none;height:4px;width:100%;background-color:#FFF;bottom:0;left:0;right:0;top:0;margin:auto 0}.tvp-progress-bar-hover:before{content:'';width:16px;height:16px;background:inherit;box-shadow:0 2px 4px 0 rgba(0,0,0,.5);border-radius:50%;position:absolute;bottom:-4px;right:-6px}.tvp-progress-bar-hover-mobile:before{content:'';width:12px;height:12px;background:inherit;box-shadow:0 2px 4px 0 rgba(0,0,0,.5);border-radius:50%;position:absolute;bottom:-4px;right:-6px}.tvp-control-volume-hitbox-span:before,.tvp-ad-controls-volume-hitbox-span:before{content:'';width:12px;height:12px;background:inherit;border-radius:50%;box-shadow:0 2px 4px 0 rgba(0,0,0,.5);position:absolute;bottom:-4px;right:-6px}.tvp-control-volume{float:left}.tvp-control-time{width:100px;font-size:14px;line-height:36px}.tvp-big-button{transition:opacity .5s ease-out 0s;-webkit-transition:opacity .5s ease-out 0s;background-color:#000;background-color:rgba(0,0,0,.2);position:absolute;border-radius:20px;display:none;background-size:contain;background-position:50% 50%;background-repeat:no-repeat}.tvp-seekbar-mobile{float:none;position:absolute;display:block;top:-8px;left:0;height:8px;background-color:rgba(26,26,26,.7);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.tvp-seekbar-desktop{height:36px;display:inline-block;float:left;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.tvp-parent-seekbar{cursor:pointer}.tvp-controlbar-svg{pointer-events:none;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.tvp-ad-parent-seekbar{height:36px;margin:0 10px;display:inline-block;float:left;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.tvp-progress-background,.tvp-ad-progress-background{position:absolute;bottom:0;left:0;right:0;top:0;margin:auto;height:4px;opacity:.25;background-color:#FFF;pointer-events:none}.tvp-progress-bar,.tvp-ad-progress-bar{position:absolute;bottom:0;left:0;right:0;top:0;margin:auto 0;width:0;height:4px;background-color:#FFF;pointer-events:none}.tvp-ad-progress-bar{background-color:#F8E71C}.tvp-seek-bar{position:absolute;bottom:0;left:0;right:0;top:0;margin:auto 0;height:4px;pointer-events:none}.tvp-scrollbar{max-height:200px;-webkit-overflow-scrolling:touch;overflow-y:scroll;overflow-x:hidden}.tvp-scrollbar::-webkit-scrollbar{width:6px}.tvp-scrollbar::-webkit-scrollbar-track{background:rgba(26,26,26,.9)}.tvp-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:10px;border-radius:10px;background:rgba(255,255,255,.4)}.tvp-subtitles-menu{display:none;position:absolute;list-style-type:none;margin:0;padding:0;z-index:9999;right:-30px;background-color:rgba(26,26,26,.9)}.tvp-subtitles-menu li{padding:0}.tvp-subtitles-menu li button{border:0;cursor:pointer;width:200px;padding:0 5px 0 45px;font-size:16px;color:#FFF;opacity:.9;background-color:#1A1A1A;text-align:left;height:40px;line-height:40px;overflow:hidden;position:relative;float:left;line-height:22px}.tvp-subtitles-menu li button:hover,.tvp-subtitles-menu li button:focus,.tvp-settings-quality-listItem:hover,.tvp-settings-quality-listItem:focus,.tvp-settings-block-cc:hover,.tvp-settings-block-quality:hover{background-color:rgba(255,255,255,.2)}.tvp-subtitles-menu li button[data-state=active]:after,.tvp-active-quality:after{content:'';display:inline-block;height:24px;width:24px;position:absolute;top:8px;left:6px;background-image:url(//cdnjs.tvpage.com/assets/tvplayer/img/tvp-check.svg);background-repeat:no-repeat}.tvp-settings-quality-list{display:none;position:absolute;list-style-type:none;margin:0;padding:0;z-index:9999;right:-30px;cursor:pointer;text-transform:capitalize;background-color:rgba(26,26,26,.9)}.tvp-settings-quality-listItem{padding:0 14px 0 40px;font-size:16px;color:#FFF;opacity:.9;background-color:#1A1A1A;text-align:right;height:40px;line-height:40px;overflow:hidden;position:relative}.tvp-settings-cc-active{float:right;margin-right:20px;position:relative;overflow:hidden}.tvp-settings-quality-active{float:right;position:relative;overflow:hidden}.tvp-active-hd-icon{display:block;position:absolute;top:6px;right:4px;font-size:8px;font-weight:700;line-height:11px;color:#F68026;text-shadow:0 0 1px rgba(0,0,0,.5)}.tvp-no-caption{display:none;position:absolute;z-index:9999;width:185px;top:-38px;left:-68px;background-color:rgba(0,0,0,.7);font-size:12px;border-radius:4px;text-align:center;line-height:30px;color:#FFF}.tvp-no-caption:after{content:\" \";display:block;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid rgba(0,0,0,.7);position:absolute;left:0;right:8px;margin:auto}.tvp-caption-active{opacity:1}.tvp-settings-holder{display:none;width:260px;position:absolute;bottom:50px;right:-30px;color:#FFF;font-size:16px;font-weight:600;background-color:rgba(26,26,26,.9);text-transform:capitalize;z-index:9999}.tvp-settings-block-cc{padding:0 12px 0 9px;cursor:pointer;height:40px;line-height:40px;position:relative}.tvp-settings-block-cc:after{content:'';display:inline-block;height:24px;width:24px;position:absolute;top:8px;right:3px;background-image:url(//cdnjs.tvpage.com/assets/tvplayer/img/tvp-right.svg);background-repeat:no-repeat}.tvp-settings-block-quality{padding:0 12px 0 9px;height:40px;line-height:40px;position:relative}.tvp-settings-text{float:left}#tvp-cc-text,.tvp-settings-quality-header{border-bottom:1px solid rgba(255,255,255,.1);font-weight:600}.tvp-settings-quality-header:after,#tvp-cc-text:after{content:'';display:inline-block;height:24px;width:24px;position:absolute;top:8px;left:6px;background-image:url(//cdnjs.tvpage.com/assets/tvplayer/img/tvp-left.svg);background-repeat:no-repeat}.tvp-control-overlay{cursor:pointer;position:absolute;top:0;left:0;right:0;opacity:0;filter:alpha(opacity=0);pointer-events:auto;background-color:#FFF;z-index:99;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tvp-spinner,.tvp-ad-spinner,.tvplayer-overlay-spinner{display:none;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;opacity:1;width:40px;height:40px;-webkit-animation:spin .9s linear infinite;animation:spin .9s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg)}}#tvp-spinner-path{fill:#e57211}.tvp-ad-spinner{display:block}.tvp-transcript-viewer{background-color:rgba(0,0,0,.9);color:#fff;display:block;height:0;max-height:120px;font-size:16px;line-height:21px;opacity:1;overflow-y:scroll;overflow-x:hidden;padding:0;position:absolute;top:0;width:100%;-webkit-transition:all 180ms ease-in-out;transition:all 180ms ease-in-out}.tvp-transcript-viewer.active{height:104px}.tvp-transcript-viewer-text{padding:20px;height:100%}.tvpHTML5Video_errorMessage{text-align:center;height:25px;top:0;bottom:0;left:0;right:0;margin:auto;position:absolute;color:#DDD;font-size:large;display:none}.tvp-right-click-menu{position:absolute;color:#fff;top:0;left:0;padding:5px;background-color:rgba(26,26,26,.9);z-index:999}.tvp-right-click-menu-logo{height:20px;width:80px;float:left;margin:0 5px;cursor:pointer;background-position:4px 4px;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MyIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDczIDE0IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICA8ZGVmcz4gICAgPHBvbHlnb24gaWQ9ImEiIHBvaW50cz0iLjAxNyAxMS42NjEgMjUuNDUzIDExLjY2MSAyNS40NTMgLjA0OSAuMDE3IC4wNDkgLjAxNyAxMS42NjEiLz4gIDwvZGVmcz4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yMi43NDMxNzgzIDkuMDczNDkzMzNDMjIuMjQ5NTMyMyA5LjA3MzQ5MzMzIDIxLjg2NzE3ODMgOC43MTIyIDIxLjg2NzE3ODMgNy43OTA5MDY2N0wyMS44NjcxNzgzIDQuMDEyMTIgMjQuNDIxNzA2NyA0LjAxMjEyQzI0LjQyMTcwNjcgNC4wMTIxMiAyNC43MDMxNDM0IDQuMDEzNzA2NjcgMjQuNzAzMTQzNCAzLjE5ODA2NjY3IDI0LjcwMzE0MzQgMi4zODI0MjY2NyAyNC40MjE3MDY3IDIuMzg3MjggMjQuNDIxNzA2NyAyLjM4NzI4TDIxLjg2NzE3ODMgMi4zODUyMjY2NyAyMS44NjcxNzgzLjM2MDM2QzIxLjg2NzE3ODMuMzYwMzYgMjEuODczNTkxNy4wODIyMjY2NjY3IDIwLjkzOTg3MDguMDgyMjI2NjY2NyAyMC4wMjY0Mjc2LjA4MjIyNjY2NjcgMjAuMDA3MjgxNy4zNjkwNCAyMC4wMDcyODE3LjM2OTA0TDIwLjAwNzI4MTcgOC4wNDc1NzMzM0MyMC4wMDcyODE3IDkuMzgzMzYgMjAuNjc0MDkwNCAxMC44MjQ3MDY3IDIyLjY2NjUgMTAuODI0NzA2N0wyNC40MjE3MDY3IDEwLjgyNDcwNjdDMjQuNDIxNzA2NyAxMC44MjQ3MDY3IDI0LjcwODQyNTEgMTAuODIyMzczMyAyNC43MDg0MjUxIDkuOTQ3OTMzMzMgMjQuNzA4NDI1MSA5LjA3MzQ5MzMzIDI0LjQyMTcwNjcgOS4wNzM0OTMzMyAyNC40MjE3MDY3IDkuMDczNDkzMzNMMjIuNzQzMTc4MyA5LjA3MzQ5MzMzTTI1LjQzMzYxNSAyLjg2MzY1MzMzQzI1LjIzODU3MTEgMi4zODI0MjY2NyAyNS42ODIxMzU3IDIuMzgyNDI2NjcgMjUuNzQ1OTg3MSAyLjM4MjQyNjY3TDI2Ljk0MDY3ODMgMi4zODI0MjY2N0MyNy4wODIxNTEyIDIuMzgyNDI2NjcgMjcuMjQ3MjAyOCAyLjM4MjQyNjY3IDI3LjM1NTE5MzggMi42NDI0NTMzMyAyNy4zOTM2NzQ0IDIuNzM1MjI2NjcgMjkuNTgyOTE5OSA4LjE4MTY5MzMzIDI5LjU4MjkxOTkgOC4xODE2OTMzMyAyOS41ODI5MTk5IDguMTgxNjkzMzMgMzEuNzQ1Mzc5OCAyLjg1MDEyIDMxLjgwNTgzNTkgMi42OTQxNiAzMS45MjQ2NzMxIDIuMzg3MjggMzIuMTA1NjY0MSAyLjM4MjQyNjY3IDMyLjIzOTEyMDIgMi4zODI0MjY2N0wzMy40MzA5ODE5IDIuMzgyNDI2NjdDMzMuNTEwMzAxIDIuMzgyNDI2NjcgMzMuOTUyNDUwOSAyLjM3MDc2IDMzLjczOTM5MjggMi44OTg0NjY2NyAzMy42NzcxNDQ3IDMuMDUyNTYgMzAuODA2ODQ4OCAxMC4wMDE2OTMzIDMwLjgwNjg0ODggMTAuMDAxNjkzMyAzMC42NjYxMzA1IDEwLjMwMzE2IDMwLjQ3MTY1MjUgMTAuODI0NzA2NyAyOS41ODk0Mjc2IDEwLjgyNDcwNjcgMjguNzA3NTgwMSAxMC44MjQ3MDY3IDI4LjQ3OTI0MjkgMTAuMjY2NTczMyAyOC4zNzAyMTQ1IDEwLjAwMTY5MzMgMjguMzcwMjE0NSAxMC4wMDE2OTMzIDI1LjYyODU2NDYgMy4zNDQ3ODY2NyAyNS40MzM2MTUgMi44NjM2NTMzMyIvPiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNS4wODUgMi4zMzMpIj4gICAgICA8bWFzayBpZD0iYiIgZmlsbD0id2hpdGUiPiAgICAgICAgPHVzZSB4bGluazpocmVmPSIjYSIvPiAgICAgIDwvbWFzaz4gICAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNS43Nzk2MzgyNCA0LjM4NDI0QzUuNzc5NjM4MjQgNS45MjQyNCA1LjI5NTMyOTQ2IDYuNzQ0MDggMy44Mjg0NDQ0NCA2Ljc0NDA4TDEuODg0MjI5OTcgNi43NDIzMDY2NyAxLjg3NzI1MDY1IDEuNjc4OTczMzMgNC4wMDAxOTI1MSAxLjY3ODc4NjY3QzUuMjk1MzI5NDYgMS42Nzg3ODY2NyA1Ljc3OTYzODI0IDIuNzUwOTA2NjcgNS43Nzk2MzgyNCA0LjM4NDI0ek00LjA1MzU3NDk0LjA1NTgxMzMzMzNMLjM5MDI3NjQ4Ni4wNTU4MTMzMzMzQy4xNTA2MjE0NDcuMDU1ODEzMzMzMy4wMTczNTQwMDUyLjIxMTQuMDE3MzU0MDA1Mi4zOTgwNjY2NjdMLjAxNzM1NDAwNTIgMTEuMTIyNTMzM0MuMDE3MzU0MDA1MiAxMS4xMjI1MzMzLjAxODM5MTQ3MjkgMTEuNDAyNTMzMy45NTA5ODA2MiAxMS40MDI1MzMzIDEuODgzNjY0MDggMTEuNDAyNTMzMyAxLjg4Mzc1ODQgMTEuMTI0ODY2NyAxLjg4Mzc1ODQgMTEuMTI0ODY2N0wxLjg4Mzc1ODQgOC40OTE0NjY2NyA0LjM2NzkyNzY1IDguNDkxNDY2NjdDNy4wMjQ1MDUxNyA4LjQ5MTQ2NjY3IDcuNzMyNDM1NCA1Ljc1Mjk3MzMzIDcuNzMyNDM1NCA0LjM4NDI0IDcuNzMyNDM1NCAzLjAxNTIyNjY3IDcuMTE4ODIwNDEuMDU1ODEzMzMzMyA0LjA1MzU3NDk0LjA1NTgxMzMzMzNMNC4wNTM1NzQ5NC4wNTU4MTMzMzMzek0yMy41OTIxMDk4IDYuNzM0NTZMMjEuNDUyNjYyOCA2Ljc0MDE2QzIwLjMyNjgyMTcgNi43NDAxNiAxOS42ODU1NzI0IDUuOTU1NDEzMzMgMTkuNjg1NTcyNCA0LjM4NDI0IDE5LjY4NTU3MjQgMi43OTc1NzMzMyAyMC4xNjU3MzEzIDEuNjg2NzIgMjEuNjE2Njc3IDEuNjg2NzJMMjMuNTkyMTA5OCAxLjY4NjcyIDIzLjU5MjEwOTggNi43MzQ1NnpNMjUuMTE1Njc4My4wNDk0NjY2NjY3TDIxLjQ5MTA0OTEuMDQ5NDY2NjY2N0MxOC4zOTY3NTQ1LjA0OTQ2NjY2NjcgMTcuNzgzOTg4NCAyLjU4NTk4NjY3IDE3Ljc4Mzk4ODQgNC4zODg5MDY2NyAxNy43ODM5ODg0IDYuNjUyNjEzMzMgMTguOTY4NjgyMiA4LjQ5MDgxMzMzIDIwLjk5NjkzMTUgOC40OTA4MTMzM0wyMy41Nzk0NzE2IDguNDkwODEzMzNDMjMuNTc5NDcxNiA4LjgxNzIgMjMuMjk1Mjk5NyA5Ljk0NTk3MzMzIDIxLjYwODA5NDMgOS45NDU5NzMzM0wxOC45Mjc4NDM3IDkuOTQ1OTczMzNDMTguOTI3ODQzNyA5Ljk0NTk3MzMzIDE4LjYzMzg2MyA5Ljk0Mjg5MzMzIDE4LjYzMzg2MyAxMC44MDQ4MjY3IDE4LjYzMzg2MyAxMS42NjY2NjY3IDE4LjkyNzg0MzcgMTEuNjY2NjY2NyAxOC45Mjc4NDM3IDExLjY2NjY2NjdMMjEuNjA4MDk0MyAxMS42NjY2NjY3QzI0LjQ0Mzk2NTEgMTEuNjY2NjY2NyAyNS40NTI1NzI0IDkuNjY4ODY2NjcgMjUuNDUyNTcyNCA3Ljg1MzgxMzMzTDI1LjQ1MjU3MjQuMzY0OTMzMzMzQzI1LjQ1MjU3MjQuMTcyNTczMzMzIDI1LjMwNzMyNjkuMDQ5NDY2NjY2NyAyNS4xMTU2NzgzLjA0OTQ2NjY2NjdMMjUuMTE1Njc4My4wNDk0NjY2NjY3eiIgbWFzaz0idXJsKCNiKSIvPiAgICA8L2c+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik02NC4xMDIzOTQxIDUuNjYyNTMzMzNDNjQuMTAyMzk0MSA1LjI3MDkwNjY3IDY0Ljc2MDUyNTggMy45NDM4IDY2LjIyMjUwNjUgMy45NDM4IDY4LjA0NTI0MjkgMy45NDM4IDY4LjI0MzAyMiA1LjE0ODM2IDY4LjI0MzAyMiA1LjY2MjUzMzMzTDY0LjEwMjM5NDEgNS42NjI1MzMzM3pNNzAuMDgxMjI2MSA2LjY4MTczMzMzQzcwLjA4MTIyNjEgNS4zMTc1NzMzMyA3MC4wODY0MTM0IDIuMzgyNDI2NjcgNjYuMjY4OTA5NiAyLjM4MjQyNjY3IDYyLjkxNTUzMSAyLjM4MjQyNjY3IDYyLjE3ODQ1NzQgNS4yNzA5MDY2NyA2Mi4xNzg0NTc0IDYuNjI0MjQgNjIuMTc4NDU3NCA3Ljk3NzU3MzMzIDYyLjQ2NzUzMzYgMTAuODI0NzA2NyA2Ni42MTcxMjE0IDEwLjgyNDcwNjdMNjkuNDIwMDc2MiAxMC44MjQ3MDY3QzY5LjQyMDA3NjIgMTAuODI0NzA2NyA2OS43MDIzNjE4IDEwLjgxNzMzMzMgNjkuNzAyMzYxOCA5Ljk0NTQxMzMzIDY5LjcwMjM2MTggOS4wNzM0OTMzMyA2OS40MjEwMTk0IDkuMDczNDkzMzMgNjkuNDIxMDE5NCA5LjA3MzQ5MzMzTDY2LjQyODc3MzkgOS4wNzM0OTMzM0M2NS4yMTQ0NjUxIDkuMDczNDkzMzMgNjQuMDY2ODM3MiA4LjY0MjU3MzMzIDY0LjA2NjgzNzIgNy4xNDc2NTMzM0w2OS42NzA4NjA1IDcuMTQ3NjUzMzNDNzAuMDMyNDY1MSA3LjE0NzY1MzMzIDcwLjA4MTIyNjEgNi45NDMxNiA3MC4wODEyMjYxIDYuNjgxNzMzMzNMNzAuMDgxMjI2MSA2LjY4MTczMzMzek0xNS43MzA0NjI1IDkuODIzMzMzMzNMMS40OTEyMTgzNSA5LjgyMzMzMzMzQzEuMjIzODM0NjMgOS44MjMzMzMzMyAxLjAwNjM0MzY3IDkuNjA4MiAxLjAwNjM0MzY3IDkuMzQzNjkzMzNMMS4wMDYzNDM2NyAxLjU1ODk0NjY3QzEuMDA2MzQzNjcgMS4yOTQzNDY2NyAxLjIyMzgzNDYzIDEuMDc5MTIgMS40OTEyMTgzNSAxLjA3OTEyTDEzLjAyNjA2NzIgMS4wNzkxMiAxMy4wMjYwNjcyIDIuNzUyNzczMzNDMTMuMDI2MDY3MiAzLjU2NjQ1MzMzIDEzLjY5NTEzOTUgNC4yMjgzNzMzMyAxNC41MTc0NzQyIDQuMjI4MzczMzNMMTYuMjE1NDMxNSA0LjIyODM3MzMzIDE2LjIxNTQzMTUgOS4zNDM2OTMzM0MxNi4yMTU0MzE1IDkuNjA4MiAxNS45OTc4NDYzIDkuODIzMzMzMzMgMTUuNzMwNDYyNSA5LjgyMzMzMzMzek0xNC4wMzI1MDUyIDEuNzgxNDUzMzNMMTUuNTAxOTM2NyAzLjIzMjUwNjY3IDE0LjUxNzQ3NDIgMy4yMzI1MDY2N0MxNC4yNDk5OTYxIDMuMjMyNTA2NjcgMTQuMDMyNTA1MiAzLjAxNzI4IDE0LjAzMjUwNTIgMi43NTI3NzMzM0wxNC4wMzI1MDUyIDEuNzgxNDUzMzN6TTEzLjczNzM5MjguMDgzMjUzMzMzM0wxLjQ5MTIxODM1LjA4MzI1MzMzMzNDLjY2ODk3ODAzNi4wODMyNTMzMzMzIDAgLjc0NTI2NjY2NyAwIDEuNTU4OTQ2NjdMMCA5LjM0MzY5MzMzQzAgMTAuMTU3MTg2Ny42Njg5NzgwMzYgMTAuODE5MiAxLjQ5MTIxODM1IDEwLjgxOTJMNy42MTQ2MzU2NiAxMC44MTkyIDcuNTMzOTk2MTIgMTEuMjcyODkzMyA0LjUzODgyNjg3IDExLjI3Mjg5MzNDNC4yOTAwMjMyNiAxMS4yNzI4OTMzIDQuMDg3NjIyNzQgMTEuNDczMjggNC4wODc2MjI3NCAxMS43MTk0OTMzIDQuMDg3NjIyNzQgMTEuOTY1NjEzMyA0LjI5MDAyMzI2IDEyLjE2NTgxMzMgNC41Mzg4MjY4NyAxMi4xNjU4MTMzTDEyLjczOTgyMDQgMTIuMTY1ODEzM0MxMi45ODg1Mjk3IDEyLjE2NTgxMzMgMTMuMTkwOTMwMiAxMS45NjU2MTMzIDEzLjE5MDkzMDIgMTEuNzE5NDkzMyAxMy4xOTA5MzAyIDExLjQ3MzI4IDEyLjk4ODUyOTcgMTEuMjcyODkzMyAxMi43Mzk4MjA0IDExLjI3Mjg5MzNMOS43MTMxNDk4NyAxMS4yNzI4OTMzIDkuNjMyNDE2MDIgMTAuODE5MiAxNS43MzA0NjI1IDEwLjgxOTJDMTYuNTUyNzk3MiAxMC44MTkyIDE3LjIyMTc3NTIgMTAuMTU3MTg2NyAxNy4yMjE3NzUyIDkuMzQzNjkzMzNMMTcuMjIxNzc1MiAzLjUyMzg5MzMzIDEzLjczNzM5MjguMDgzMjUzMzMzMyAxMy43MzczOTI4LjA4MzI1MzMzMzN6Ii8+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xMS4wODQ5NjUxIDUuMDk4NDI2NjdMNy4wMzk5NzI4NyAyLjc4NzIxMzMzQzYuOTEyNTUyOTcgMi43MTQ0MTMzMyA2Ljc1NTYxMjQgMi43MTQ1MDY2NyA2LjYyODI4NjgyIDIuNzg3MjEzMzMgNi41MDA4NjY5MyAyLjg2MDAxMzMzIDYuNDIyMzk2NjQgMi45OTQ1MDY2NyA2LjQyMjM5NjY0IDMuMTQwMTA2NjdMNi40MjIzOTY2NCA3Ljc2MjI1MzMzQzYuNDIyMzk2NjQgNy45MDc4NTMzMyA2LjUwMDg2NjkzIDguMDQyNDQgNi42MjgyODY4MiA4LjExNTI0IDYuNjkxOTQ5NjEgOC4xNTE1NDY2NyA2Ljc2MzA2MzMxIDguMTY5NjUzMzMgNi44MzQwODI2OSA4LjE2OTY1MzMzIDYuOTA1MTk2MzggOC4xNjk2NTMzMyA2Ljk3NjIxNTc2IDguMTUxNTQ2NjcgNy4wMzk5NzI4NyA4LjExNTI0TDExLjA4NDk2NTEgNS44MDQwMjY2N0MxMS4yMTIzODUgNS43MzEyMjY2NyAxMS4yOTA4NTUzIDUuNTk2NzMzMzMgMTEuMjkwODU1MyA1LjQ1MTIyNjY3IDExLjI5MDg1NTMgNS4zMDU2MjY2NyAxMS4yMTIyOTA3IDUuMTcxMTMzMzMgMTEuMDg0OTY1MSA1LjA5ODQyNjY3TTQ3LjI5NjQ1NDggOS4wNzM0OTMzM0M0Ni43NjQwNDUyIDkuMDczNDkzMzMgNDUuNzU0NDAwNSA4LjkzMzAyNjY3IDQ1Ljc1NDQwMDUgOC4yMDAxNzMzMyA0NS43NTQ0MDA1IDYuNjk0MjQgNDguNDIyMzkwMiA2Ljg0MjA4IDQ5LjQxNjY2MTUgNi43MjM0NTMzM0w0OS40MTQyMDkzIDkuMDczNDkzMzMgNDcuMjk2NDU0OCA5LjA3MzQ5MzMzek00OC44Mjc3NTcxIDIuMzgyNDI2NjdMNDQuODU5MjU0NSAyLjM4MjQyNjY3QzQ0Ljg1OTI1NDUgMi4zODI0MjY2NyA0NC41NzA0NjEyIDIuMzg3NzQ2NjcgNDQuNTcwNDYxMiAzLjE5OTkzMzMzIDQ0LjU3MDQ2MTIgNC4wMTIxMiA0NC44NTkyNTQ1IDQuMDEyMjEzMzMgNDQuODU5MjU0NSA0LjAxMjIxMzMzIDQ0Ljg1OTI1NDUgNC4wMTIyMTMzMyA0Ny4zNTM3OTg0IDQuMDEyMTIgNDguMjYxNTgyNyA0LjAxMjEyIDQ5LjQwNDg3MjEgNC4wMTIxMiA0OS4zNjQ3ODgxIDQuNzU4MzIgNDkuNDE2NjYxNSA1LjE0MDA1MzMzIDQ0Ljc5NTIxNDUgNS4zMDU5MDY2NyA0My44NDY4NzQ3IDYuNDYwOTA2NjcgNDMuODQ2ODc0NyA4LjQyMDkwNjY3IDQzLjg0Njg3NDcgOS44NTAwMjY2NyA0NC44MzA1ODI3IDEwLjgyNDcwNjcgNDYuODkzNzI4NyAxMC44MjQ3MDY3TDUwLjg3NDU4NjYgMTAuODI0NzA2N0M1MS4xNTAyNyAxMC44MjQ3MDY3IDUxLjI2OTAxMjkgMTAuNjkwMDI2NyA1MS4yNjkwMTI5IDEwLjQ3NDI0TDUxLjI2OTAxMjkgNS4wMjU5MDY2N0M1MS4yNjkwMTI5IDQuMTM1MzIgNTAuNzE5NzIwOSAyLjM5MjYgNDguODI3NzU3MSAyLjM4MjQyNjY3TDQ4LjgyNzc1NzEgMi4zODI0MjY2N3pNNzEuODgxNTE1NSAzLjE2MDgyNjY3TDcxLjk2NDEzNTcgMy4xNjA4MjY2N0M3Mi4wMjMxNzcgMy4xNjA4MjY2NyA3Mi4wNjc5NzY3IDMuMTQ3MDEzMzMgNzIuMDk4MjUxOSAzLjExOTM4NjY3IDcyLjEyODUyNzEgMy4wOTE3NiA3Mi4xNDM3MTE5IDMuMDUyMjggNzIuMTQzNzExOSAzLjAwMDg1MzMzIDcyLjE0MzcxMTkgMi45NDQwMTMzMyA3Mi4xMjkxODczIDIuOTA0MzQ2NjcgNzIuMTAwMDQzOSAyLjg4MTg1MzMzIDcyLjA3MDkwMDUgMi44NTkyNjY2NyA3Mi4wMjQ4NzQ3IDIuODQ4MDY2NjcgNzEuOTYxNzc3OCAyLjg0ODA2NjY3TDcxLjg4MTUxNTUgMi44NDgwNjY2NyA3MS44ODE1MTU1IDMuMTYwODI2Njd6TTcyLjM3MTIwMDMgMi45OTYxODY2N0M3Mi4zNzEyMDAzIDMuMTMxMjQgNzIuMzEwMTc4MyAzLjIyMzI2NjY3IDcyLjE4ODA0MDEgMy4yNzIyNjY2N0w3Mi40NzE4MzQ2IDMuNzQyNjY2NjcgNzIuMjE5MTY0MSAzLjc0MjY2NjY3IDcxLjk4OTMxNzggMy4zMzI2NTMzMyA3MS44ODE1MTU1IDMuMzMyNjUzMzMgNzEuODgxNTE1NSAzLjc0MjY2NjY3IDcxLjY1NTI1MzIgMy43NDI2NjY2NyA3MS42NTUyNTMyIDIuNjcyNjkzMzMgNzEuOTY4OTQ1NyAyLjY3MjY5MzMzQzcyLjEwNzg3MjEgMi42NzI2OTMzMyA3Mi4yMDk2MzgyIDIuNjk5NDggNzIuMjc0MjQ0MiAyLjc1MzI0IDcyLjMzODk0NDQgMi44MDcgNzIuMzcxMjAwMyAyLjg4NzkyIDcyLjM3MTIwMDMgMi45OTYxODY2N3pNNzEuMjUyOTA0NCAzLjIwNzAyNjY3QzcxLjI1MjkwNDQgMy4zNDEzMzMzMyA3MS4yODY1NzQ5IDMuNDY1OTMzMzMgNzEuMzU0MTA0NyAzLjU4MDkyIDcxLjQyMTU0MDEgMy42OTU4MTMzMyA3MS41MTM1OTE3IDMuNzg2NDQgNzEuNjMwMDcxMSAzLjg1MjggNzEuNzQ2NTUwNCAzLjkxOTE2IDcxLjg3MTk4OTcgMy45NTIzODY2NyA3Mi4wMDYwMTE2IDMuOTUyMzg2NjcgNzIuMTQxNzMxMyAzLjk1MjM4NjY3IDcyLjI2NzkyNTEgMy45MTg2IDcyLjM4NDQwNDQgMy44NTEwMjY2NyA3Mi41MDA4ODM3IDMuNzgzNTQ2NjcgNzIuNTkyNTU4MSAzLjY5MjczMzMzIDcyLjY1OTIzOSAzLjU3ODQ5MzMzIDcyLjcyNTgyNTYgMy40NjQzNDY2NyA3Mi43NTkyMTMyIDMuMzQwNTg2NjcgNzIuNzU5MjEzMiAzLjIwNzAyNjY3IDcyLjc1OTIxMzIgMy4wNzQ0IDcyLjcyNTQ0ODMgMi45NTAwOCA3Mi42NTgwMTI5IDIuODM0NDQgNzIuNTkwNTc3NSAyLjcxODcwNjY3IDcyLjQ5ODMzNzIgMi42Mjc2MTMzMyA3Mi4zODE0ODA2IDIuNTYxMjUzMzMgNzIuMjY0NTI5NyAyLjQ5NDk4NjY3IDcyLjEzOTM3MzQgMi40NjE3NiA3Mi4wMDYwMTE2IDIuNDYxNzYgNzEuODcxOTg5NyAyLjQ2MTc2IDcxLjc0NzIxMDYgMi40OTQ1MiA3MS42MzE5NTc0IDIuNTYwMTMzMzMgNzEuNTE2NTE1NSAyLjYyNTY1MzMzIDcxLjQyNDQ2MzggMi43MTYwOTMzMyA3MS4zNTU4OTY2IDIuODMxNDUzMzMgNzEuMjg3MjM1MSAyLjk0NjgxMzMzIDcxLjI1MjkwNDQgMy4wNzE5NzMzMyA3MS4yNTI5MDQ0IDMuMjA3MDI2Njd6TTcxLjEwNTY3ODMgMy4yMDcwMjY2N0M3MS4xMDU2NzgzIDMuMDQ5MTA2NjcgNzEuMTQ1NDc5MyAyLjkwMDk4NjY3IDcxLjIyNTM2NDMgMi43NjI3NiA3MS4zMDUyNDk0IDIuNjI0NTMzMzMgNzEuNDE0OTM4IDIuNTE1NTIgNzEuNTU0NjE4OSAyLjQzNTcyIDcxLjY5NDM5NDEgMi4zNTU5MiA3MS44NDQ3MzI2IDIuMzE2MDY2NjcgNzIuMDA2MDExNiAyLjMxNjA2NjY3IDcyLjE2NTY4NzMgMi4zMTYwNjY2NyA3Mi4zMTUzNjU2IDIuMzU1NTQ2NjcgNzIuNDU1MDQ2NSAyLjQzNDUwNjY3IDcyLjU5NDgyMTcgMi41MTM0NjY2NyA3Mi43MDQ5ODE5IDIuNjIyMTA2NjcgNzIuNzg1NTI3MSAyLjc2MDMzMzMzIDcyLjg2NjE2NjcgMi44OTg1NiA3Mi45MDY0MzkzIDMuMDQ3NTIgNzIuOTA2NDM5MyAzLjIwNzAyNjY3IDcyLjkwNjQzOTMgMy4zNjI3MDY2NyA3Mi44Njc3NyAzLjUwODc3MzMzIDcyLjc5MDMzNzIgMy42NDU1MDY2NyA3Mi43MTI5MDQ0IDMuNzgyMTQ2NjcgNzIuNjA0MzQ3NSAzLjg5MTUzMzMzIDcyLjQ2NDY2NjcgMy45NzM2NjY2NyA3Mi4zMjQ4OTE1IDQuMDU1ODkzMzMgNzIuMTcyMTAwOCA0LjA5Njk2IDcyLjAwNjAxMTYgNC4wOTY5NiA3MS44NDA3NzEzIDQuMDk2OTYgNzEuNjg4MzU3OSA0LjA1NjA4IDcxLjU0ODY3NyAzLjk3NDMyIDcxLjQwODkwMTggMy44OTI1NiA3MS4zMDAxNTYzIDMuNzgzMzYgNzEuMjIyNDQwNiAzLjY0NjYyNjY3IDcxLjE0NDUzNjIgMy41MDk5ODY2NyA3MS4xMDU2NzgzIDMuMzYzNDUzMzMgNzEuMTA1Njc4MyAzLjIwNzAyNjY3TDcxLjEwNTY3ODMgMy4yMDcwMjY2N3oiLz4gIDwvZz48L3N2Zz4=)}.tvp-right-click-menu-player-version{height:20px;color:#FFF;font-family:'Open Sans',sans-serif;font-size:10px;line-height:20px;float:left;margin-right:5px}"),!0}),t("TVPlayer",["etc/config","event/EventDispatcher","event/EventMap","api/Interface","controlbar/Controlbar","utils/ControlbarUtils","utils/Debug","analytics/Analytics","spinner/Spinner","utils/DOMUtils","ad/AdLoader","css!assets/css/main.min.css"],function(e,t,n,i,r,o,a,s,l,u,c){function d(){t.apply(this,arguments),this.interface=null,this.controlbar=null,this.divId=this.get("divId"),this._setContainer(),this._normalizeOptions(this.getOptions()),this._setGlobalId(),this.initialize(),this._registerGlobalNs()}return d.prototype=new t,d.prototype.constructor=d,d.prototype.initialize=function(){var e=this.getOptions();this.interface=new i(e),this.interface.on("all",this.dispatchEvent,this),this.interface.initialize(),this.initializeAnalyticsHolder(e),e.hasOwnProperty("analytics")&&(this.analytics=new s(this,e),this.analytics.on("all",this.dispatchEvent,this)),e.hasOwnProperty("controls")&&!0===e.controls.active&&(this.controlbar=new r(this.getOptions(),this.interface.getPlayer().getPlayer(),this)),this.initializeAdLoader(),e.hasOwnProperty("spinner")&&!1===e.spinner||(this.spinner=new l(this.interface.getPlayer())),this.initialLoad=!0},d.prototype.initializeAnalyticsHolder=function(e){e&&e.hasOwnProperty("debug")&&Number(e.debug)&&(this.tvpAnalyticsHolder=u.createElement("div",{classProperty:"tvplayer-analytics-holder"}),this.tvpAnalyticsHolder.style.display="none",e.DOMContainer.appendChild(this.tvpAnalyticsHolder),this.tvpAnalyticsHolder2=u.createElement("div",{classProperty:"tvplayer-analytics-holder-2"}),this.tvpAnalyticsHolder2.style.display="none",e.DOMContainer.appendChild(this.tvpAnalyticsHolder2))},d.prototype.initializeAdLoader=function(){if(this.adOptions=[],this.options&&this.options.hasOwnProperty("advertising")&&this.options.advertising.hasOwnProperty("enabled")&&this.options.advertising.enabled)for(var e=["adServerUrl","adTimeout","maxAds","adInterval"],t=0;t<e.length;t++)this.options.advertising.hasOwnProperty(e[t])&&(this.adOptions[e[t]]=this.options.advertising[e[t]]);this.adOptions.adServerUrl&&"undefined"!=typeof google&&void 0!==google.ima&&(this.adLoader=new c(this.getOptions(),this.interface.getPlayer().getPlayer(),this,this.interface,this.adOptions))},d.prototype._normalizeOptions=function(t){return this.set("apiBaseUrl",t.apiBaseUrl||""),this.set("apiTranscript",t.apiTranscript||t.apiBaseUrl+e.apiTranscript),this.set("mediaProviders",t.mediaProviders||"tvpage,youtube"),!t.width&&this.get("DOMContainer")&&this.set("width",this.get("DOMContainer").offsetWidth),!t.height&&this.get("DOMContainer")&&this.set("height",this.get("DOMContainer").offsetHeight),t},d.prototype._setGlobalId=function(){this.set("globalRunId",this.divId+"_"+Math.floor(1e3*Math.random()+1))},d.prototype._registerGlobalNs=function(){if("object"!=typeof TVPage)throw new Error("6827: TVPCould not register to global namespace. unable to run");TVPage.hasOwnProperty("instances")||(TVPage.instances={}),TVPage.instances[this.get("globalRunId")]=this,TVPage.hasOwnProperty("swfCallback")&&"function"==typeof TVPage.swfCallback||this._initGlobalCallback()},d.prototype._initGlobalCallback=function(){TVPage.swfCallback=function(e,t){"object"==typeof TVPage.instances[e]&&(TVPage.instances[e].controlbar&&TVPage.instances[e].controlbar.handlePlayerEvent(t),TVPage.instances[e].dispatchEvent(t))}},d.prototype._setContainer=function(){var e=document.getElementById(this.divId);if(!e)throw new Error("6828: Could not load DOMElement with Id: "+this.divId);this.set("DOMContainer",e)},d.prototype.dispatchEvent=function(e,i){var r=null,o="object"==typeof e?e.type:e;t.prototype.dispatchEvent.call(this,o,i),o===n.MEDIA_READY?(!this.adLoader&&this.initialLoad&&(this.showOverlay(),this.initialLoad=!1),r=this.get("onReady"),i=this):r=this.get("onStateChange"),"function"==typeof r&&r(o,i)},d.prototype.showOverlay=function(){this.tvpOverlay&&this.tvpOverlaySpinner&&(this.tvpOverlay.style.display="block",this.tvpOverlaySpinner.style.display="none")},d.prototype.destroy=function(){this.controlbar&&this.controlbar.destroy(),this.interface&&this.interface.destroy(),delete this.interface},d.prototype.play=function(){return this.playAd&&this.adLoader?(this.adLoader.playAds(),u.isMobile()?this.interface.play():void 0):this.interface.play()},d.prototype.pause=function(){return this.interface.pause()},d.prototype.stop=function(){return this.interface.stop()},d.prototype.volume=function(e){return this.interface.volume(e)},d.prototype.mute=function(){return this.interface.mute()},d.prototype.unmute=function(){return this.interface.unmute()},d.prototype.isMuted=function(){return this.interface.isMuted()},d.prototype.seek=function(e){return this.interface.seek(e)},d.prototype.setPoster=function(e){if(e&&e.type&&"mp4"==e.type&&this.options&&this.options.hasOwnProperty("DOMContainer")&&e.hasOwnProperty("thumbnailUrl")){var t=this.options.DOMContainer.getElementsByClassName("tvpHTML5Video")[0];t&&t.setAttribute("poster",e.thumbnailUrl)}},d.prototype.setOverlayStyles=function(e,t,n,i){if(e&&e.hasOwnProperty("controls")){if(e.controls.hasOwnProperty("playbutton")){for(var r=["backgroundColor","borderStyle","borderColor","borderRadius","borderWidth","height","width"],o=0;o<r.length;o++)e.controls.playbutton.hasOwnProperty(r[o])&&e.controls.playbutton[r[o]]&&(t.style[r[o]]=e.controls.playbutton[r[o]]);e.controls.playbutton.hasOwnProperty("iconColor")&&e.controls.playbutton.iconColor&&(n.style.borderLeftColor=e.controls.playbutton.iconColor)}e.controls.hasOwnProperty("overlayColor")&&e.controls.overlayColor&&(i.style.backgroundColor=e.controls.overlayColor),e.controls.hasOwnProperty("overlayOpacity")&&e.controls.overlayOpacity&&(i.style.opacity=e.controls.overlayOpacity)}},d.prototype.setOverlay=function(e,t){this.tvpOverlayThumbnail=u.createElement("div",{classProperty:"tvplayer-overlay-thumbnail"}),e.hasOwnProperty("thumbnailUrl")&&(this.tvpOverlayThumbnail.style.backgroundImage="url("+e.thumbnailUrl+")"),this.tvpOverlaySpinner=u.createElement("div",{classProperty:"tvplayer-overlay-spinner"}),this.tvpOverlaySpinner.style.display="block",this.tvpOverlaySpinner.innerHTML='<svg version="1.1" class="svg-loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 80 80" xml:space="preserve"><path id="tvp-spinner-path" d="M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1 c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1 c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1 l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5 c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1 c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9 c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9 c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2 c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9 c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1 c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7 c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1 c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z"></path></svg>',this.tvpOverlayThumbnail.appendChild(this.tvpOverlaySpinner),t.appendChild(this.tvpOverlayThumbnail),this.tvpOverlay=u.createElement("div",{id:"tvplayer-overlay",classProperty:"tvplayer-overlay"}),this.tvpVideoOverlay=u.createElement("div",{id:"tvplayer-video-overlay",classProperty:"tvplayer-video-overlay"}),this.tvpOverlay.appendChild(this.tvpVideoOverlay),this.tvpPlayButton=u.createElement("div",{id:"tvplayer-playbutton",classProperty:"tvplayer-playbutton"}),this.tvpPlayButtonIcon=u.createElement("div",{id:"tvplayer-playbutton-icon",classProperty:"tvplayer-playbutton-icon"}),this.tvpPlayButton.appendChild(this.tvpPlayButtonIcon),this.tvpOverlay.appendChild(this.tvpPlayButton),this.setOverlayStyles(this.options,this.tvpPlayButton,this.tvpPlayButtonIcon,this.tvpVideoOverlay),t.appendChild(this.tvpOverlay),this.tvpOverlay.style.display="none";var n=this,i=function(){this.removeEventListener("click",i,!1),this.parentNode.removeChild(n.tvpOverlayThumbnail),this.parentNode.removeChild(this),n.play()};this.tvpOverlay.addEventListener("click",i),this.adPlayerTimeout()},d.prototype.adPlayerTimeout=function(){if(this.tvpOverlay&&this.tvpOverlaySpinner)if(this.playAd=!1,this.adLoader){var e=this,t=0,n=Number(this.adOptions.adTimeout);this.pollInterval=window.setInterval(function(){100*t<=n?e.adLoader.readyToPlayAd&&(e.playAd=!0,e.showOverlay(),window.clearInterval(e.pollInterval)):(e.playAd=!1,e.showOverlay(),window.clearInterval(e.pollInterval)),t++},100)}else this.initialLoad||this.showOverlay()},d.prototype.handleOverlay=function(e){var t=!0;this.options&&this.options.hasOwnProperty("overlay")&&(t=this.options.overlay),t&&this.options&&this.options.hasOwnProperty("DOMContainer")&&(e&&e.type&&"mp4"===e.type&&this.options.DOMContainer.getElementsByClassName("tvp_video_wrapper_html5").length>0?this.parentElement=this.options.DOMContainer.getElementsByClassName("tvp_video_wrapper_html5")[0]:this.parentElement=this.options.DOMContainer,this.setOverlay(e,this.parentElement))},d.prototype.removeOverlay=function(){if(this.options&&this.options.hasOwnProperty("DOMContainer")){var e=this.options.DOMContainer.getElementsByClassName("tvplayer-overlay");e.length>0&&e[0].parentNode.removeChild(e[0]);var t=this.options.DOMContainer.getElementsByClassName("tvplayer-overlay-thumbnail");t.length>0&&t[0].parentNode.removeChild(t[0])}},d.prototype.loadVideo=function(e){return this.removeOverlay(),this.controlbar&&this.controlbar.resetTime(),this.analytics&&this.analytics.resetVideo(e),this.options&&this.options.hasOwnProperty("poster")&&this.options.poster&&this.setPoster(e),this._setDisplayResolution(e),this.spinner&&this.spinner.resetSpinnerStatus(),this.interface.loadVideo(e),this.trigger(n.TVPLAYER_VIDEO_LOAD,e),!0},d.prototype.cueVideo=function(e){return this.removeOverlay(),this.controlbar&&(this.controlbar.resetTime(),this.controlbar.handlePlayerEvent(n.MEDIA_VIDEO_CUED)),this.analytics&&this.analytics.resetVideo(e),this.options&&this.options.hasOwnProperty("poster")&&this.options.poster&&this.setPoster(e),this._setDisplayResolution(e),this.spinner&&this.spinner.resetSpinnerStatus(),this.interface.cueVideo(e),this.handleOverlay(e),this.trigger(n.TVPLAYER_VIDEO_CUED,e),!0},d.prototype._setDisplayResolution=function(e){var t=this.get("displayResolution");t||(t=u.isMobile(navigator.userAgent)?360:480);var n,i=e.sources||[],r=i.length,o=null,a=null,s=parseInt(t+"",10);for(n=0;n<r;n++)if("object"==typeof i[n]){if(i[n].hasOwnProperty("quality")&&i[n].quality==t)return void(i[n].tvpdefault=!0);i[n].hasOwnProperty("height")&&i[n].height<=s&&(null==a||i[n].height>a)&&(o=n,a=i[n].height)}null!==o&&(i[o].tvpdefault=!0)},d.prototype.resize=function(e,t,i){return this.trigger(n.TVP_RESIZE,e,t,i),this.controlbar&&this.controlbar.resize(e,t),this.adLoader&&this.adLoader.resize(e,t,i),this.interface.resize(e,t,i)},d.prototype.getVolume=function(){return this.interface.getVolume()},d.prototype.getState=function(){return this.interface.getState()},d.prototype.getCurrentTime=function(){return this.interface.getCurrentTime()},d.prototype.getDuration=function(){return this.interface.getDuration()},d.prototype.getQuality=function(){return this.interface.getQuality()},d.prototype.setQuality=function(e){return this.interface.setQuality(e)},d.prototype.getQualityLevels=function(){return this.interface.getQualityLevels()},d.prototype.getHeight=function(){return this.interface.getHeight()},d.prototype.getWidth=function(){return this.interface.getWidth()},d.prototype.disableControls=function(){this.controlbar&&"function"==typeof this.controlbar.disableControls&&this.controlbar.disableControls()},d.prototype.enableControls=function(){this.controlbar&&"function"==typeof this.controlbar.enableControls&&this.controlbar.enableControls()},d.prototype.hideControls=function(){this.controlbar&&"function"==typeof this.controlbar.setStateVisuals&&this.controlbar.setStateVisuals("out")},d.prototype.showControls=function(){this.controlbar&&"function"==typeof this.controlbar.setStateVisuals&&this.controlbar.setStateVisuals("in")},d.prototype.grabVideo=function(){return this.interface},d});var r=i("TVPlayer");"undefined"!=typeof module&&module.exports?module.exports=r:(e.TVPage={},e.TVPage.instances={},e.TVPage.player=r)}(this);