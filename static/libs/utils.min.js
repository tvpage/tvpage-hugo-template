!function(){function t(t){return document.getElementById(t)}function n(t,n){return t.hasOwnProperty(n)}function e(t,n){return t.classList&&t.classList.contains(n)}function r(t){return"object"==typeof t}function o(t){return"function"==typeof t}function i(t,n){return t&&(n(t)?t:i(t.parentNode,n))}function u(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}function a(t){console.log("%c "+(t||""),l)}function c(t,e){n(t,"profile")&&t.profile&&a(e.metric_type+": "+e.metric_value+"ms")}var l="color: blue;font-size: 14px;font-weight: bold;display: block;",f={};f.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),f.isIOS=/iPad|iPhone|iPod|iPhone Simulator|iPad Simulator/.test(navigator.userAgent)&&!window.MSStream,f.getWidgetHeight=function(){return Math.floor(t("skeleton").getBoundingClientRect().height)},f.now=function(t){var n=window;if("parent"===t&&n.parent&&(n=n.parent),n.performance)return n.performance.now()},f.isNull=function(t){return null===t},f.isObject=r,f.compact=function(t){for(var n in t)t.hasOwnProperty(n)&&!t[n]&&delete t[n];return t},f.attr=function(t,n){return t.getAttribute(n)},f.createEl=function(t){return document.createElement(t)},f.isEmptyObject=u,f.stopEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},f.closest=i,f.getRealTargetByClass=function(t,n){return e(t,n)?t:i(t,function(t){return e(t,n)})},f.remove=function(t){t&&t.parentNode.removeChild(t)},f.addClass=function(t,n){t&&t.classList.add(n)},f.removeClass=function(t,n){t&&t.classList.remove(n)},f.removeObjNulls=function(t){for(var n in t)t.hasOwnProperty(n)&&null===t[n]&&delete t[n];return t},f.getById=t,f.hasClass=e,f.loadScript=function(t,n){var e=document.createElement("script"),r=t.base||"",i=t.params||{},u=0;for(var a in i)i.hasOwnProperty(a)&&(r+=(u>0?"&":"?")+a+"="+i[a],++u);if(o(n)){var c="tvp_callback_"+Math.random().toString(36).substring(7);window[c]=function(t){o(n)&&n(t)},r+="&callback="+c}e.src=r,document.body.appendChild(e)},f.sendMessage=function(t){window.parent&&window.parent.postMessage(t,"*")},f.getByClass=function(t){return document.getElementsByClassName(t||"")[0]},f.isUndefined=function(t){return void 0===t},f.isFunction=o,f.copy=function(t){return JSON.parse(JSON.stringify(t))},f.hasKey=n,f.isEmpty=function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},f.formatDuration=function(t){if(void 0!==t){var n=new Date(0,0,0);n.setSeconds(Number(t));var e=function(t){return t<10?"0"+t:t};return(n.getHours()||"")+e(n.getMinutes())+":"+e(n.getSeconds())}},f.formatDate=function(t){var n=new Date(1e3*Number(t)),e=""+(n.getMonth()+1),r=""+n.getDate(),o=n.getFullYear();return e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),[e,r,o].join("/")},f.isset=function(t,n){if(arguments.length){var e=t;return n&&(e=t[n]),void 0!==e}},f.extend=function(t){t=t||{};for(var n=1;n<arguments.length;n++)if(arguments[n])for(var e in arguments[n])arguments[n].hasOwnProperty(e)&&(t[e]=arguments[n][e]);return t},f.debounce=function(t,n,e){var r=null;return function(){var o=this,i=arguments,u=e&&!r;clearTimeout(r),r=setTimeout(function(){r=null,e||t.apply(o,i)},n),u&&t.apply(o,i)}},f.trimText=function(t,n){var e=t||"",r=n?Number(n):0;return t.length>r&&(e=e.substring(0,Number(r))+"..."),e},f.log=a,f.profile=c,f.sendProfileData=function(t){setTimeout(function(){if(t&&r(t)){var n=t.profiling||{};for(var e in n)r(n[e])||c(t,{metric_type:e,metric_value:n[e]})}},1e3)},f.trimPrice=function(t){var n=t||"";return n=n.toString().replace(/[^0-9.]+/g,""),n=parseFloat(n).toFixed(2),n=n>0?"$"+n:""},f.rowerize=function(t,n){for(var e=[],r=t.length,o=0;o<r;o+=n)e.push(t.slice(o,o+n));return e},f.isEvent=function(t){return t&&t.data&&t.data.event},f.getWindowWidth=function(t){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},f.getWindowHeight=function(t){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},f.addProps=function(t,n){if(u(n)||u(n))return t;for(var e in n)t[e]=n[e];return t},f.tmpl=function(t,n){return!(!t||"object"!=typeof n)&&t.replace(/\{([\w\.]*)\}/g,function(t,e){for(var r=e.split("."),o=n[r.shift()],i=0,u=r.length;i<u;i++)o=o[r[i]];return void 0!==o&&null!==o?o:""})},f.poll=function(t,n){if(!o(t))throw new Error("first argument shall be a function");var e=0;!function r(){setTimeout(function(){if(t()&&o(n))n();else{if(!(++e<1e3))throw new Error("poll condition not met after checking 1000 times");r()}},10)}()},f.getUrlParams=function(){if(window.location){for(var t={},n=location.search.substr(1).split("&"),e=n.length,r=[],o=0;o<e;o++)r.push(n[o]);var i=r.length;for(o=0;o<i;o++){var u=r[o].split("=");u[1]&&(t[u[0]]=u[1])}return t}},f.globalPoll=function(t,n){var e=(t=(t||[]).filter(Boolean)).length,r=0;!function i(){setTimeout(function(){for(var u,a=!0,c=0;c<e;c++){var l=t[c];void 0===window[l]&&(a=!1,u=l)}if(a)o(n)&&n();else{if(!(++r<1e4))throw new Error("missing global: "+u);i()}},10)}()},f.getStyle=function(t,n,e){var r;return t.currentStyle?r=t.currentStyle[e]:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(t,null).getPropertyValue(n)),r},window.Utils=f}();