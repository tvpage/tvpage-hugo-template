!function(e,t,n){function i(t,n,i){if(!t)return console.log("you need an existent DOM element");this.el=t,this.instance=null,this.willCue=null;var o=this;this.showPlayBtn=function(t){var n=document.createDocumentFragment(),i=e.createElement("div");i.classList.add("tvp-mp4-poster"),i.style.backgroundImage='url("'+t+'")',n.appendChild(i);var a=this.el.parentNode.getElementsByClassName("tvp-play")[0];console.log("button"),a.style.display="block",a.onclick=function(){o.instance&&(i.style.display="none",a.style.display="none",o.instance.play())},n.appendChild(a),this.el.appendChild(n)},this.play=function(e){return e?(this.willCue=!0,"mp4"===e.type&&this.showPlayBtn(e.thumbnailUrl),void(this.willCue?this.instance.cueVideo(e):this.instance.loadVideo(e))):console.log("need asset")};var a=0;!function e(){setTimeout(function(){l(window,"TVPage")&&l(window,"_tvpa")?(_tvpa.push(["config",{li:i.loginid,gaDomain:"www.tvpage.tv",logUrl:"//api.tvpage.com/v1/__tvpa.gif"}]),_tvpa.push(["track","ci",{li:i.loginid}]),new TVPage.player({poster:!0,techOrder:"html5,flash",analytics:{tvpa:i.tvpa||!1},apiBaseUrl:"//app.tvpage.com",swf:"//d2kmhr1caomykv.cloudfront.net/player/assets/tvp/tvp-"+i.version+"-flash.swf",onReady:function(e,t){o.instance=t,o.el.querySelector(".tvp-progress-bar").style.backgroundColor=i.progresscolor;var a=s(function(){o.instance.resize(o.el.clientWidth,o.el.clientHeight)},180);a(),window.addEventListener("resize",a),o.current=0,o.play(n[o.current])},onStateChange:function(e){"tvp:media:videoended"===e&&(o.current++,n[o.current]||(o.current=0),console.log("JAJAJA"),n[o.current],o.play(n[o.current]))},divId:o.el.id,controls:{active:!0,floater:{removeControls:i.removecontrols,transcript:i.transcript}}})):++a<20?e():console.log("limit reached")},300)}()}function o(){var t=e.body,n=parent.__TVPage__;if(window.frameElement){if(t.classList.contains("dynamic")){var o=t.getAttribute("data-id");if(!l(n.config,o))return console.log("need settings");settings=n.config[o];var s=a();t.appendChild(p(s,!1)),function(t){var n=settings.channel,o=n.parameters,a="//api.tvpage.com/v1/channels/"+n.id+"/videos?X-login-id="+settings.loginid;for(var l in o)a+="&"+l+"="+o[l];a+="&callback="+t,c({src:a,cbName:t},function(n){if(!n||!n.length)return console.log("no assets");for(var o=n.length;o>0;){var a=o-1;n[a]=r(n[a]),o--}new i(e.getElementById("tvp-player-el-"+t),n,settings)})}(s)}}else if(l(n,"inline")&&n.inline.length)for(var d=n.inline,u=d.length;u>0;){var v=d[u-1];settings=n.config[v];var s=a(),g=e.getElementById(v+"-holder");g.appendChild(p(s,!e.getElementById("tvphost"))),function(t){var n=settings.channel,o=n.parameters,a="//api.tvpage.com/v1/channels/"+n.id+"/videos?X-login-id="+settings.loginid;for(var l in o)a+="&"+l+"="+o[l];a+="&callback="+t,c({src:a,cbName:t},function(n){if(!n||!n.length)return console.log("no assets");for(var o=n.length;o>0;){var a=o-1;n[a]=r(n[a]),o--}new i(e.getElementById("tvp-player-el-"+t),n,settings)})}(s),d.pop(),u--}}var a=function(){return"tvp_"+Math.floor(50005*Math.random())},l=function(e,t){return"undefined"!=typeof e[t]},r=function(e){if(e&&e.asset){var t=e.asset;return t.analyticsObj={vd:e.id,li:e.loginId,pg:e.parentId?e.parentId:0},t.sources||(t.sources=[{file:t.videoId}]),t.type=t.type||"youtube",t}},s=function(e,t,n){var i;return function(){var o=this,a=arguments,l=function(){i=null,n||e.apply(o,a)},r=n&&!i;clearTimeout(i),i=setTimeout(l,t),r&&e.apply(o,a)}},c=function(t,n){var i=e.createElement("script");if(i.src=t.src,n&&"function"==typeof n){window[t.cbName||"callback"]=n;var o=t.body||e.body;o.appendChild(i)}},p=function(t,n){var i=document.createDocumentFragment(),o=e.createElement("div");o.classList.add("tvp-player");var a=".tvp-player{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;}.tvp-player-el{background-color:black;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;}.tvp-mp4-poster{background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#000;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;z-index:100}.tvp-play{background-color:#fff;box-sizing:border-box;width:45px;height:45px;padding:0;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;display:none;opacity:.95;cursor:pointer;border-radius:1px;border:2px solid #e57211;z-index:1000}";return o.innerHTML='<style id="tvphost">'+(n?a:"")+'</style><div id="tvp-player-el-'+t+'" class="tvp-player-el"></div><svg class="tvp-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100" fill="#e57211"></polygon></svg></div>',i.appendChild(o),i};o()}(document,parent,parent.document);