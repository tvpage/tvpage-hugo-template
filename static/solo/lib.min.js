!function(e,t,n){function i(n,i,o){if(!n)return console.log("you need an existent DOM element");this.el=n,this.instance=null,this.willCue=null;var a=this;this.showPlayBtn=function(t){var n=document.createDocumentFragment(),i=e.createElement("div");i.classList.add("tvp-mp4-poster"),i.style.backgroundImage='url("'+t+'")',n.appendChild(i);var o=this.el.parentNode.getElementsByClassName("tvp-play")[0];o.style.display="block",o.onclick=function(){a.instance&&(i.style.display="none",o.style.display="none",a.instance.play())},n.appendChild(o),this.el.appendChild(n)},this.play=function(e){return e?(this.willCue=!0,"mp4"===e.type&&this.showPlayBtn(e.thumbnailUrl),void(this.willCue?this.instance.cueVideo(e):this.instance.loadVideo(e))):console.log("need asset")};var l=0;!function e(){setTimeout(function(){r(window,"TVPage")&&r(window,"_tvpa")?(_tvpa.push(["config",{li:o.loginid,gaDomain:"www.tvpage.tv",logUrl:"//api.tvpage.com/v1/__tvpa.gif"}]),_tvpa.push(["track","ci",{li:o.loginid}]),new TVPage.player({poster:!0,techOrder:"html5,flash",analytics:{tvpa:o.tvpa||!1},apiBaseUrl:"//app.tvpage.com",swf:"//d2kmhr1caomykv.cloudfront.net/player/assets/tvp/tvp-"+o.version+"-flash.swf",onReady:function(e,n){a.instance=n,a.el.querySelector(".tvp-progress-bar").style.backgroundColor=o.progresscolor;var r=s(function(){a.instance.resize(a.el.clientWidth,a.el.clientHeight)},180);r(),window.addEventListener("resize",r),a.current=0,t.interactionReadyTime=performance.now(),console.debug("Interaction ready time: "+(t.interactionReadyTime-t.startTime)+" ms"),a.play(i[a.current])},onStateChange:function(e){"tvp:media:videoended"===e&&(a.current++,i[a.current]||(a.current=0),a.play(i[a.current]))},divId:a.el.id,controls:{active:!0,floater:{removeControls:o.removecontrols,transcript:o.transcript}}})):++l<20?e():console.log("limit reached")},300)}()}function o(){var t=e.body,n=parent.__TVPage__;if(window.frameElement){if(t.classList.contains("dynamic")){var o=t.getAttribute("data-id");if(!r(n.config,o))return console.log("need settings");settings=n.config[o];var s=a();t.appendChild(p(s,!1)),function(t){var n=settings.channel,o=n.parameters,a="//api.tvpage.com/v1/channels/"+n.id+"/videos?X-login-id="+settings.loginid;for(var r in o)a+="&"+r+"="+o[r];a+="&callback="+t,c({src:a,cbName:t},function(n){if(!n||!n.length)return console.log("no assets");for(var o=n.length;o>0;){var a=o-1;n[a]=l(n[a]),o--}new i(e.getElementById("tvp-player-el-"+t),n,settings)})}(s)}}else if(r(n,"inline")&&n.inline.length)for(var d=n.inline,u=d.length;u>0;){var v=d[u-1];settings=n.config[v];var s=a(),g=e.getElementById(v+"-holder");g.appendChild(p(s,!e.getElementById("tvphost"))),function(t){var n=settings.channel,o=n.parameters,a="//api.tvpage.com/v1/channels/"+n.id+"/videos?X-login-id="+settings.loginid;for(var r in o)a+="&"+r+"="+o[r];a+="&callback="+t,c({src:a,cbName:t},function(n){if(!n||!n.length)return console.log("no assets");for(var o=n.length;o>0;){var a=o-1;n[a]=l(n[a]),o--}new i(e.getElementById("tvp-player-el-"+t),n,settings)})}(s),d.pop(),u--}}var a=function(){return"tvp_"+Math.floor(50005*Math.random())},r=function(e,t){return"undefined"!=typeof e[t]},l=function(e){if(e&&e.asset){var t=e.asset;return t.analyticsObj={vd:e.id,li:e.loginId,pg:e.parentId?e.parentId:0},t.sources||(t.sources=[{file:t.videoId}]),t.type=t.type||"youtube",t}},s=function(e,t,n){var i;return function(){var o=this,a=arguments,r=function(){i=null,n||e.apply(o,a)},l=n&&!i;clearTimeout(i),i=setTimeout(r,t),l&&e.apply(o,a)}},c=function(t,n){var i=e.createElement("script");if(i.src=t.src,n&&"function"==typeof n){window[t.cbName||"callback"]=n;var o=t.body||e.body;o.appendChild(i)}},p=function(t,n){var i=document.createDocumentFragment(),o=e.createElement("div");o.classList.add("tvp-player");var a=".tvp-player{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;}.tvp-player-el{background-color:black;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;}.tvp-mp4-poster{background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#000;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;z-index:100}.tvp-play{background-color:#fff;box-sizing:border-box;width:45px;height:45px;padding:0;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;display:none;opacity:.95;cursor:pointer;border-radius:1px;border:2px solid #e57211;z-index:1000}";return o.innerHTML='<style id="tvphost">'+(n?a:"")+'</style><div id="tvp-player-el-'+t+'" class="tvp-player-el"></div><svg class="tvp-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100" fill="#e57211"></polygon></svg></div>',i.appendChild(o),i};o()}(document,parent,parent.document);