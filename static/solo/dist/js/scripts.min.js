!function(a,b){function c(){this.initConfig=function(a){return d(a)&&d(a.loginId)&&d(a.domain)&&d(a.logUrl)?void _tvpa.push(["config",{logUrl:a.logUrl,li:a.loginId,gaDomain:a.domain}]):console.log("need config")},this.track=function(a,b){return a&&b&&_tvpa?void _tvpa.push(["track",a,b]):console.log("no data")}}var d=function(a,b){var c=a;return b&&(c=a[b]),"undefined"!=typeof c};a.Analytics=c}(window,document),function(a,b){function c(c,f,g){if(!c||!d(f)||!d(f.data)||f.data.length<=0)return console.log("bad args");this.isFullScreen=!1,this.isReady=!1,this.autoplay=!!d(f.autoplay)&&f.autoplay,this.autonext=!d(f.autonext)||f.autonext,this.version=d(f.version)?f.version:"1.8.5",this.progresscolor=d(f.progresscolor)?f.progresscolor:"#E57211",this.transcript=!!d(f.transcript)&&f.transcript,this.removecontrols=d(f.removecontrols)?f.removecontrols:["hd"],this.analytics=!d(f.analytics)||f.analytics,this.onResize=d(f.onResize)&&"function"==typeof f.onResize?f.onResize:null,this.onNext=d(f.onNext)&&"function"==typeof f.onNext?f.onNext:null,this.instance=null,this.el="string"==typeof c?b.getElementById(c):c,this.assets=function(a){for(var b=[],c=a.length;c>0;){var g=a[c-1];if(e(g))return console.log("empty data");var h=g.asset;h.assetId=g.id,h.assetTitle=g.title,h.loginId=g.loginId,d(g,"events")&&g.events.length?(h.analyticsLogUrl=g.analytics,h.analyticsObj=g.events[1].data,console.log("OBJECT TO BE TRACKED (analyticsObj)",h.analyticsObj)):h.analyticsObj={pg:d(g,"parentId")?g.parentId:d(f,"channel")?f.channel.id:0,vd:g.id,li:g.loginId},h.sources||(h.sources=[{file:h.videoId}]),h.type=h.type||"youtube",b.push(h),c--}return b}(f.data),this.hideEl=function(a){return a.style.display="none"};var h=this;this.showPlayBtn=function(a){var c=b.createDocumentFragment(),d=b.createElement("div");d.classList.add("tvp-mp4-poster"),d.style.backgroundImage='url("'+a+'")',c.appendChild(d);var e=this.el.parentNode.getElementsByClassName("tvp-play")[0];e.style.display="block",e.onclick=function(){h.instance&&(h.hideEl(d),h.hideEl(e),h.instance.play())},c.appendChild(e),this.el.appendChild(c)},this.play=function(a,b){if(!a)return console.log("need asset");var c=!1,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);b?(e||d(this.autonext)&&!this.autonext)&&(c=!0):(e||d(this.autoplay)&&!this.autoplay)&&(c=!0);var f=new Analytics,g={domain:d(location,"hostname")?location.hostname:"",loginId:a.loginId};d(a,"analyticsLogUrl")?(console.log("ANALYTICS LOG URL",a.analyticsLogUrl),g.logUrl=a.analyticsLogUrl,f.initConfig(g)):(g.logUrl="//api.tvpage.com/v1/__tvpa.gif",f.initConfig(g)),c?(this.instance.cueVideo(a),"mp4"===a.type&&this.showPlayBtn(a.thumbnailUrl)):this.instance.loadVideo(a)},this.resize=function(){if(h.instance&&!h.isFullScreen){var a,b;if(arguments.length&&arguments[0]&&arguments[1])a=arguments[0],b=arguments[1];else{var c=h.el.parentNode;a=c.clientWidth,b=c.clientHeight}h.instance.resize(a,b),this.onResize&&this.onResize([a,b])}};var i=0;!function b(){setTimeout(function(){d(a,"TVPage")&&d(a,"_tvpa")?new TVPage.player({poster:!0,techOrder:"html5,flash",analytics:{tvpa:h.analytics},apiBaseUrl:"//api.tvpage.com/v1",swf:"//appcdn.tvpage.com/player/assets/tvp/tvp-"+h.version+"-flash.swf",onReady:function(b,c){h.isReady=!0,h.instance=c,h.resize(),d(a,"BigScreen")&&(BigScreen.onchange=function(){h.isFullScreen=!h.isFullScreen}),a.location!==a.parent.location?a.addEventListener("message",function(a){if(a&&d(a,"data")&&d(a.data,"event")&&"_tvp_widget_holder_resize"===a.data.event){var b=a.data.size||[];h.resize(b[0],b[1])}}):a.addEventListener("resize",resize),h.el.querySelector(".tvp-progress-bar").style.backgroundColor=h.progresscolor;var e=0;if(g&&g.length)for(var f=0;f<h.assets.length;f++)h.assets[f].assetId===g&&(e=f);h.current=e,h.play(h.assets[h.current]),a.DEBUG&&console.debug("endTime = "+performance.now())},onStateChange:function(a){if("tvp:media:videoended"===a){d(h.autonext)&&h.autonext&&(h.current++,h.assets[h.current]||(h.current=0));var b=h.assets[h.current];h.onNext&&h.onNext(b),h.play(b,!0)}},divId:h.el.id,controls:{active:!0,floater:{removeControls:h.removecontrols,transcript:h.transcript}}}):++i<50?b():console.log("limit reached")},150)}()}var d=function(a,b){var c=a;return b&&(c=a[b]),"undefined"!=typeof c},e=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};a.Player=c}(window,document),function(a,b,c){function d(){var b=a.body,c=parent.__TVPage__;if(window.frameElement)b.classList.contains("dynamic")&&!function(a,c){j(a,b),i(c,a,function(b){c.data=b||[],new Player("tvp-player-el-"+a,c)})}(e(),h("dynamic"));else if(f(c,"inline")&&c.inline.length)for(var d=c.inline,g=d.length;g>0;)!function(b,c){var d=h(c);j(b,a.getElementById(c+"-holder"),!a.getElementById("tvphost")),i(d,b,function(c){d.data=c||[],new Player(a.getElementById("tvp-player-el-"+b),d)})}(e(),d[g-1]),d.pop(),g--}var e=function(){return"tvp_"+Math.floor(50005*Math.random())},f=function(a,b){var c=a;return b&&(c=a[b]),"undefined"!=typeof c},g=function(b,c){var d=a.createElement("script");if(d.src=b.src,c&&"function"==typeof c){window[b.cbName||"callback"]=c;var e=b.body||a.body;e.appendChild(d)}},h=function(b){var c={},d=parent.__TVPage__.config;if("dynamic"===b){var e=a.body.getAttribute("data-id");if(!f(d,e))return console.log("need settings");c=d[e],c.name=e}else b&&b.length&&(c=d[b],c.name=b);return c},i=function(a,b,c){g({src:function(){var c=a.channel,d=c.parameters,e="//api.tvpage.com/v1/channels/"+c.id+"/videos?X-login-id="+a.loginid;for(var f in d)e+="&"+f+"="+d[f];return e+="&callback="+b}(),cbName:b},c)},j=function(b,c){if(!b||!c)return console.log("need target");var d=document.createDocumentFragment(),e=a.createElement("div");e.classList.add("tvp-player"),e.innerHTML='<div id="tvp-player-el-'+b+'" class="tvp-player-el"></div><svg class="tvp-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100" fill="#e57211"></polygon></svg></div>',d.appendChild(e),c.appendChild(d)};d()}(document,parent,parent.document);