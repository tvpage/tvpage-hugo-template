!function(a,b){function c(){this.random=function(){return"tvp_"+Math.floor(50005*Math.random())},this.isset=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.tmpl=function(a,b){if(a||"object"==typeof b)return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;f<g;f++)e=e[d[f]];return void 0!==e&&null!==e?e:""})},this.trimText=function(a,b){var c=a||"",d=b?Number(b):0;return a.length>d&&(c=c.substring(0,Number(d))+"..."),c},this.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}}a.Utils=new c}(window,document),function(a,b){function c(){this.initConfig=function(a){if(!(d(a)&&d(a.loginId)&&d(a.domain)&&d(a.logUrl)))return console.log("need config");_tvpa.push(["config",{logUrl:a.logUrl,li:a.loginId,gaDomain:a.domain}])},this.track=function(a,b){if(!a||!b||!_tvpa)return console.log("no data");_tvpa.push(["track",a,b])}}var d=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c};a.Analytics=c}(window,document),function(a,b){function c(c,h,i){if(c&&e(h)&&e(h.data)&&!(h.data.length<=0)){this.isFullScreen=!1,this.initialResize=!0,this.autoplay=!!e(h.autoplay)&&Number(h.autoplay),this.autonext=!e(h.autonext)||Number(h.autonext),this.version=e(h.player_version)?h.player_version:null,this.progressColor=e(h.progress_color)?h.progress_color:null,this.transcript=e(h.transcript)?h.transcript:null,this.removeControls=e(h.remove_controls)?h.remove_controls:null,this.analytics=e(h.analytics)?h.analytics:null,this.overlay=e(h.overlay)?h.overlay:null,this.instance=null,this.el="string"==typeof c?b.getElementById(c):c;var j=this;this.createAsset=function(a){if(a&&"object"==typeof a&&!f(a)&&e(a,"asset")){var b=a.asset;return b.assetId=a.id,b.assetTitle=a.title,b.loginId=a.loginId,e(a,"events")&&a.events.length?(b.analyticsLogUrl=a.analytics,b.analyticsObj=a.events[1].data):b.analyticsObj={pg:e(a,"parentId")?a.parentId:e(h,"channel")?h.channel.id:0,vd:a.id,li:a.loginId},b.sources||(b.sources=[{file:b.videoId}]),b.type=b.type||"youtube",b}},this.assets=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];if(f(d))break;b.push(j.createAsset(d))}return b}(h.data),this.addOverlay=function(a){var c=function(){(function(){this.removeEventListener("click",c,!1),this.parentNode.removeChild(this)}).call(this),j.instance&&j.instance.play()},d=this.el.querySelector(".tvp-overlay");d&&(d.removeEventListener("click",c,!1),d.parentNode.removeChild(d));var e=b.createElement("div");e.className="tvp-overlay",e.style.backgroundImage='url("'+a.thumbnailUrl+'")',e.innerHTML='<div class="tvp-overlay-cover"></div><svg class="tvp-play" viewBox="0 0 200 200"><polygon points="70, 55 70, 145 145, 100"></polygon></svg>',e.addEventListener("click",c,!1),this.el.appendChild(e)},this.play=function(a,b){if(a){var c=!1,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);b?(d||e(this.autonext)&&!this.autonext)&&(c=!0):(d||e(this.autoplay)&&!this.autoplay)&&(c=!0);var f=new Analytics,g={domain:e(location,"hostname")?location.hostname:"",loginId:a.loginId};e(a,"analyticsLogUrl")?(g.logUrl=a.analyticsLogUrl,f.initConfig(g)):(g.logUrl="//api.tvpage.com/v1/__tvpa.gif",f.initConfig(g)),c?(this.instance.cueVideo(a),("mp4"===a.type||this.overlay)&&this.addOverlay(a)):this.instance.loadVideo(a)}},this.resize=function(){if(j.instance&&!j.isFullScreen){var a,b;if(arguments.length&&arguments[0]&&arguments[1])a=arguments[0],b=arguments[1];else{var c=j.el.parentNode;a=c.clientWidth,b=c.clientHeight}j.instance.resize(a,b),this.onResize&&(this.onResize(j.initialResize,[a,b]),j.initialResize=!1)}},this.onReady=function(b,c){if(j.instance=c,j.resize(),e(a,"BigScreen")&&(BigScreen.onchange=function(){j.isFullScreen=!j.isFullScreen}),a.location!==a.parent.location&&d){var f=function(a){if(a&&e(a,"data")&&"tvp_solo:holder_resize"===(a.data.event||"")){var b=a.data.size||[];j.resize(b[0],b[1])}};a.removeEventListener("message",f,!1),a.addEventListener("message",f,!1)}else{var h=g(j.resize,50);a.removeEventListener("resize",h,!1),a.addEventListener("resize",h)}j.el.querySelector(".tvp-progress-bar").style.backgroundColor=j.progressColor;for(var k=0,l=0;l<j.assets.length;l++)j.assets[l].assetId===(i||"")&&(k=l);j.current=k,j.play(j.assets[j.current])},j.onStateChange=function(a){"tvp:media:videoended"===a&&(j.current++,j.assets[j.current]||(j.current=0),j.play(j.assets[j.current],!0))};var k=0;!function b(){setTimeout(function(){e(a,"TVPage")&&e(a,"_tvpa")||!(++k<50)?j.player=new TVPage.player({techOrder:"html5,flash",analytics:{tvpa:j.analytics},apiBaseUrl:"//api.tvpage.com/v1",swf:"//appcdn.tvpage.com/player/assets/tvp/tvp-"+j.version+"-flash.swf",onReady:j.onReady,onStateChange:j.onStateChange,divId:j.el.id,controls:{active:!0,floater:{removeControls:j.removeControls,transcript:j.transcript}}}):b()},150)}()}}var d=/iPad|iPhone|iPod|iPhone Simulator|iPad Simulator/.test(navigator.userAgent)&&!a.MSStream,e=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},f=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},g=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}};a.Player=c}(window,document),function(a,b){function c(a){a.hasOwnProperty("data-simple-scrollbar")||Object.defineProperty(a,"data-simple-scrollbar",new SimpleScrollbar(a))}function d(a,c){function d(a){var b=a.pageY-f;f=a.pageY,g(function(){c.el.scrollTop+=b/c.scrollRatio})}function e(){a.classList.remove("ss-grabbed"),b.body.classList.remove("ss-grabbed"),b.removeEventListener("mousemove",d),b.removeEventListener("mouseup",e)}var f;a.addEventListener("mousedown",function(c){return f=c.pageY,a.classList.add("ss-grabbed"),b.body.classList.add("ss-grabbed"),b.addEventListener("mousemove",d),b.addEventListener("mouseup",e),!1})}function e(a){for(this.target=a,this.bar='<div class="ss-scroll">',this.wrapper=b.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=b.createElement("div"),this.el.setAttribute("class","ss-content"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,d(this.bar,this),this.moveBar(),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var c=window.getComputedStyle(a);"0px"===c.height&&"0px"!==c["max-height"]&&(a.style.height=c["max-height"])}function f(){for(var a=b.querySelectorAll("*[ss-container]"),d=0;d<a.length;d++)c(a[d])}var g=a.requestAnimationFrame||a.setImmediate||function(a){return setTimeout(a,0)};e.prototype={moveBar:function(a){var b=this.el.scrollHeight,c=this.el.clientHeight,d=this;this.scrollRatio=c/b,g(function(){d.scrollRatio>=1?d.bar.classList.add("ss-hidden"):(d.bar.classList.remove("ss-hidden"),d.bar.style.cssText="height:"+100*d.scrollRatio+"%; top:"+d.el.scrollTop/b*100+"%;right:-"+(d.target.clientWidth-d.bar.clientWidth)+"px;")})}},b.addEventListener("DOMContentLoaded",f),e.initEl=c,e.initAll=f,a.SimpleScrollbar=e}(window,document),function(a,b){function c(a,c){var f=this;this.allVideos=[],this.render=function(){var a=c.data||[];if(!(a.length<1)){f.menuFrag=b.createDocumentFragment(),f.slideMenu=b.createElement("div"),f.slideMenu.setAttribute("id","tvp-slide-menu"),f.slideMenu.innerHTML=d,f.menuFrag.appendChild(f.slideMenu),b.body.appendChild(f.menuFrag),f.hiddenMenu=b.getElementById("tvp-hidden-menu"),f.hamburguer=b.getElementById("tvp-hamburger-container");for(var g=0;g<a.length;g++){var h=a[g];f.allVideos.push(h),h.title=Utils.trimText(h.title,100);var i=b.createDocumentFragment(),j=b.createElement("div");j.classList.add("tvp-slide-menu-video"),j.innerHTML=Utils.tmpl(e,h),i.appendChild(j),f.hiddenMenu.appendChild(i)}SimpleScrollbar.initEl(f.hiddenMenu),f.bindMenuEvent(),f.bindClickEvent()}},this.bindMenuEvent=function(){for(var a=b.querySelectorAll(".tvp-hamburger"),c=a.length-1;c>=0;c--)a[c].onclick=function(){f.toggleMenu(),f.hideMenuEvents()}},this.bindClickEvent=function(){var a=b.querySelectorAll(".tvp-video");a[0].classList.add("active");for(var c=a.length-1;c>=0;c--)f.videoClick(a[c])},this.toggleMenu=function(){f.hamburguer.classList.contains("active")?f.hamburguer.classList.remove("active"):f.hamburguer.classList.add("active"),f.hiddenMenu.classList.contains("active")?f.hiddenMenu.classList.remove("active"):f.hiddenMenu.classList.add("active")},this.hideMenu=function(){f.hamburguer.classList.contains("active")&&f.hamburguer.classList.remove("active"),f.hiddenMenu.classList.contains("active")&&f.hiddenMenu.classList.remove("active")},this.hideMenuEvents=function(){var a=b.getElementsByClassName("tvp-overlay")[0];a&&(a.onclick=function(){f.toggleMenu()}),BigScreen.onchange=function(){f.hideMenu()}},this.update=function(a,d){for(var g=a.data||[],h=0;h<g.length;h++){f.allVideos.push(g[h]),c.data.push(g[h]);var i=b.createElement("div");i.classList.add("tvp-slide-menu-video"),i.innerHTML+=Utils.tmpl(e,g[h]),d.appendChild(i)}f.bindClickEvent()},this.videoClick=function(c){c.onclick=function(){if(this.classList.contains("tvp-video")){for(var c=b.querySelectorAll(".tvp-video"),d=c.length-1;d>=0;d--)c[d].classList.contains("active")&&c[d].classList.remove("active");this.classList.add("active");var e=this.id.split("-").pop(),g=f.allVideos.filter(function(a){return a.id===e});a.play(a.createAsset(g[0])),f.toggleMenu()}}},a.onStateChange=function(a){"tvp:media:videoplaying"===a&&f.hideMenu()},f.render()}var d='<nav id="tvp-hidden-menu"></nav><div id="tvp-hamburger-container"><div class="tvp-hamburger tvp-hamburger-x"><span>.</span></div></div>',e='<div id="tvp-video-{id}" class="tvp-video{className}"><div class="tvp-video-image" style="background-image:url({asset.thumbnailUrl})"><div class="tvp-active-overlay"><p>Now Playing</p></div><svg class="tvp-video-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100"></polygon></svg></div><div class="tvp-video-details"><p class="tvp-video-title">{title}</p><p class="tvp-video-duration">-{asset.prettyDuration}</p></div></div>';a.Menu=c}(window,document),function(a){function b(){a.body.classList.contains("dynamic")&&function(b,c){var d=JSON.parse(JSON.stringify(c)),e=JSON.parse(JSON.stringify(c)),f=Utils.isset(c,"playlist")?c.playlist:"hide";i(b,a.body),h(c,b,function(a){d.data=a||[];var c=new Player("tvp-player-el-"+b,d);if("show"===f){e.data=a||[];j(new Menu(c,e),e)}})}(Utils.random(),g("dynamic"))}var c=0,d=!1,e=!1,f=function(b,c){var d=a.createElement("script");if(d.src=b.src,c&&"function"==typeof c){window[b.cbName||"callback"]=c;(b.body||a.body).appendChild(d)}},g=function(b){var c=function(a){if(Utils.isset(a)&&Utils.isset(a,"__TVPage__")&&Utils.isset(a.__TVPage__,"config"))return a.__TVPage__.config},d={};if("dynamic"===b){var e=c(parent),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}else if("inline"===b&&b&&b.length){var e=c(parent);d=e[b],d.name=b}else if("static"===b){var e=c(window),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}return d},h=function(a,b,d){f({src:function(){var d=a.channel,e=d.parameters,f="//api.tvpage.com/v1/channels/"+d.id+"/videos?X-login-id="+a.loginid;for(var g in e)f+="&"+g+"="+e[g];return f+="&n=6&p="+c,f+="&callback="+b}(),cbName:b},d),c++},i=function(b,c){if(b&&c){var d=a.createDocumentFragment(),e=a.createElement("div");e.classList.add("tvp-player"),e.innerHTML='<div id="tvp-player-el-'+b+'" class="tvp-player-el"></div></div>',d.appendChild(e),c.appendChild(d)}},j=function(b){var c=a.querySelectorAll(".ss-content")[0];c.addEventListener("scroll",Utils.debounce(function(){var f=c.scrollTop,i=a.body.clientHeight-c.scrollHeight,j=100*f/i;j=Math.round(j),(j=Math.abs(j))>=55&&j<=100&&function(a,f){var g=JSON.parse(JSON.stringify(f));d||e||(e=!0,h(f,a,function(a){e=!1,d=!a.length||a.length<=6,g.data=a||[],b.update(g,c)}))}(Utils.random(),g("dynamic"))},30))},k=function(a){return void 0===a};if(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar)){var l=0;!function a(){setTimeout(function(){(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar))&&++l<50?a():b()},150)}()}else b()}(document);