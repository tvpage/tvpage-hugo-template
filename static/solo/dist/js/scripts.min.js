!function(a,b){function c(){this.random=function(){return"tvp_"+Math.floor(50005*Math.random())},this.isset=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.tmpl=function(a,b){if(a||"object"==typeof b)return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;f<g;f++)e=e[d[f]];return void 0!==e&&null!==e?e:""})},this.trimText=function(a,b){var c=a||"",d=b?Number(b):0;return a.length>d&&(c=c.substring(0,Number(d))+"..."),c},this.formatDuration=function(a){if(void 0!==a){var b=new Date(0,0,0);b.setSeconds(Number(a));return(b.getHours()?b.getHours():"")+(b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes())+":"+(b.getSeconds()<10?"0"+b.getSeconds():b.getSeconds())}},this.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}}a.Utils=new c}(window,document),function(a,b){function c(a,b){return b?a.hasOwnProperty(b):void 0!==a}function d(){}d.prototype.initConfig=function(a){if(!(c(a)&&c(a.loginId)&&c(a.domain)&&c(a.logUrl)))return console.warn("need config");var b={logUrl:a.logUrl,li:a.loginId,gaDomain:a.domain};a.firstPartyCookies&&(b.firstPartyCookieDomain=a.cookieDomain),_tvpa.push(["config",b])},d.prototype.track=function(a,b){if(!a||!b||!_tvpa)return console.log("no data");_tvpa.push(["track",a,b])},a.Analytics=d}(window,document),function(a,b){function c(c,j,k){if(c&&e(j)&&e(j.data)&&!(j.data.length<=0)){this.options=j,this.instance=null,this.el="string"==typeof c?b.getElementById(c):c,this.isFullScreen=!1,this.initialResize=!0,this.autoplay=!!e(j.autoplay)&&Number(j.autoplay),this.autonext=!e(j.autonext)||Number(j.autonext),this.version=e(j.player_version)?j.player_version:null,this.onPlayerChange=e(j.onPlayerChange)&&h(j.onPlayerChange)?j.onPlayerChange:null,this.removeControls=e(j.remove_controls)?j.remove_controls:null,this.techOrder=e(j.tech_order)?j.tech_order:null,this.analytics=e(j.analytics)?j.analytics:null,this.apiBaseUrl=e(j.api_base_url)?j.api_base_url:null,this.mediaProviders=e(j.media_providers)?j.media_providers:null,this.preload=e(j.preload)?j.preload:null,this.poster=e(j.poster)?j.poster:null,this.overlay=e(j.overlay)?j.overlay:null,this.playbutton=g({height:e(j.play_button_height)?j.play_button_height:null,width:e(j.play_button_width)?j.play_button_width:null,backgroundColor:e(j.play_button_background_color)?j.play_button_background_color:null,borderRadius:e(j.play_button_border_radius)?j.play_button_border_radius:null,borderWidth:e(j.play_button_border_width)?j.play_button_border_width:null,borderColor:e(j.play_button_border_color)?j.play_button_border_color:null,borderStyle:e(j.play_button_border_style)?j.play_button_border_style:null,iconColor:e(j.play_button_icon_color)?j.play_button_icon_color:null}),this.floater=g({controlbarColor:e(j.control_bar_color)?j.control_bar_color:null,iconColor:e(j.icon_color)?j.icon_color:null,removeControls:e(j.remove_controls)?j.remove_controls:null}),this.seekBar=g({progressColor:e(j.progress_color)?j.progress_color:null}),this.controls=g({active:!0,seekBar:this.seekBar,floater:this.floater,playbutton:this.playbutton,overlayColor:e(j.overlay_color)?j.overlay_color:null,overlayOpacity:e(j.overlay_opacity)?j.overlay_opacity:null});var l=e(j.advertising)&&"object"==typeof j.advertising&&!f(j.advertising)?j.advertising:{};this.advertising=g({enabled:!!e(l.enabled)&&l.enabled,adServerUrl:e(l.adServerUrl)?l.adServerUrl:null,adTimeout:e(l.adTimeout)?l.adTimeout:"2000",maxAds:e(l.maxAds)?l.maxAds:"100",adInterval:e(l.adInterval)?String(l.adInterval):"0"}),this.onNext=e(j.onNext)&&"function"==typeof j.onNext?j.onNext:null,this.onPlayerReady=e(j.onPlayerReady)&&"function"==typeof j.onPlayerReady?j.onPlayerReady:null,this.onFullscreenChange=e(j.onFullscreenChange)&&"function"==typeof j.onFullscreenChange?j.onFullscreenChange:null;var m=this;this.getOption=function(a){return this.options.hasOwnProperty(a)?this.options.hasOwnProperty(a):null},this.createAsset=function(a){if(a&&"object"==typeof a&&!f(a)&&e(a,"asset")){var b=a.asset;if(b.assetId=a.id,b.assetTitle=a.title,b.loginId=a.loginId,e(a,"events")&&a.events.length)b.analyticsLogUrl=a.analytics,b.analyticsObj=a.events[1].data;else{var c=e(a,"parentId")?a.parentId:e(j,"channel")?j.channel.id:0;c||!j.channelId&&!j.channelid||(c=j.channelId||j.channelid),b.analyticsObj={pg:c,vd:a.id,li:a.loginId}}return b.sources||(b.sources=[{file:b.videoId}]),b.type=b.type||"youtube",b}},this.assets=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];if(f(d))break;b.push(m.createAsset(d))}return b}(j.data),this.play=function(a,b,c){if(a){var d=!1,f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);b?(f||e(this.autonext)&&!this.autonext)&&(d=!0):(f||e(this.autoplay)&&!this.autoplay)&&(d=!0),c||(this.current=this.getCurrentIndex(a.assetId)),d?this.instance.cueVideo(a):this.instance.loadVideo(a)}},this.addData=function(a){if(a&&a.length){for(var b=[],c=0;c<a.length;c++)b.push(this.createAsset(a[c]));this.assets=this.assets.concat(b)}},this.resize=function(){if(m.instance&&!m.isFullScreen){var a,b;if(arguments.length&&arguments[0]&&arguments[1])a=arguments[0],b=arguments[1];else{var c=m.el.parentNode;a=c.clientWidth,b=c.clientHeight}m.instance.resize(a,b),this.onResize&&this.onResize(m.initialResize,[a,b]),m.initialResize=!1}},this.getCurrentIndex=function(a){for(var b=0,c=0;c<this.assets.length;c++)this.assets[c].assetId===(a||"")&&(b=c);return b},this.onReady=function(b,c){m.analytics=new Analytics;var f=j.loginId||j.loginid;if(m.analytics.initConfig({domain:i,logUrl:m.apiBaseUrl+"/__tvpa.gif",loginId:f,firstPartyCookies:j.firstpartycookies,cookieDomain:j.cookiedomain}),m.analytics.track("ci",{li:f}),m.instance=c,m.resize(),e(a,"BigScreen")&&(BigScreen.onchange=function(){m.isFullScreen=!m.isFullScreen,m.resize(),m.onFullscreenChange&&m.onFullscreenChange()}),a.location!==a.parent.location&&d){var g=function(a){if(a&&e(a,"data")&&("tvp_"+j.id).replace(/-/g,"_")+":holder_resize"===(a.data.event||"")){var b=a.data.size||[];m.resize(b[0],b[1])}};a.removeEventListener("message",g,!1),a.addEventListener("message",g,!1)}else a.removeEventListener("resize",m.resize,!1),a.addEventListener("resize",m.resize,!1);m.current=m.getCurrentIndex(k),m.play(m.assets[m.current],null,!0),m.onPlayerReady&&m.onPlayerReady()},m.onStateChange=function(a){!function(a){"tvp:media:videoended"===a&&(m.current++,m.assets[m.current]||(m.current=0),m.play(m.assets[m.current],!0))}(),"tvp:media:videoplaying"===a&&m.onNext&&m.onNext(m.assets[m.current]),function(b){if("tvp:media:videoplaying"===a){var c=m.el.querySelector(".tvp-overlay");c&&c.parentNode.removeChild(c)}}(),function(){var b=JSON.parse(JSON.stringify(m.assets[m.current]));b.currentTime=m.instance.getCurrentTime(),m.onPlayerChange&&m.onPlayerChange(a,b)}()};var n=0;!function b(){setTimeout(function(){if(e(a,"TVPage")&&e(a,"_tvpa")||!(++n<200)){for(var c={techOrder:m.techOrder,mediaProviders:m.mediaProviders,analytics:{tvpa:m.analytics},apiBaseUrl:m.apiBaseUrl,swf:"//cdnjs.tvpage.com/tvplayer/tvp-"+m.version+".swf",onReady:m.onReady,onStateChange:m.onStateChange,divId:m.el.id,controls:m.controls,version:m.version,advertising:m.advertising,preload:m.preload},d=["preload","poster","overlay"],f=0;f<d.length;f++){var g=d[f];null!==m[g]&&(c[g]=m[g])}var f,h={techOrder:1,analytics:1,apiBaseUrl:1,swf:1,controls:1,width:1,height:1,mediaProviders:1,preload:1,poster:1,overlay:1};for(var i in m.options)c.hasOwnProperty(i)&&!h.hasOwnProperty(i)||(c[i]=m.options[i]);m.player=new TVPage.player(c)}else b()},150)}()}}var d=/iPad|iPhone|iPod|iPhone Simulator|iPad Simulator/.test(navigator.userAgent)&&!a.MSStream,e=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},f=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},g=function(a){if(a||"object"==typeof a){for(var b in a)a[b]||delete a[b];return a}},h=function(a){return void 0!==a},i=e(location,"hostname")?location.hostname:"";a.Player=c}(window,document),function(a,b){function c(a){a.hasOwnProperty("data-simple-scrollbar")||Object.defineProperty(a,"data-simple-scrollbar",new SimpleScrollbar(a))}function d(a,c){function d(a){var b=a.pageY-f;f=a.pageY,g(function(){c.el.scrollTop+=b/c.scrollRatio})}function e(){a.classList.remove("ss-grabbed"),b.body.classList.remove("ss-grabbed"),b.removeEventListener("mousemove",d),b.removeEventListener("mouseup",e)}var f;a.addEventListener("mousedown",function(c){return f=c.pageY,a.classList.add("ss-grabbed"),b.body.classList.add("ss-grabbed"),b.addEventListener("mousemove",d),b.addEventListener("mouseup",e),!1})}function e(a){for(this.target=a,this.bar='<div class="ss-scroll">',this.wrapper=b.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=b.createElement("div"),this.el.setAttribute("class","ss-content"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,d(this.bar,this),this.moveBar(),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var c=window.getComputedStyle(a);"0px"===c.height&&"0px"!==c["max-height"]&&(a.style.height=c["max-height"])}function f(){for(var a=b.querySelectorAll("*[ss-container]"),d=0;d<a.length;d++)c(a[d])}var g=a.requestAnimationFrame||a.setImmediate||function(a){return setTimeout(a,0)};e.prototype={moveBar:function(a){var b=this.el.scrollHeight,c=this.el.clientHeight,d=this;this.scrollRatio=c/b,g(function(){d.scrollRatio>=1?d.bar.classList.add("ss-hidden"):(d.bar.classList.remove("ss-hidden"),d.bar.style.cssText="height:"+100*d.scrollRatio+"%; top:"+d.el.scrollTop/b*100+"%;right:-"+(d.target.clientWidth-d.bar.clientWidth)+"px;")})}},b.addEventListener("DOMContentLoaded",f),e.initEl=c,e.initAll=f,a.SimpleScrollbar=e}(window,document),function(a,b){function c(c,d){var e=this;this.dataMethod=b.body.classList.contains("dynamic")?"dynamic":"static",this.allVideos=[],this.init=function(){e.render(),e.cacheDOM(),e.bindMenuEvent(),e.bindClickEvent(),e.bindLoadMoreEvent(),e.hideMenuEvents(),e.listenToResize()},this.cacheDOM=function(){e.hiddenMenu=b.getElementById("tvp-hidden-menu"),e.scrollMenu=b.querySelectorAll(".ss-content")[0],e.tvpVid=b.querySelectorAll(".tvp-video"),e.hamburguer=b.getElementById("tvp-hamburger-container"),e.toggles=b.querySelectorAll(".tvp-hamburger"),e.payerCont=b.querySelectorAll(".tvp-player")[0],e.noVideosContainer=b.getElementById("tvp-no-videos-container"),e.tvpNoVideos=b.getElementsByClassName("tvp-no-videos"),e.scrollBar=b.getElementsByClassName("ss-scroll")[0],e.slideMenu=b.getElementById("tvp-slide-menu")},this.render=function(){var a=d.data||[];if(!(a.length<1)){e.fullScreenMenu();var c=b.getElementsByClassName("tvp-video-details"),f=b.getElementById("tvp-hidden-menu"),g=b.createElement("div"),h=b.createElement("div");g.setAttribute("id","tvp-clearfix"),h.setAttribute("id","tvp-no-videos-container"),f.appendChild(h),f.insertBefore(g,h),e.vidCount=0;for(var i=0;i<a.length;i++){e.vidCount++;var j=a[i];if(e.allVideos.push(j),j.title=Utils.trimText(j.title,100),j.duration=Utils.formatDuration(j.duration),g.innerHTML+=Utils.tmpl(d.templates["menu-item"],j),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var k=d.menu_item_play_category_tag_attribute,l=j[k];if(l){l=l.replace(/_/g," ");var m=b.createDocumentFragment(),n=b.createElement("div");n.classList.add("tvp-category-tag"),n.innerHTML+=l,m.appendChild(n),c[i].appendChild(m)}}if("static"!==e.dataMethod&&a.length>4){var o=b.createDocumentFragment(),p=b.createElement("div");p.classList.add("tvp-no-videos"),o.appendChild(p),h.appendChild(o)}}"static"===e.dataMethod&&(e.videoCountP=b.createTextNode(e.vidCount+" "+(e.vidCount>2?"videos":"video")),e.tvpVideoCount=b.querySelectorAll(".tvp-video-count")[0],e.tvpVideoCount.appendChild(e.videoCountP)),f.style.cssText="height:"+(b.querySelectorAll(".tvp-player")[0].offsetHeight-40)+"px;",SimpleScrollbar.initAll()}},this.bindMenuEvent=function(){for(var a=e.toggles.length-1;a>=0;a--)e.toggles[a].onclick=function(){var a=c.assets[c.current];e.setActiveItem(a.assetId),e.toggleMenu()}},this.bindLoadMoreEvent=function(a){e.scrollMenu.addEventListener("scroll",Utils.debounce(function(){var a=e.scrollMenu.scrollTop,b=e.hiddenMenu.clientHeight-e.scrollMenu.scrollHeight,c=100*a/b;c=Math.round(c),(c=Math.abs(c))>=50&&c<=100&&"dynamic"==e.dataMethod&&e.loadMore()},30))},this.bindClickEvent=function(){for(var a=e.tvpVid.length-1;a>=0;a--)e.videoClick(e.tvpVid[a])},this.toggleMenu=function(){e.slideMenu.classList.contains("active")?e.slideMenu.classList.remove("active"):e.slideMenu.classList.add("active")},this.hideMenu=function(){e.slideMenu.classList.remove("active")},this.hideMenuEvents=function(){var a=b.getElementsByClassName("tvp-overlay")[0];a&&(a.onclick=function(){e.hideMenu()})},this.fullScreenMenu=function(){var a="static"===e.dataMethod?b.getElementById("tvp-player-el"):b.getElementsByClassName("tvp-player-el")[0],c=a.getElementsByTagName("iframe");if(c.length){var f=b.createDocumentFragment(),g=b.createElement("div");g.setAttribute("id","tvp-slide-menu"),g.innerHTML=d.templates.menu,f.appendChild(g),c[0].parentNode.insertBefore(f,c[0].nextSibling)}},this.listenToResize=function(){function b(){var a=e.payerCont.clientHeight-40+"px;";e.hiddenMenu.style.cssText="height:"+a;var b=e.scrollMenu.scrollHeight,c=e.scrollMenu.clientHeight,d=c/b;e.scrollBar.style.cssText+="height:"+Math.floor(100*d)+"%;top:"+e.scrollMenu.scrollTop/b*100+"%;right:-"+(e.hiddenMenu.clientWidth-9)+"px;"}a.removeEventListener("resize",b,!1),a.addEventListener("resize",b,!1)},this.update=function(a){var c=d.data||[];if(e.noVideosContainer){e.deleteDivs();for(var f=0;f<a.length;f++)if(c[f],e.allVideos.push(a[f]),d.data.push(a[f]),e.noVideosContainer.setAttribute("id","tvp-clearfix"),a[f].duration=Utils.formatDuration(a[f].duration),e.noVideosContainer.innerHTML+=Utils.tmpl(d.templates["menu-item"],a[f]),e.scrollMenu.appendChild(e.noVideosContainer),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var g=(d.menu_item_play_category_tag_attribute,a[f][d.menu_item_play_category_tag_attribute]);if(g){g=g.replace(/_/g," ");var h=b.createDocumentFragment(),i=b.createElement("div");i.classList.add("tvp-category-tag"),i.innerHTML+=g,h.appendChild(i),e.noVideosContainer.getElementsByClassName("tvp-video-details")[f].appendChild(h)}}}else for(var j=b.createDocumentFragment(),k=b.createElement("div"),f=0;f<a.length;f++)if(c[f],e.allVideos.push(a[f]),d.data.push(a[f]),k.setAttribute("id","tvp-clearfix"),a[f].duration=Utils.formatDuration(a[f].duration),k.innerHTML+=Utils.tmpl(d.templates["menu-item"],a[f]),j.appendChild(k),e.scrollMenu.appendChild(k),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var g=(d.menu_item_play_category_tag_attribute,a[f][d.menu_item_play_category_tag_attribute]);if(g){g=g.replace(/_/g," ");var h=b.createDocumentFragment(),i=b.createElement("div");i.classList.add("tvp-category-tag"),i.innerHTML+=g,h.appendChild(i),k.getElementsByClassName("tvp-video-details")[f].appendChild(h)}}e.cacheDOM(),e.bindClickEvent()},this.deleteDivs=function(){for(var a=e.tvpNoVideos.length-1;a>=0;a--)e.noVideosContainer.removeChild(e.tvpNoVideos[a])},this.clearActiveItems=function(){for(var a=e.tvpVid.length-1;a>=0;a--)e.tvpVid[a].classList.contains("active")&&e.tvpVid[a].classList.remove("active")},this.setActiveItem=function(a){for(var b=e.tvpVid.length-1;b>=0;b--){var c=e.tvpVid[b];c.id.split("-").pop()!==a||c.classList.contains("active")||(this.clearActiveItems(),c.classList.add("active"))}},this.videoClick=function(a){a.onclick=function(){if(this.classList.contains("tvp-video")){e.clearActiveItems(),this.classList.add("active");var a=this.id.split("-").pop(),b=e.allVideos.filter(function(b){return b.id===a});c.play(c.createAsset(b[0])),e.toggleMenu()}}}}a.Menu=c}(window,document),function(a){function b(){a.body.classList.contains("dynamic")&&function(b,g){var h=null,k=null,l=JSON.parse(JSON.stringify(g)),m=JSON.parse(JSON.stringify(g)),n=Utils.isset(g,"playlist")?g.playlist:null;j(b,a.body),i(g,b,function(a){if(a.length){window.parent&&window.parent.postMessage({event:("tvp_"+g.id).replace(/-/g,"_")+":render"},"*"),l.data=a||[];!!g.onPlayerChange&&(l.onPlayerChange=g.onPlayerChange),h=new Player("tvp-player-el-"+b,l),"show"===n&&n&&(m.data=a||[],k=new Menu(h,m))}}),"show"===n&&n&&(l.onPlayerReady=function(){k.init()},l.onNext=function(){var a=h.assets[h.current];k.setActiveItem(a.assetId),k.hideMenu()},l.onFullscreenChange=function(){k.hideMenu()},Menu.prototype.loadMore=function(){e||f||(c++,f=!0,i(g,b,function(a){f=!1,e=!a.length||a.length<d,h.addData(a),k.update(a)}))})}(Utils.random(),h("dynamic"))}var c=0,d=6,e=!1,f=!1,g=function(b,c){var d=a.createElement("script");if(d.src=b.src,c&&"function"==typeof c){window[b.cbName||"callback"]=c;(b.body||a.body).appendChild(d)}},h=function(b){var c=function(a){if(Utils.isset(a)&&Utils.isset(a,"__TVPage__")&&Utils.isset(a.__TVPage__,"config"))return a.__TVPage__.config},d={};if("dynamic"===b){var e=c(parent),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}else if("inline"===b&&b&&b.length){var e=c(parent);d=e[b],d.name=b}else if("static"===b){var e=c(window),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}return d},i=function(a,b,e){return g({src:function(){var e=a.channel||{},f=e.parameters||{},g=a.api_base_url+"/channels/"+(e.id||a.channelid||a.channelId)+"/videos?X-login-id="+(a.loginid||a.loginId);for(var h in f)g+="&"+h+"="+f[h];return g+="&n="+d+"&p="+c,g+="&callback="+b}(),cbName:b},e)},j=function(b,c){if(b&&c){var d=a.createDocumentFragment(),e=a.createElement("div");e.classList.add("tvp-player"),e.innerHTML='<div id="tvp-player-el-'+b+'" class="tvp-player-el"></div></div>',d.appendChild(e),c.appendChild(d)}},k=function(a){return void 0===a};if(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar)){var l=0;!function a(){setTimeout(function(){(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar))&&++l<50?a():b()},150)}()}else b()}(document);