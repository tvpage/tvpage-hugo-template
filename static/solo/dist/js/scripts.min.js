!function(a,b){function c(){var c=this;this.random=function(){return"tvp_"+Math.floor(50005*Math.random())},this.isset=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.tmpl=function(a,b){if(a||"object"==typeof b)return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;f<g;f++)e=e[d[f]];return void 0!==e&&null!==e?e:""})},this.trimText=function(a,b){var c=a||"",d=b?Number(b):0;return a.length>d&&(c=c.substring(0,Number(d))+"..."),c},this.globalPoll=function(b,d){b=(b||[]).filter(Boolean);var e=b.length,f=0;!function g(){setTimeout(function(){for(var h,i=!0,j=0;j<e;j++){var k=b[j];void 0===a[k]&&(i=!1,h=k)}if(i)c.isFunction(d)&&d();else{if(!(++f<1e4))throw new Error("missing global: "+h);g()}},10)}()},this.compact=function(a){for(var b in a)a.hasOwnProperty(b)&&!a[b]&&delete a[b];return a},this.isFunction=function(a){return"function"==typeof a},this.getById=function(a){return b.getElementById(a)},this.isUndefined=function(a){return void 0===a},this.getSettings=function(){var a=function(a){return c.isset(a)&&c.isset(a,"__TVPage__")&&c.isset(a.__TVPage__,"config")?a.__TVPage__.config:null}(parent),d=b.body.getAttribute("data-id");if(c.isset(a,d)){var e=a[d];return e.name=d,e}},this.formatDuration=function(a){if(void 0!==a){var b=new Date(0,0,0);b.setSeconds(Number(a));return(b.getHours()?b.getHours():"")+(b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes())+":"+(b.getSeconds()<10?"0"+b.getSeconds():b.getSeconds())}},this.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}}a.Utils=new c}(window,document),function(a,b){function c(a,b){return b?a.hasOwnProperty(b):void 0!==a}function d(){}d.prototype.initConfig=function(a){if(!(c(a)&&c(a.loginId)&&c(a.domain)&&c(a.logUrl)))return console.warn("need config");var b={logUrl:a.logUrl,li:a.loginId,gaDomain:a.domain};a.firstPartyCookies&&(b.firstPartyCookieDomain=a.cookieDomain),_tvpa.push(["config",b])},d.prototype.track=function(a,b){if(!a||!b||!_tvpa)return console.log("no data");_tvpa.push(["track",a,b])},a.Analytics=d}(window,document),function(){function a(a){if(a)return"string"==typeof a?Utils.getById(a):a;throw new Error("need a selector or element")}function b(b,c,d){this.options=c||{},this.config=d||{},this.el=a(b),this.assets=[],this.instance=null,this.initialResize=!0,this.startWith=this.options.startWith||null,this.currentIndex=null,this.onReadyCalled=!1}b.prototype.getOption=function(a){return Utils.isUndefined(this.config[a])?null:this.config[a]},b.prototype.getCallableOption=function(a){return Utils.isFunction(this.options[a])?this.options[a]:null},b.prototype.getPlayButtonOptions=function(){return Utils.compact({height:this.getOption("play_button_height"),width:this.getOption("play_button_width"),backgroundColor:this.getOption("play_button_background_color"),borderRadius:this.getOption("play_button_border_radius"),borderWidth:this.getOption("play_button_border_width"),borderColor:this.getOption("play_button_border_color"),borderStyle:this.getOption("play_button_border_style"),iconColor:this.getOption("play_button_icon_color")})},b.prototype.setControlsOptions=function(){this.controls=Utils.compact({active:!0,seekBar:Utils.compact({progressColor:this.getOption("progress_color")}),floater:Utils.compact({controlbarColor:this.getOption("control_bar_color"),iconColor:this.getOption("icon_color"),removeControls:this.getOption("remove_controls")}),playbutton:this.getPlayButtonOptions(),overlayColor:this.getOption("overlay_color"),overlayOpacity:this.getOption("overlay_opacity")})},b.prototype.setAdvertisingOptions=function(){if(this.options.advertising&&!Utils.isEmpty(this.options.advertising)){var a=this.options.advertising;this.advertising=Utils.compact({enabled:!!a.enabled,adServerUrl:a.adserverurl||null,adTimeout:a.adtimeout||"2000",maxAds:a.maxads||"100",adInterval:Utils.isUndefined(a.adinterval)?"0":String(a.adinterval)})}},b.prototype.shallCue=function(a){return Utils.isMobile||a&&!this.autonext||!this.autoplay},b.prototype.play=function(a,b){if("string"==typeof a){var c=this.getAssetById(a);a=c.asset,this.currentIndex=c.index}else this.currentIndex=this.assets.indexOf(a);this.shallCue(b)?this.instance.cueVideo(a):this.instance.loadVideo(a)},b.prototype.controlBarZindex=function(){var a=this.el.querySelector("#ControlBarFloater");a&&a.parentNode&&(a.parentNode.style.zIndex="9999")},b.prototype.getParentSize=function(a){var b=this.el.parentNode,c=null;return"width"===a?c=b.offsetWidth:"height"===a&&(c=b.offsetHeight),c},b.prototype.resize=function(){if(this.getParentSize){var a=arguments[0]||this.getParentSize("width"),b=arguments[1]||this.getParentSize("height"),c=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;this.instance&&!c&&this.instance.resize(a,b),this.initialResize=!1,this.onResize&&this.onResize(this.initialResize,[a,b])}},b.prototype.handleWindowResize=function(){var a=this,b=function(){setTimeout(function(){a.resize.call(a)},0)};window.removeEventListener("resize",b,!1),window.addEventListener("resize",b,!1)},b.prototype.handleClick=function(){var a=this.options.clickDefaultStop,b=this.options.onClick,c=Utils.isFunction(b)?b:function(b){a&&Utils.stopEvent(b)};this.el.removeEventListener("click",c,!1),this.el.addEventListener("click",c,!1)},b.prototype.analyticsConfig=function(){var a=this.config,b=a.loginId,c={domain:location.hostname||"",logUrl:a.api_base_url+"/__tvpa.gif",li:b};a.firstPartyCookies&&a.cookieDomain&&(c.firstPartyCookieDomain=a.cookieDomain),Utils.globalPoll(["_tvpa"],function(){_tvpa.push(["config",c]),a.ciTrack&&_tvpa.push(["track","ci",{li:b}])})},b.prototype.getCurrentAsset=function(){return this.assets[this.currentIndex]},b.prototype.getAssetById=function(a){for(var b,c=this.assets,d=c.length,e=0;e<d;e++){var f=c[e];f.assetId==a&&(b={index:e,asset:f})}return b},b.prototype.onReady=function(a,b){this.onReadyCalled?this.resize.call(this):(this.resize.call(this),this.analyticsConfig(),this.controlBarZindex(),this.handleWindowResize(),this.handleClick(),this.onPlayerReady&&this.onPlayerReady(this))},b.prototype.handleVideoEnded=function(){this.currentIndex++,this.assets[this.currentIndex]||(this.currentIndex=0);var a=this.assets[this.currentIndex];this.play(a,!0),this.onNext&&this.onNext(a)},b.prototype.onStateChange=function(a){if("tvp:media:videoended"===a&&this.handleVideoEnded(),this.onChange){(this.getCurrentAsset()||{}).currentTime=this.instance.getCurrentTime(),this.onChange(a)}},b.prototype.addExtraConfig=function(a){a=a||{};for(var b=["preload","poster","overlay"],c=0;c<b.length;c++){var d=b[c];Utils.isUndefined(this[d])||null===this[d]||(a[d]=this[d])}return a},b.prototype.getConfig=function(){return Utils.compact({techOrder:this.getOption("tech_order"),mediaProviders:this.getOption("media_providers"),analytics:{tvpa:this.getOption("analytics")},apiBaseUrl:this.getOption("api_base_url"),swf:this.flashUrl,divId:this.el.id,controls:this.controls,version:this.version,advertising:this.advertising,preload:this.getOption("preload"),poster:this.getOption("poster"),overlay:this.getOption("overlay")})},b.prototype.startPlayer=function(){var a=this.getConfig(),b=this;Utils.globalPoll(["TVPage"],function(){a.onReady=function(a,c){b.onReady(a,c),b.onReadyCalled=!0},a.onStateChange=function(a){b.onStateChange(a)},b.player=new TVPage.player(a);var c=b.player.options.globalRunId;b.instance=TVPage.instances[c];var d=0,e=b.assets[d];if(b.startWith){var f=b.getAssetById(b.startWith);d=f.index,e=f.asset}b.currentIndex=d,b.play(e,!0)})},b.prototype.getChannelId=function(){var a=0,b=this.config;return b.channel?a=b.channel.id:b.channelId?a=b.channelId:b.channelid&&(a=b.channelid),a},b.prototype.createAsset=function(a){if(Utils.isEmpty(a))return{};var b=a.asset;return b.assetId=a.id,b.assetTitle=a.title,b.loginId=a.loginId,b.type=b.type||"youtube",b.analyticsObj={pg:a.parentId||this.getChannelId(),vd:b.assetId,li:b.loginId},b.sources=b.sources||[{file:b.videoId}],b},b.prototype.addAssets=function(a){a=a||[];for(var b=a.length,c=0;c<b;c++){var d=a[c];this.getAssetById(d.id)||this.assets.push(this.createAsset(d))}},b.prototype.setConfig=function(a){this.version=this.getOption("player_version"),this.flashUrl="//cdnjs.tvpage.com/tvplayer/tvp-"+this.version+".swf",this.autoplay=this.getOption("autoplay"),this.autonext=this.getOption("autonext"),this.onChange=this.getCallableOption("onChange"),this.onResize=this.getCallableOption("onResize"),this.onNext=this.getCallableOption("onNext"),this.onPlayerReady=this.getCallableOption("onPlayerReady"),this.onClick=this.getCallableOption("onClick")},b.prototype.initialize=function(){this.setControlsOptions(),this.setAdvertisingOptions(),this.setConfig(),this.addAssets(this.options.data),this.startPlayer()},window.Player=b}(),function(a,b){function c(a){a.hasOwnProperty("data-simple-scrollbar")||Object.defineProperty(a,"data-simple-scrollbar",new SimpleScrollbar(a))}function d(a,c){function d(a){var b=a.pageY-f;f=a.pageY,g(function(){c.el.scrollTop+=b/c.scrollRatio})}function e(){a.classList.remove("ss-grabbed"),b.body.classList.remove("ss-grabbed"),b.removeEventListener("mousemove",d),b.removeEventListener("mouseup",e)}var f;a.addEventListener("mousedown",function(c){return f=c.pageY,a.classList.add("ss-grabbed"),b.body.classList.add("ss-grabbed"),b.addEventListener("mousemove",d),b.addEventListener("mouseup",e),!1})}function e(a){for(this.target=a,this.bar='<div class="ss-scroll">',this.wrapper=b.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=b.createElement("div"),this.el.setAttribute("class","ss-content"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,d(this.bar,this),this.moveBar(),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var c=window.getComputedStyle(a);"0px"===c.height&&"0px"!==c["max-height"]&&(a.style.height=c["max-height"])}function f(){for(var a=b.querySelectorAll("*[ss-container]"),d=0;d<a.length;d++)c(a[d])}var g=a.requestAnimationFrame||a.setImmediate||function(a){return setTimeout(a,0)};e.prototype={moveBar:function(a){var b=this.el.scrollHeight,c=this.el.clientHeight,d=this;this.scrollRatio=c/b,g(function(){d.scrollRatio>=1?d.bar.classList.add("ss-hidden"):(d.bar.classList.remove("ss-hidden"),d.bar.style.cssText="height:"+100*d.scrollRatio+"%; top:"+d.el.scrollTop/b*100+"%;right:-"+(d.target.clientWidth-d.bar.clientWidth)+"px;")})}},b.addEventListener("DOMContentLoaded",f),e.initEl=c,e.initAll=f,a.SimpleScrollbar=e}(window,document),function(a,b){function c(c,d){var e=this;this.dataMethod=b.body.classList.contains("dynamic")?"dynamic":"static",this.allVideos=[],this.init=function(){e.render(),e.cacheDOM(),e.bindMenuEvent(),e.bindClickEvent(),e.bindLoadMoreEvent(),e.hideMenuEvents(),e.listenToResize()},this.cacheDOM=function(){e.hiddenMenu=b.getElementById("tvp-hidden-menu"),e.scrollMenu=b.querySelectorAll(".ss-content")[0],e.tvpVid=b.querySelectorAll(".tvp-video"),e.hamburguer=b.getElementById("tvp-hamburger-container"),e.toggles=b.querySelectorAll(".tvp-hamburger"),e.payerCont=b.querySelectorAll(".tvp-player")[0],e.noVideosContainer=b.getElementById("tvp-no-videos-container"),e.tvpNoVideos=b.getElementsByClassName("tvp-no-videos"),e.scrollBar=b.getElementsByClassName("ss-scroll")[0],e.slideMenu=b.getElementById("tvp-slide-menu")},this.render=function(){var a=d.data||[];if(!(a.length<1)){e.fullScreenMenu();var c=b.getElementsByClassName("tvp-video-details"),f=b.getElementById("tvp-hidden-menu"),g=b.createElement("div"),h=b.createElement("div");g.setAttribute("id","tvp-clearfix"),h.setAttribute("id","tvp-no-videos-container"),f.appendChild(h),f.insertBefore(g,h),e.vidCount=0;for(var i=0;i<a.length;i++){e.vidCount++;var j=a[i];if(e.allVideos.push(j),j.title=Utils.trimText(j.title,100),j.duration=Utils.formatDuration(j.duration),g.innerHTML+=Utils.tmpl(d.templates["menu-item"],j),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var k=d.menu_item_play_category_tag_attribute,l=j[k];if(l){l=l.replace(/_/g," ");var m=b.createDocumentFragment(),n=b.createElement("div");n.classList.add("tvp-category-tag"),n.innerHTML+=l,m.appendChild(n),c[i].appendChild(m)}}if("static"!==e.dataMethod&&a.length>4){var o=b.createDocumentFragment(),p=b.createElement("div");p.classList.add("tvp-no-videos"),o.appendChild(p),h.appendChild(o)}}"static"===e.dataMethod&&(e.videoCountP=b.createTextNode(e.vidCount+" "+(e.vidCount>2?"videos":"video")),e.tvpVideoCount=b.querySelectorAll(".tvp-video-count")[0],e.tvpVideoCount.appendChild(e.videoCountP)),f.style.cssText="height:"+(b.querySelectorAll(".tvp-player")[0].offsetHeight-40)+"px;",SimpleScrollbar.initAll()}},this.bindMenuEvent=function(){for(var a=e.toggles.length-1;a>=0;a--)e.toggles[a].onclick=function(){var a=c.assets[c.current];e.setActiveItem(a.assetId),e.toggleMenu()}},this.bindLoadMoreEvent=function(a){e.scrollMenu.addEventListener("scroll",Utils.debounce(function(){var a=e.scrollMenu.scrollTop,b=e.hiddenMenu.clientHeight-e.scrollMenu.scrollHeight,c=100*a/b;c=Math.round(c),(c=Math.abs(c))>=50&&c<=100&&"dynamic"==e.dataMethod&&e.loadMore()},30))},this.bindClickEvent=function(){for(var a=e.tvpVid.length-1;a>=0;a--)e.videoClick(e.tvpVid[a])},this.toggleMenu=function(){e.slideMenu.classList.contains("active")?e.slideMenu.classList.remove("active"):e.slideMenu.classList.add("active")},this.hideMenu=function(){e.slideMenu.classList.remove("active")},this.hideMenuEvents=function(){var a=b.getElementsByClassName("tvp-overlay")[0];a&&(a.onclick=function(){e.hideMenu()})},this.fullScreenMenu=function(){var a="static"===e.dataMethod?b.getElementById("tvp-player-el"):b.getElementsByClassName("tvp-player-el")[0],c=a.getElementsByTagName("iframe");if(c.length){var f=b.createDocumentFragment(),g=b.createElement("div");g.setAttribute("id","tvp-slide-menu"),g.innerHTML=d.templates.menu,f.appendChild(g),c[0].parentNode.insertBefore(f,c[0].nextSibling)}},this.listenToResize=function(){function b(){var a=e.payerCont.clientHeight-40+"px;";e.hiddenMenu.style.cssText="height:"+a;var b=e.scrollMenu.scrollHeight,c=e.scrollMenu.clientHeight,d=c/b;e.scrollBar.style.cssText+="height:"+Math.floor(100*d)+"%;top:"+e.scrollMenu.scrollTop/b*100+"%;right:-"+(e.hiddenMenu.clientWidth-9)+"px;"}a.removeEventListener("resize",b,!1),a.addEventListener("resize",b,!1)},this.update=function(a){var c=d.data||[];if(e.noVideosContainer){e.deleteDivs();for(var f=0;f<a.length;f++)if(c[f],e.allVideos.push(a[f]),d.data.push(a[f]),e.noVideosContainer.setAttribute("id","tvp-clearfix"),a[f].duration=Utils.formatDuration(a[f].duration),e.noVideosContainer.innerHTML+=Utils.tmpl(d.templates["menu-item"],a[f]),e.scrollMenu.appendChild(e.noVideosContainer),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var g=(d.menu_item_play_category_tag_attribute,a[f][d.menu_item_play_category_tag_attribute]);if(g){g=g.replace(/_/g," ");var h=b.createDocumentFragment(),i=b.createElement("div");i.classList.add("tvp-category-tag"),i.innerHTML+=g,h.appendChild(i),e.noVideosContainer.getElementsByClassName("tvp-video-details")[f].appendChild(h)}}}else for(var j=b.createDocumentFragment(),k=b.createElement("div"),f=0;f<a.length;f++)if(c[f],e.allVideos.push(a[f]),d.data.push(a[f]),k.setAttribute("id","tvp-clearfix"),a[f].duration=Utils.formatDuration(a[f].duration),k.innerHTML+=Utils.tmpl(d.templates["menu-item"],a[f]),j.appendChild(k),e.scrollMenu.appendChild(k),Utils.isset(d,"menu_item_play_category_tag_attribute")&&(""+d.menu_item_play_category_tag_attribute).trim().length){var g=(d.menu_item_play_category_tag_attribute,a[f][d.menu_item_play_category_tag_attribute]);if(g){g=g.replace(/_/g," ");var h=b.createDocumentFragment(),i=b.createElement("div");i.classList.add("tvp-category-tag"),i.innerHTML+=g,h.appendChild(i),k.getElementsByClassName("tvp-video-details")[f].appendChild(h)}}e.cacheDOM(),e.bindClickEvent()},this.deleteDivs=function(){for(var a=e.tvpNoVideos.length-1;a>=0;a--)e.noVideosContainer.removeChild(e.tvpNoVideos[a])},this.clearActiveItems=function(){for(var a=e.tvpVid.length-1;a>=0;a--)e.tvpVid[a].classList.contains("active")&&e.tvpVid[a].classList.remove("active")},this.setActiveItem=function(a){for(var b=e.tvpVid.length-1;b>=0;b--){var c=e.tvpVid[b];c.id.split("-").pop()!==a||c.classList.contains("active")||(this.clearActiveItems(),c.classList.add("active"))}},this.videoClick=function(a){a.onclick=function(){if(this.classList.contains("tvp-video")){e.clearActiveItems(),this.classList.add("active");var a=this.id.split("-").pop(),b=e.allVideos.filter(function(b){return b.id===a});c.play(c.createAsset(b[0])),e.toggleMenu()}}}}a.Menu=c}(window,document),function(a){function b(){a.body.classList.contains("dynamic")&&function(b,g){var h=null,k=null,l=JSON.parse(JSON.stringify(g)),m=JSON.parse(JSON.stringify(g)),n=Utils.isset(g,"playlist")?g.playlist:null;j(b,a.body),i(g,b,function(a){if(a&&a.length){if(window.parent&&window.parent.postMessage({event:("tvp_"+g.id).replace(/-/g,"_")+":render"},"*"),"show"===n&&n){var j=function(){m.data=a||[],k=new Menu(h,m)},o=function(){var a=h.assets[h.current];k.setActiveItem(a.assetId),k.hideMenu()};Menu.prototype.loadMore=function(){e||f||(c++,f=!0,i(g,b,function(a){f=!1,e=!a.length||a.length<d,h.addData(a),k.update(a)}))}}l.data=a.data,selectedVideo=a[0],h=new Player("tvp-player-el-"+b,{startWith:selectedVideo.id,data:a,onNext:o,onPlayerReady:j},l),h.initialize()}})}(Utils.random(),h("dynamic"))}var c=0,d=6,e=!1,f=!1,g=function(b,c){var d=a.createElement("script");if(d.src=b.src,c&&"function"==typeof c){window[b.cbName||"callback"]=c;(b.body||a.body).appendChild(d)}},h=function(b){var c=function(a){if(Utils.isset(a)&&Utils.isset(a,"__TVPage__")&&Utils.isset(a.__TVPage__,"config"))return a.__TVPage__.config},d={};if("dynamic"===b){var e=c(parent),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}else if("inline"===b&&b&&b.length){var e=c(parent);d=e[b],d.name=b}else if("static"===b){var e=c(window),f=a.body.getAttribute("data-id");if(!Utils.isset(e,f))return;d=e[f],d.name=f}return d},i=function(a,b,e){return g({src:function(){var e=a.channel||{},f=e.parameters||{},g=a.api_base_url+"/channels/"+(e.id||a.channelid||a.channelId)+"/videos?X-login-id="+(a.loginid||a.loginId);for(var h in f)g+="&"+h+"="+f[h];return g+="&n="+d+"&p="+c,g+="&callback="+b}(),cbName:b},e)},j=function(b,c){if(b&&c){var d=a.createDocumentFragment(),e=a.createElement("div");e.classList.add("tvp-player"),e.innerHTML='<div id="tvp-player-el-'+b+'" class="tvp-player-el"></div></div>',d.appendChild(e),c.appendChild(d)}},k=function(a){return void 0===a};if(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar)){var l=0;!function a(){setTimeout(function(){(k(window.Utils)||k(window.Player)||k(window.Menu)||k(window.SimpleScrollbar))&&++l<50?a():b()},150)}()}else b()}(document);