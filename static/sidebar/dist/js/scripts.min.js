!function(a,b){function c(){this.getByClass=function(a){return b.getElementsByClassName(a||"")[0]},this.isset=function(a,b){if(arguments.length){var c=a;return b&&(c=a[b]),void 0!==c}},this.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},this.trimText=function(a,b){var c=a||"",d=b?Number(b):0;return a.length>d&&(c=c.substring(0,Number(d))+"..."),c},this.trimPrice=function(a){var b=a||"";return b=b.toString().replace(/[^0-9.]+/g,""),b=parseFloat(b).toFixed(2),b=b>0?"$"+b:""},this.tmpl=function(a,b){if(a&&"object"==typeof b)return a.replace(/\{([\w\.]*)\}/g,function(a,c){for(var d=c.split("."),e=b[d.shift()],f=0,g=d.length;f<g;f++)e=e[d[f]];return void 0!==e&&null!==e?e:""})}}a.Utils=new c}(window,document),function(a,b){function c(c,f){this.xchg=f.xchg||!1,this.windowSize=(a.innerWidth||b.documentElement.clientWidth||b.body.clientWidth)<=200?"small":"medium",this.initialResize=!0;var g="small"==this.windowSize;this.itemsPerPage=g?2:f.itemsPerPage||6,this.itemsPerRow=g?1:f.itemsPerRow||2,this.loginId=f.loginId||f.loginid||0,this.channel=f.channel||{},this.loading=!1,this.isLastPage=!1,this.page=0,this.el="string"==typeof c?b.getElementById(c):c,this.loadBtn=this.el.getElementsByClassName("tvp-sidebar-load")[0],this.container=this.el.getElementsByClassName("tvp-sidebar-container")[0],this.onLoad=f.onLoad&&e(f.onLoad)?f.onLoad:null,this.onLoadEnd=f.onLoadEnd&&e(f.onLoadEnd)?f.onLoadEnd:null,this.onItemClick=f.onItemClick&&e(f.onItemClick)?f.onItemClick:null,this.render=function(){this.container.innerHTML="";for(var c=this.data.slice(0),d=[];c.length;)d.push(c.splice(0,this.itemsPerPage));for(var e=0;e<d.length;e++){for(var f=d[e],g=[];f.length;)g.push(f.splice(0,this.itemsPerRow));for(var i=b.createDocumentFragment(),j=0;g.length>j;j++){var k=b.createElement("div");k.classList.add("tvp-clearfix");for(var l=g[j],m=0;m<l.length;m++){var n=l[m],o="";void 0!==n.entity&&(o+=" tvp-exchange"),"medium"===h.windowSize&&this.itemsPerRow>1&&(o+=" col-6"),n.className=o;var p=b.getElementById("gridItemTemplate"),q='<div id="tvp-video-{id}" class="tvp-video{className}"><div class="tvp-video-image" style="background-image:url({asset.thumbnailUrl})"><svg class="tvp-video-play" viewBox="0 0 200 200" alt="Play video"><polygon points="70, 55 70, 145 145, 100"></polygon></svg></div><p class="tvp-video-title">{title}</p></div>';p&&(q=p.innerHTML),n.title=Utils.trimText(n.title,50),k.innerHTML+=Utils.tmpl(q,n)}i.appendChild(k)}this.container.appendChild(i),a.parent&&a.parent.postMessage({event:"tvp_sidebar:render",height:h.el.offsetHeight+"px"},"*")}};var h=this;this.load=function(c){h.loading=!0,this.onLoad&&this.onLoad();var e=function(c){var e=h.channel||{};if(!d(e)&&e.id){var g=e.parameters||{},i="//api.tvpage.com/v1/channels/"+e.id+"/videos?X-login-id="+h.loginId;for(var j in g)i+="&"+j+"="+g[j];var k=f.callbackName||"tvp_"+Math.floor(555*Math.random());i+="&p="+h.page+"&n="+h.itemsPerPage+"&callback="+k;var l=b.createElement("script");l.src=i,a[k||"callback"]=c,b.body.appendChild(l)}};if(this.xchg){var g=new XMLHttpRequest;g.open("GET","//api2.tvpage.com/prod/channels?X-login-id=1",!0),g.onreadystatechange=function(){g.readyState==XMLHttpRequest.DONE&&e(function(a){var b=[];if(200===g.status){b=g.responseText;for(var d=b.length;d>0;){var e=b[d-1];e=$.extend(e,e.entity),d--}}a.length||(h.isLastPage=!0),h.data=a,c(a.concat(b)),h.loading=!1,h.onLoadEnd&&h.onLoadEnd()})},g.send({p:0,n:1e3,si:1,li:1,"X-login-id":1})}else e(function(a){(!a.length||a.length<h.itemsPerPage)&&(h.isLastPage=!0),h.data=a,c(a),h.loading=!1,h.onLoadEnd&&h.onLoadEnd()})},this.next=function(){this.isLastPage?(this.page=0,this.isLastPage=!1):this.page++},this.resize=function(){var c=(a.innerWidth||b.documentElement.clientWidth||b.body.clientWidth)<=200?"small":"medium",d=function(){h.initialResize||a.parent&&a.parent.postMessage({event:"tvp_sidebar:resize",height:h.el.offsetHeight+"px"},"*")};if(h.windowSize!==c){h.windowSize=c;var e="small"===c;h.itemsPerPage=e?2:f.itemsPerPage||6,h.itemsPerRow=e?1:f.itemsPerRow||2,h.page=0,h.isLastPage=!1,h.load(function(){h.render(),d()})}else d();h.initialResize=!1},this.el.onclick=function(b){var c=b.target;if(c.classList.contains("tvp-video")){for(var d=c.id.split("-").pop(),e={},f=h.data,g=0;g<f.length;g++)f[g].id===d&&(e=f[g]);a.parent&&a.parent.postMessage({runTime:void 0!==a.__TVPage__?__TVPage__:null,event:"tvp_sidebar:video_click",selectedVideo:e,videos:f},"*")}},this.loadBtn.onclick=function(){h.loading||(h.next(),h.load(function(a){a.length?h.render(a):(h.next(),h.load(function(a){h.render(a)}))}))},this.load(function(a){h.render(a)}),a.addEventListener("resize",Utils.debounce(this.resize,100))}var d=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},e=function(a){return"function"==typeof a};a.Grid=c}(window,document),function(a,b){var c=function(a,b){var c=a;return b&&(c=a[b]),void 0!==c},d=function(d){var e=function(a){if(c(a)&&c(a,"__TVPage__")&&c(a.__TVPage__,"config"))return a.__TVPage__.config},f={};if("dynamic"===d){var g=e(parent),h=b.body.getAttribute("data-id");if(!c(g,h))return;f=g[h],f.name=h}else if("inline"===d&&d&&d.length){var g=e(parent);f=g[d],f.name=d}else if("static"===d){var g=e(a),h=b.body.getAttribute("data-id");if(!c(g,h))return;f=g[h],f.name=h}return f},e=function(a,c){if(a){var d=b.createDocumentFragment(),e=b.createElement("div"),f=c||{};e.id=f.id||"",e.classList.add("iframe-content"),e.innerHTML='<div class="tvp-sidebar-title">'+(f.title||"")+'</div><div class="tvp-sidebar-container"></div><div class="tvp-sidebar-footer"><button class="tvp-sidebar-load">'+(f.loadBtnText||"")+'</button><a class="tvp-logo" target="_blank" href="https://www.tvpage.com/"><div class="tvp-logo-img"></div></a></div><div class="tvp-cover"></div>',d.appendChild(e),a.appendChild(d)}},f=b.body,g=function(){f.classList.contains("dynamic")?function(a){var c=JSON.parse(JSON.stringify(a)),d=a.name;e(f,{id:d,title:a.title||"Recommended Videos",loadBtnText:a.loadBtnText||"View More"});var g=b.getElementById(d);c.onLoad=function(){g.classList.add("loading")},c.onLoadEnd=function(){g.classList.remove("loading")},new Grid(d,c)}(d("dynamic")):function(a){var c=JSON.parse(JSON.stringify(a)),d=a.name,e=b.getElementById(d);c.onLoad=function(){e.classList.add("loading")},c.onLoadEnd=function(){e.classList.remove("loading")},new Grid(d,c)}(d("static"))};if(void 0===a.Grid){var h=0;!function b(){setTimeout(function(){void 0===a.Grid?++h<50&&b():g()},150)}()}else g();var i=function(a){return void 0===a};if(i(a.Grid)||i(a.Utils)){var j=0;!function b(){setTimeout(function(){i(a.Grid)||i(a.Utils)?++j<50&&b():g()},150)}()}else g()}(window,document);