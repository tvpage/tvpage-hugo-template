!function(){function a(){Utils.sendMessage({event:f.events.resize,height:Utils.getWidgetHeight()})}function b(){function a(a){return a.title=Utils.trimText(a.title,25),a}function b(){Utils.remove(Utils.getById("skeleton").querySelector(".videos-skel-delete")),Utils.removeClass(e.el,"hide-abs"),Utils.addClass(document.body,"widget-ready"),f.profiling.widget_ready=Utils.now("parent"),Utils.sendProfileData(f)}function c(a){f.channel.videos=f.channel.videos.concat(a)}function h(a){a&&a.target&&f.modalReady&&(Utils.sendMessage({event:f.events.modal.open,clicked:Utils.attr(Utils.getRealTargetByClass(a.target,"video"),"data-id")}),f.profiling.modal_ready={start:Utils.now("parent")})}e=new Grid("videos",{data:d,templates:{list:g.videos.list,item:g.videos.item},parse:a,onReady:b,onClick:h,onLoad:c},f),e.initialize(),e.render()}function c(){analytics=new Analytics({domain:location.hostname},f),analytics.initialize(),analytics.track("ci")}var d,e,f=window.parent.__TVPage__.config[Utils.attr(document.body,"data-id")],g=f.templates;Utils.poll(function(){var a=f.channel.videos;return a&&a.length},function(){d=f.channel.videos,Utils.globalPoll(["Utils","Analytics","Grid"],function(){c(),b(),a();var d=!0;window.addEventListener("resize",function(){if(d)return void(d=!1);a()})});var e=Utils.getById("widget-title");e.innerHTML=f.title_text,Utils.addClass(e,"ready")})}();